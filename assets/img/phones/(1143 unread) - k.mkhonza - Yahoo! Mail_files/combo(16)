YUI.add("minty_module_toolbar_fragments_reply_group_conv",function(A){A.namespace("ui.Templates");A.ui.Templates.minty_module_toolbar_fragments_reply_group_conv={base:"{{reply_group}}",reply_group:'<span class="btn onemsg s-tp reply" role="button" title="{{str_reply_attr}}" data-action="reply_sender"> <i class="icon-reply"></i> </span> <span class="btn onemsg s-tp reply-all" role="button" title="{{str_reply_to_conv_attr}}" data-action="reply_all"> <i class="icon-reply-all"></i> </span> <span class="btn onemsg s-tp forward" role="button" title="{{str_forward_conv_attr}}" data-action="forward"> <i class="icon-forward"></i> </span> <span class="bevel_divider reply_group_divider"></span>'};},"1.0.0");YUI.add("minty_module_toolbar_inbox_message_thread",function(A){A.namespace("ui.Templates");A.ui.Templates.minty_module_toolbar_inbox_message_thread={base:'<div id="pagetoolbar" class="{{msgliststate}} threadtoolbar"> {{from_search}} {{has_divider}} {{minty_module_toolbar_fragments_reply_group_conv}} <span class="btn multimsg" role="button" title="{{str_delete_conv_attr}}" data-action="delete"> <i class="icon-delete"></i><span class="icon-text">{{str_delete}}</span> </span> <span class="btn multimsg" id="btn-move" role="button" aria-haspopup="true" title="{{str_move_conv_attr}}" data-action="menu"> <i class="icon-move"></i><span class="icon-text">{{str_move}}</span><b class="icon icon-chevron-down"></b> </span> {{has_spam_button}} <span class="btn" id="btn-actions" role="button" aria-haspopup="true" title="{{str_actions_conv_attr}}" data-action="menu"> <i class="icon-more"></i><span class="icon-text">{{str_more}}</span><b class="icon icon-chevron-down"></b> </span> {{msg_nav_arrows}}</div>',from_search:'<span id="back-search"> <a href="#" class="btn" id="btn-back-to-search" title="{{str_srch_back}}" data-action="closemsg"> <i class="icon-arrow-left"></i> <span class="icon-text">{{str_srch_result}}</span> </a> <span class="bevel_divider"></span> </span> ',has_divider:'<span class="bevel_divider"></span>',spam_menu:'<span class="btn multimsg" id="main-btn-spam" role="button" title="{{str_spam_attr}}" data-action="{{spam_data_action}}"> <i class="icon-spam"></i><span class="icon-text">{{str_spam}}</span> </span> <span class="btn multimsg" id="btn-spam" role="button" aria-haspopup="true" title="{{str_menu_spam_toggle_attr}}" data-action="menu"> <b class="icon icon-chevron-down"></b> </span> ',spam_menu_else:'<span class="btn multimsg" role="button" title="{{str_spam_attr}}" data-action="{{spam_data_action}}"> <i class="icon-spam"></i><span class="icon-text">{{str_spam}}</span> </span> ',has_spam_button:"{{spam_menu}} {{spam_menu_else}} ",cancellable:'<a href="#" class="btn btn-absolute btn-close-msg s-tp" id="btn-closemsg" title="{{str_close}}" data-action="closemsg"><i></i></a> ',msg_nav_arrows:'<span class="bevel_divider"></span> <span class="btn toggle-thread thread-cards-expanded" title="{{str_collapse_all_attr}}" data-action="thread-toggle"> <i class="icon-collapse-list"></i><span class="text icon-text">{{str_collapse_all}}</span> </span> <a href="#" class="btn btn-absolute btn-prev-msg s-tp" id="btn-prev-msg" title="{{str_previous_attr}}" data-action="prev"><i></i></a> <a href="#" class="btn btn-absolute btn-next-msg s-tp" id="btn-next-msg" title="{{str_next_attr}}" data-action="next"><i></i></a> {{cancellable}} '};},"1.0.0",{requires:["minty_module_toolbar_fragments_reply_group_conv"]});YUI.add("comms-ui-menu-base",function(C){var D="menu-active",K="menu-active-item",H="menu-visible",E="menu-visible-path",L="role",I="aria-hidden",M=15500,B=C.Lang,A=C.one,G=80,F=40;function J(q){var T=this,r=A("body").getStyle("direction")==="rtl",y,e=q.button_enabled,l=q.xy||[0,0],n=q.isContext||false,j=q.contextTarget||null,m=q.alignToTarget||false,c=[],Q=[],s,o=null,a=null,Y=-1,R=q.flushLeft,W=C.one("body").get("clientWidth"),t=C.one("body").get("clientHeight"),S=false;function w(){T._link=q.host;y=T._root=O(q.menu);T.dontFocus=q.dontFocus||false;if(!T.dontFocus){T._root.setAttribute("tabIndex",-1);}T._evt=[];T._tmFocus=null;T._fixedMenuGroup=q.fixedMenuGroup;T._overlap=q.overlap||false;T._offset=q.offset||{x:0,menuUpY:0,menuDownY:0};T.closeMenu=C.Lang.isUndefined(q.closeMenu)?true:q.closeMenu;z();U(y,T._link);T.setAriaAttrs(y);g(q.keys);AA(q.enterAccel);k();}function k(AG){var AF=y.all("li");if((AG)||(AF&&AF.size()!==Y)||(Q[0]&&!Q[0].inDoc())){p(AF);}}function p(AG){var AF,AH,AI;Y=0;Q=[];AG.each(function(AJ){Y++;if(AJ.getStyle("display")!=="none"&&!AJ.hasClass("disabled")){Q.push(AJ);if(a){AF=AJ.one("em");if(AF){AH=AF.get("childNodes");if(AH){AI=AH.item(0);if(AI){if(a===AI.get("text")){o=AJ;}}}}}}});y.all("li."+K).removeClass(K);}function U(AG,AF){AF.set("aria-haspopup","true");AG.setAttrs({"role":"menu","aria-labelledby":AF.getAttribute("id"),"aria-hidden":"true"});}function O(AH){var AF,AG=AH instanceof C.Node;if(AG||(typeof AH==="string")){if(AG){AF=AH;}else{A("body").append(AH);AF=A("body").get("lastChild");}}AF.setStyles({"position":"absolute","zIndex":M});return AF;}function d(AG,AQ){var AT,AV,AI,AH,AR=A("window"),AL=AR.get("winHeight"),AP=AQ,AF,AM,AO="",AU,AN,AS,AJ=T._fixedMenuGroup,AK=null;if(AG===T._root&&(!e||e())){if(T._link.inDoc()){AT=T._link.get("region");if(n){if(m){X(T._link);AP=null;}if(AL>F){AU=AL-F;}if(AU<G){AU=G;}AG.setStyles({maxHeight:AU,overflowX:"hidden",overflowY:"auto",opacity:0});AV=P(AP);j=(AQ&&AQ.target)||j;}else{if(AJ){AK=AG.one("#"+AJ.menu);AK.setStyle("maxHeight",AJ.height+"px");}AG.setStyles({visibility:"hidden",display:"block",top:0,maxHeight:"none",opacity:0});AI=AG.get("region").height;AH=AR.get("scrollTop");AN=AT.top-AH;AS=AL-(AT.bottom-AH);if(AS>=AN){AO="below";}else{if(AI>AS){AO="above";}}AU=T._setMaxHeight(AN,AS,AI,AO);AV=T._setPosition(AT,AO,AI,AU);AG.setStyles({maxHeight:AU,overflowX:"hidden",overflowY:"auto"});if(AK){if(AU<AG.get("scrollHeight")){AK.setStyle("maxHeight","none");}}AF=AG.get("winWidth");if(AF){if((AT.left+AG.get("region").width)>AF){AV.left="auto";AV.right="0px";}}if(r||R){AM=Math.max(((AT.left+AT.width)-(AG.get("region").width)),0);AV.left=AM+"px";if(AF>(AT.left+AT.width)){AV.right="auto";}if(C.UA.ie===7){delete AV.right;AV.left=(AM-C.one("window").get("scrollLeft"))+"px";}}AV.visibility="visible";}k();s=-1;if(r&&C.UA.ie===7){AV.width=AG.get("region").width+"px";}AG.setStyles(AV);AG.setStyle("opacity",1);if(!T.dontFocus){AG.focus();}}}}function N(AJ,AI,AK,AH){var AG={"top":AJ.bottom,"left":AJ.left,"right":"auto"};var AF;if(AI==="below"){if(T._overlap){AG.top=AJ.top+T._offset.menuDownY;}AG.left+=T._offset.x;}else{if(AI==="above"){if(T._overlap){AF=AJ.bottom+T._offset.menuUpY;}else{AF=AJ.top;}AG.left+=T._offset.x;AG.top=(AF-((AK<AH)?AK:AH))+"px";}else{if(T._overlap){AG.top=AJ.top;}AG.left+=T._offset.x;AG.top+=T._offset.menuDownY;}}return AG;}function AD(AG,AF,AJ,AI){var AH;if(AI==="below"){AH=AF-F;if(AH<G){AH=G;}}else{if(AI==="above"){AH=AG-F;if(AH<G){AH=G;}}else{AH=AJ;}}return AH;}function X(AF){var AG=AF.getXY(),AH=parseInt(AF.getStyle("height"),10)||20;l=(C.Lang.isNumber(AH))?[AG[0],AG[1]+AH]:AG;return l;}function P(AK){var AG=T._root,AO,AM,AL,AN,AJ,AP=15,AH,AI=T._link.get("winHeight"),AF=0;AM=(AK)?AK.clientX:l[0];AL=(AK)?AK.clientY:l[1];AG.setStyles({"display":"block","bottom":"auto","left":-1000,"right":"auto"});AH=parseInt(AG.get("region").height,10);AN=(AI-AP-AL)<AH;AJ=(T._link.get("winWidth")-AP-AM)<parseInt(AG.get("region").width,10);AO={"top":AL+AF,"left":AM};if(AN){AO.top=AI+AF-AH-AP;}if(AJ){AO.left="auto";AO.right=AP+"px";}return AO;}function V(AF){AF.setStyle("display","none");AF.removeClass(H);if(AF.hasClass(D)){AF.removeClass(D);}if(AF!==T._root){AF.get("parentNode").removeClass(E);}Q[s]&&Q[s].removeClass(K);}function Z(AF){var AG;if(AF){AG=(C.Node.getDOMNode(C.one(AF))).nodeName;AG=AG.toUpperCase();switch(AG){case"LI":return AF;default:return AF.ancestor("li");}}}function AC(AH){var AG,AF;AG=Z(AH.target);if(!AG){return;}AF=s;s=C.Array.indexOf(Q,AG);if(s>=0){h(AF,s);}else{s=AF;}}function AB(AI){var AH=s,AG=AI.target,AF;S=true;switch(AI.keyCode){case 38:case 40:AI.halt();AE(AI,AH);AF=Q[s];AF&&AF.one("a").focus();break;case 27:T.hide();AI.halt();if(!n){T._link.one("a").focus();}break;case 13:C.use("node-event-simulate",function(){if(AG.get("nodeName").toLowerCase()==="a"){AG.simulate("click");AI.halt();T.hide();}else{if(o){o.one("a").simulate("click");T.hide();}}});break;default:if((c.length>0)&&x(AI)){T.hide(AI);}else{AI.halt();}}}function f(AF){if(S){S=false;return;}switch(AF.keyCode){case 38:case 40:AF.halt();break;}}function AE(AG,AF){if(AG.keyCode===40){s=(s===Q.length-1)?0:s+1;h(AF,s);}else{if(AG.keyCode===38){s=(s<=0)?(Q.length-1):s-1;h(AF,s);}}}function h(AG,AH){var AF,AI=this;if((AF=Q[AG])){AF.removeClass(K);if(!AI.dontFocus){AF.one("a").set("tabIndex",-1);}}if((AF=Q[AH])){AF.addClass(K);if(!AI.dontFocus){AF.one("a").set("tabIndex",0);}}}function x(AM){var AL,AG,AI,AH,AF,AK,AJ;if(AM.ctrlKey||AM.metaKey||AM.altKey||AM.shiftKey){for(AH=0;AH<c.length;AH++){if((AG=(c[AH]+"").split("+"))&&(AG.length>1)){AK=0;for(AF=0;AF<AG.length;AF++){AI=AG[AF];AJ=(AI.toLowerCase()==="cmd"?"metaKey":AI.toLowerCase()+"Key");if((B.isNumber(AI*1)&&(AI*1!==AM.keyCode))||(!B.isNumber(AI*1)&&!AM[AJ])){break;}else{AK++;}}if(AG.length===AK){AL=true;break;}}}}else{if(C.Array.indexOf(c,AM.keyCode)>-1){AL=true;}}return AL;}function v(AF){c=AF;}function g(AF){if(B.isArray(AF)){v(AF);}else{if(B.isFunction(AF)){AF.call(this,v);}else{if(B.isString(AF)){v([AF]);
}}}}function AA(AF){if(AF){if(B.isFunction(AF)){AF.call(this,b);}else{if(B.isString(AF)){b([AF]);}}}}function b(AF){a=AF;}function z(){if(n){T._evt.push(T._link.on("mousedown",function(){T.hide();},T));T._evt.push(T._link.on("contextmenu",function(AG){T.toggle(AG);},T));}else{T._evt.push(T._link.on("mousedown",function(AG){AG.halt();T.toggle(AG);},T));T._evt.push(T._link.on("keydown",function(AG){if(AG.keyCode===13||AG.keyCode===32){AG.preventDefault();T.toggle(AG);}},T));}function AF(){if(!T.isVisible()){return;}T.tmFocus&&T.tmFocus.cancel();T._tmFocus=B.later(0,T,function(){try{var AH=C.one("document").get("activeElement"),AJ=AH.get("nodeName"),AG;if(AJ!=="EMBED"&&AJ!=="OBJECT"){AG=AH.getAttribute("embed-type");if(AG!=="menu"){T.hide();}}}catch(AI){typeof globals!=="undefined"&&globals.report?globals.report("caughterror:..-build-comms-shared-src-ui-menu-js-menu:1",AI,"TRY_CATCH",1,1,1):window.console&&console.log&&console.log("caughterror:..-build-comms-shared-src-ui-menu-js-menu:1");}});}T._evt.push(T._root.on("blur",AF,T));T._evt.push(C.on("windowresize",function(){var AG=C.one("body").get("clientWidth");var AH=C.one("body").get("clientHeight");if(AG!==W||AH!==t){W=AG;t=AH;AF();}},T));T._evt.push(T._root.on("focus",function(){T._tmFocus&&T._tmFocus.cancel();},T));T._evt.push(T._root.on("keydown",AB,T));T._evt.push(T._root.on("keypress",f,T));T._evt.push(T._root.on("mouseover",AC,T));T._evt.push(T._root.on("menu:changed",function(){p(y.all("li"));}));}function u(){return y;}function i(){return j;}w();C.mix(T,{setVisible:d,_setPosition:N,_setMaxHeight:AD,hideMenu:V,checkDescendants:k,getMenuNode:u,getContextTarget:i,selectMenuItem:function(){if(this.simulate){this.simulate("mouseover");}},getHost:function(){return T._link;}});}J.prototype={_detachHdlr:null,setAriaAttrs:function(O){var P=this;O.all("ul").set(L,"group");O.all("li,div,h4").each(function(Q){if(!Q.get(L)){Q.set(L,"presentation");}});var N=O.all("a");N.set(L,"menuitem");if(P.dontFocus){N.set("tabIndex",-1);}},show:function(N){var P=this,O=P._root;if(!P.isVisible()){O.addClass(D);P.setVisible(O,N);O.set(I,false);P.attachClickHdlr(true);O.fire("menu:state",{state:"show",link:P._link});}},hide:function(P){var R=this,O,Q=R._root,N=P?P.type:null;if(R.isVisible()&&R.closeMenu){Q.set(I,true);if(!R.dontFocus&&(O=Q.one('a[tabindex="0"]'))){O.set("tabIndex",-1);}R.hideMenu(Q);R.attachClickHdlr(false);Q.fire("menu:state",{state:"hide",link:R._link,origEvtType:N});}},toggle:function(N){this[this.isVisible()?"hide":"show"](N);},attachClickHdlr:function(N){var O=this;if(O._detachHdlr){O._detachHdlr.detach();O._detachHdlr=null;}if(N===false){return;}O._detachHdlr=C.on("click",function(S){var T=S.target,R=C.Node.getDOMNode(T),Q=O._link.contains(T)||(O._link===T),P=false;if(C.UA.webkit&&!C.UA.chrome&&R.nodeName==="UL"){P=true;}S.preventDefault();if(!P&&!Q){O._tmFocus&&O._tmFocus.cancel();O._root&&O._root._node&&O.hide();}},document);if(C.UA.webkit&&!C.UA.chrome){O._root.on("mousedown",function(Q){var P=Q.target,R=C.Node.getDOMNode(P).nodeName;if(R!=="A"){P=P.ancestor("a");}P&&P.focus();});}},destroy:function(){var N,O=this;for(N in O._evt){C.detach(O._evt[N]);}},isVisible:function(){var N=this._root;if(!N._node&&C.one(".dummy_menu_node")){N=C.one(".dummy_menu_node").menu._root;}if(N._node){return(N.getStyle("display")!=="none");}else{return false;}}};J.NAME="Menu";J.NS="menu";C.namespace("Plugin").Menu=J;},"1.0.0");YUI.add("_shared_module_offscreen_bin_menus_loading",function(A){A.namespace("ui.Templates");A.ui.Templates._shared_module_offscreen_bin_menus_loading={base:'<div role = "menu" id = "loadingMenu" class="optionMenu" aria-live="polite"> <ul> <li><a href="#"><span>{{str_galaxy_status_loading}}</span></a></li> </ul></div>'};},"1.0.0");YUI.add('compose_strings', function(Y) {
Y.namespace("mail");
Y.mix(strings,{"str_rte_check_spelling":"Check spelling","str_comp_createlink_prompt":"Please enter the URL for the link to point to:","str_comp_createlink_default":"http:\/\/","str_comp_close_format_attr":"Close the formatting panel.","str_comp_close_format":"Close Formatting","str_comp_font_menu_attr":"Select a font","str_rte_font_arial":"Sans Serif 1","str_rte_font_tahoma_attr":"tahoma, new york, times, serif","str_rte_font_tahoma":"Sans Serif 2","str_rte_font_verdana":"Sans Serif 3","str_rte_font_times":"Serif 1","str_rte_font_bookman":"Serif 2","str_comp_font_size_attr":"Select a font size","str_rte_font_size_8":"8","str_rte_font_size_10":"10","str_rte_font_size_12":"12","str_rte_font_size_14":"14","str_rte_font_size_18":"18","str_rte_font_size_24":"24","str_rte_font_size_36":"36","str_rte_bold":"Bold","str_rte_italic_attr":"Italicise","str_rte_italic":"Italic","str_rte_underline":"Underline","str_rte_color_attr":"Text colour","str_rte_color":"Text Colour","str_rte_check_spelling_attr":"Check spelling of text in the selected language","str_toolbar_spelling_menu_toggle_attr":"Select language","str_toolbar_spelling_menu_toggle":"Select Language","str_rte_text_alignment_attr":"Text alignment","str_rte_text_alignment":"Text alignment","str_rte_indentation_attr":"Indentation","str_rte_indent":"Indent","str_rte_list_attr":"List","str_rte_list":"List","str_rte_link_attr":"Add a Web link to selected text; if no text is selected, add a Web link","str_rte_link":"Link","str_menu_indent":"Increase Indent","str_menu_outdent":"Decrease Indent","str_comp_spellcheck_complete_title":"Spell Check complete","str_comp_spellcheck_complete_message":"Your message contains no spelling errors!","str_comp_no_suggestions":"No Suggestions","str_modal_check_spelling":"Check Spelling","str_modal_mispelled_words":"Misspelled words are now underlined in red. To view a list of suggested corrections for any misspelled word, just {{str_right_click}} it.","str_small_header_to":"TO:","str_small_header_more":"More","str_small_header_you":"You","str_small_header_you_accusative":"You","str_small_header_recipient":"recipient","str_small_header_recipients":"recipients","str_conv_im":"IM","str_tog_dateformat_conversation":"{dd} {MMM} {H}:{mm}","str_conv_call_duration":"Call duration:","str_conv_time_hours":"hours","str_conv_time_minutes":"minutes","str_conv_time_seconds":"seconds","str_conv_accepted_add_req":"<strong>{{conversation_user}}<\/strong> has been added to your Messenger list.","str_conv_add_requests":"Add Requests","str_conv_alias_send_as":"Send As:","str_conv_autocomplete_default":"TO","str_conv_blocked_user":"<strong>{{conversation_user}}<\/strong> has been blocked. You will no longer receive messages from this user.","str_conv_btn_accept":"Accept","str_conv_btn_accept_and_add":"Accept and Add To List","str_conv_btn_accept_and_add_attr":"Accept and Add To List","str_conv_btn_accept_attr":"Allow {{conversation_yid}} to add me and see when I\u2019m online.","str_conv_btn_add_contact":"Add Contact","str_conv_btn_add_contact_attr":"Add Contact","str_conv_btn_add_number":"Add Number","str_conv_btn_add_number_attr":"Add Number","str_conv_btn_add_to_contacts":"Add to Contacts","str_conv_btn_add_to_contacts_attr":"Add {{conversation_yid}} to your Contacts.","str_conv_btn_block":"Block","str_conv_btn_block_all":"Block All","str_conv_btn_block_user":"Block User","str_conv_btn_block_user_attr":"Add to Blocked List","str_conv_btn_call_another_number":"Call Another Number","str_conv_btn_call_another_number_attr":"Call Another Number","str_conv_btn_call_back":"Call Back","str_conv_btn_call_back_attr":"Call Back","str_conv_btn_close_all":"Close All","str_conv_btn_close_current":"Close Current","str_conv_btn_convert_conv":"Convert Window","str_conv_btn_convert_conv_attr":"Convert Window","str_conv_btn_decline":"Decline","str_conv_btn_decline_add_number":"Cancel","str_conv_btn_decline_attr":"Don't allow {{conversation_yid}} to add me or see when I'm online","str_conv_btn_hide_media_modes":"Hide Conversation Types","str_conv_btn_hide_media_modes_attr":"Hide Conversation Types","str_conv_btn_hide_recent_conv":"Hide Recent Conversations","str_conv_btn_hide_recent_conv_attr":"Hide recent conversations with {{conversation_user}}.","str_conv_btn_hide_tray":"Hide","str_conv_btn_hide_tray_attr":"Hide conversation types","str_conv_btn_open_media_modes_attr":"Switch to another type of conversation","str_conv_btn_open_setup":"Open Setup","str_conv_btn_open_setup_attr":"Open Setup","str_conv_btn_report_all_spam":"Report All as Spam","str_conv_btn_report_all_spam_attr":"Report All as Spam","str_conv_btn_report_spam":"Report as Spam","str_conv_btn_report_spam_attr":"Report this instant message as spam, and add {{conversation_yid}} to your Blocked List.","str_conv_btn_show_conv":"Show Conversations","str_conv_btn_show_conv_attr":"Show Conversations","str_conv_btn_show_recent_conv":"Show Recent Conversations","str_conv_btn_show_recent_conv_attr":"Show recent conversations with {{conversation_user}}.","str_conv_btn_show_tray":"Show","str_conv_btn_show_tray_attr":"Show conversation types","str_conv_btn_start_call":"Call","str_conv_btn_start_call_attr":"Call","str_conv_btn_start_conversation":"Start Conversation","str_conv_btn_start_conversation_attr":"Start Conversation","str_conv_btn_try_again":"Try again","str_conv_btn_unblock":"Unblock","str_conv_btn_unblock_all":"Unblock All","str_conv_btn_unblock_user":"Unblock User","str_conv_btn_unblock_user_attr":"Remove {{conversation_yid}} from your Blocked List.","str_conv_btn_view_conv_options":"Options","str_conv_btn_view_conv_options_attr":"Options","str_conv_cannot_start_video":"Video call cannot be started.","str_conv_close":"Close all conversations and windows.","str_conv_close_all":"Close All Conversations?","str_conv_close_always":"Always close all conversations","str_conv_close_confirm":"You have unread messages, are you sure you want to close the window?","str_conv_connection_error":"There was a connection error.","str_conv_conv_being_archived":"Conversations are currently being archived.","str_conv_conv_header_user_attr":"{{str_conv_conv_header_user1_attr}} \u2022 {{str_conv_conv_header_user2_attr}}","str_conv_conv_header_userimage_attr":"Access Stealth Settings and info for {{conversation_user}}, as well as the ability to report abuse.","str_conv_conversation_dateformat_no_trans":"%b %d %l:%M %p","str_conv_conversations":"Conversations","str_conv_current_balance":"Current Balance: <b>{{current_balance}}<\/b>","str_conv_decline_add_number_attr":"Cancel","str_conv_declined_add_req":"<strong>{{conversation_user}}<\/strong> has been declined and will not be added to your Mesenger list.","str_conv_default_group":"Friends","str_conv_dialog_alert":"Alert","str_conv_dialog_confirm":"Confirm","str_conv_emoticon_attr":"Insert emoticons","str_conv_enable":"Enable Conversations","str_conv_enter_phone_number_label":"Enter a mobile phone number for <b>{{conversation_user}}<\/b>:","str_conv_enter_phone_number_label_no_user":"a mobile phone number for <b>{{conversation_user}}<\/b>:","str_conv_error_empty_general":"All fields are required.","str_conv_example":"Example:","str_conv_file_transfer_attr":"Send a file to {{conversation user}}","str_conv_file_transfer_sending_mult":"Sending {{file_transfer_num_files}} files to <b>{{conversation_user}}<\/b>.","str_conv_file_transfer_sending_one":"Sending 1 file to <b>{{conversation_user}}<\/b>.","str_conv_file_transfer_sent_mult":"You have sent {{file_transfer_num_files}} files to <b>{{conversation_user}}<\/b>.","str_conv_file_transfer_sent_one":"You have sent 1 file to <b>{{conversation_user}}<\/b>.","str_conv_file_transfer_waiting_mult":"Waiting for <b>{{conversation_user}}<\/b> to accept {{file_transfer_num_files}} files.","str_conv_file_transfer_waiting_one":"Waiting for <b>{{conversation_user}}<\/b> to accept 1 file.","str_conv_folder_empty":"There are no messages in your Conversations folder.","str_conv_format_attr":"Change fonts and colours","str_conv_format_fonts_attr":"Change fonts","str_conv_im_hint":"Type contact information...","str_conv_imconv_new_hint":"Start a new instant message.<br>Enter a Messenger ID or an email address.","str_conv_input_label":"Type your message here","str_conv_label_roadblock":"Don\u2019t show me this again.","str_conv_look_for":"Look for...","str_conv_maximize":"Maximise window","str_conv_message":"Message","str_conv_minimize":"Minimise window","str_conv_mode-tray_btn_group_chat":"Group chat","str_conv_mode-tray_btn_group_chat_attr":"Switch to group conversation","str_conv_mode-tray_btn_im":"Switch to Instant Message","str_conv_mode-tray_btn_im_attr":"Switch to instant message","str_conv_mode-tray_btn_im_only_attr":"Instant Message","str_conv_mode-tray_btn_mail":"Switch to Email","str_conv_mode-tray_btn_mail_attr":"Switch to email","str_conv_mode-tray_btn_phone":"Start Phone Call","str_conv_mode-tray_btn_phone_attr":"Switch to phone call","str_conv_mode-tray_btn_photosharing":"Start Photosharing","str_conv_mode-tray_btn_photosharing_attr":"Invite {{conversation_user}} to share photos.","str_conv_mode-tray_btn_sms":"Switch to SMS","str_conv_mode-tray_btn_sms_attr":"Switch to SMS","str_conv_mode-tray_btn_vce":"Start Voice Call","str_conv_mode-tray_btn_vce_attr":"Switch to voice call","str_conv_mode-tray_btn_vid":"Start Video Call","str_conv_mode-tray_btn_vid_attr":"Switch to video call","str_conv_new_conversation_hint":"Type a contact\u2019s information to start a new conversation.","str_conv_new_hint":"Start a new instant message or SMS message.<br>Enter a Messenger ID, email or mobile number.","str_conv_new_message_browser_title":"{{conversation_user}} sent you a new message.","str_conv_no_contact_add_request":"<b>{{conversation_yid}}<\/b> would like to add you to his or her {{str_cfg_branding_messenger}} List.","str_conv_no_video_support":"<b>{{conversation_user}}<\/b> is not using a version of {{str_cfg_branding_messenger}} that supports video calls.","str_conv_non_users_blocked":"<em>You are currently blocking messages from users who are not in your contact list.  To communicate with this user you will need to either add them to your contacts or change your privacy settings.<\/em>","str_conv_ntf_spam_reported":"<em>This message from <span><strong>{{userid}}<\/strong><\/span> has been reported as spam.<\/em>  They were also added to your Blocked List.  Unblock this person if you want to contact them.","str_conv_ntf_user_blocked":"<em>You have blocked <span><strong>{{userid}}<\/strong><\/span>.<\/em> You cannot send and receive instant messages from blocked users.","str_conv_ntf_user_unblocked":"<em><span><strong>{{userid}}<\/strong><\/span> has been removed from your Blocked List.<\/em>","str_conv_photo_share_accepted":"<b>{{conversation_user}}<\/b> has accepted your invitation to start photo sharing.","str_conv_photo_share_invite":"You have invited <b>{{conversation_user}}<\/b> to start photo sharing.","str_conv_photo_share_wait_revoke":"You can wait for a response or revoke the invitation.","str_conv_photo_sharing_disabled":"{{conversation_user}}\u2019s configuration doesn\u2019t appear to support photo sharing.","str_conv_pop_in":"Anchor window to bottom of window","str_conv_pop_out":"Make window moveable","str_conv_prompt_tab":"View {{str_cfg_branding_messenger}} Conversations in a tab!","str_conv_prompt_tab_btn":"Change to Tab","str_conv_prompt_tab_btn_attr":"Change to display your conversations in a tab by default.","str_conv_receive_messages":"They will receive your instant message after signing in.","str_conv_report_abuse":"Report Abuse","str_conv_report_abuse_attr":"Report Abuse","str_conv_report_abuse_description":"Report this user for threats, harassment, harm to minors or indecent content.  The transcript of your conversation with this person will be included in your report.","str_conv_report_abuse_radio":"Report Threats or Harassment","str_conv_report_abuse_title":"{{str_cfg_branding_messenger}} Report Abuse","str_conv_report_spam_description":"Stop receiving messages with bad links, phishing attempts or any unwanted communication.","str_conv_report_spam_radio":"Report Spam","str_conv_revoke":"Revoke","str_conv_revoke_attr":"Revoke","str_conv_search_conversations":"Search Conversations","str_conv_self_objective":"Me","str_conv_send":"Send","str_conv_send_email":"Send Email","str_conv_send_email_attr":"Send an email instead","str_conv_send_sms":"Send SMS","str_conv_send_sms_attr":"Send an SMS to mobile phone instead","str_conv_settings":"Full menus for conversation window","str_conv_signed_out_hint":"You are not signed in to {{str_cfg_branding_messenger}}. Please sign in to start a new conversation.","str_conv_sms":"SMS","str_conv_sms_attachment_error":"Your message has attachments which cannot be included in an SMS.","str_conv_sms_fees":"Wireless carrier charges may apply.","str_conv_sms_hint":"Type contact information or mobile number...","str_conv_sms_input_title":"Compose SMS","str_conv_sms_number_example":"e.g., {{example_number}}","str_conv_smsconv_new_hint":"Start a new SMS message.<br>Enter a name or mobile number.","str_conv_spam_reported_description_bl":"To permanently block this contact from sending you messages, add {{user}} to your Block list in {{str_cfg_generic_messenger}} Options.","str_conv_spam_reported_description_bnc":"To permanently block this contact from sending you messages, delete {{user}} from your Contacts list. Right-click on display image, then choose Delete.","str_conv_spam_reported_description_bottom":"<strong>{{userid}}<\/strong> has also been blocked, and you will no longer receive messages from this user.","str_conv_spam_reported_description_top":"Thank you. Every IM you report as spam helps SpamGuard work better.","str_conv_spam_reported_title":"Spam Report Submitted","str_conv_start":"Start","str_conv_tab_close_confirm":"You have unread messages, are you sure you want to close this conversation?","str_conv_title_bar_im":"Instant Message","str_conv_title_bar_new_email":"New Email Message","str_conv_title_bar_new_im":"Start Instant Message","str_conv_title_bar_new_phone":"Start Phone Call","str_conv_title_bar_new_sms":"Start SMS","str_conv_title_bar_new_video":"Start Video Call","str_conv_title_bar_new_voice":"Start Voice Call","str_conv_title_bar_phone_call":"Phone Call","str_conv_title_bar_photo_share":"Photo Sharing","str_conv_title_bar_sms":"SMS","str_conv_title_bar_started":"{{str_branding_messenger}}","str_conv_title_bar_video_call":"Video Call","str_conv_title_bar_voice_call":"Voice Call","str_conv_title_conversation_history":"Conversation History","str_conv_typing":"{{conversation_user}} is typing...","str_conv_user_appears_offline":"<b>{{user}}<\/b> appears to be offline.","str_conv_user_invisible":"You currently appear offline to {{conversation_user}} (manage with Stealth Settings).","str_conv_user_notification_ssa":"Instant messages are currently being saved in the Conversation History.","str_conv_user_notification_ssa_button":"Open {{str_cfg_branding_messenger}} Options","str_conv_user_offline":"<b>{{conversation_yid}}<\/b> is currently offline.","str_conv_user_offlineMessage_notice":"Messages sent to you while you were signed out:","str_conv_user_signed_back_in":"<b>{{conversation_user}}<\/b> has signed back in.","str_conv_user_signed_out":"<b>{{conversation_user}}<\/b> has signed out.","str_conv_user_sms_edit_number":"Edit number","str_conv_user_sms_edit_number_attr":"Edit number","str_conv_user_sms_learn_more_btn":"Learn more","str_conv_user_sms_learn_more_btn_attr":"Learn more","str_conv_user_sms_notice":"<b>{{conversation_user}}<\/b> ({{msg_sms_number}}) will receive your instant message as an SMS.","str_conv_user_sms_notice_error_failed_to_deliver":"SMS could not be sent to <b>{{number}}<\/b>. It may be an invalid mobile number, formatted incorrectly, or no longer in service.","str_conv_user_sms_notice_error_msg_blocked":"Phone number {{number}} cannot receive SMS messages at this time.","str_conv_user_sms_notice_error_number_empty":"An empty number is not supported.","str_conv_user_sms_notice_error_number_not_supported":"The number <b>{{number}}<\/b> is not supported.","str_conv_user_sms_notice_error_ration_breached":"<b>{{user}}<\/b> must reply to one of your messages before you can send any more.","str_conv_user_sms_notice_error_system_busy":"SMS could not be sent to {{number}}. The system is currently busy. Please try again later.","str_conv_user_statexfer_notice":"Your ongoing conversation with {{conversation_user}}...","str_conv_video":"VIDEO","str_conv_video_call_camera_error":"<b>{{conversation_user}}<\/b> may not have a camera or it may not be working properly.","str_conv_video_call_end":"Video call ended: {{conversation_end}}","str_conv_video_call_fail":"The video call cannot be completed.","str_conv_video_call_invite":"<b>{{conversation_user}}<\/b> is inviting you to a video call.","str_conv_video_call_invite_declined":"You have declined the video call invitation.","str_conv_video_call_mic_input":"Your microphone may not be working.","str_conv_video_call_no_signal":"We are not receiving a video signal.","str_conv_video_disabled":"{{conversation_user}}\u2019s configuration does not appear to support video calls.","str_conv_voice":"VOICE","str_conv_voice_call_end":"Voice Call ended: {{conversation_end}}","str_conv_voice_call_hold":"You have put <b>{{conversation_user}}<\/b> on hold.","str_conv_voice_call_invite":"<b>{{conversation_user}}<\/b> is inviting you to a voice call.","str_conv_voice_disabled":"{{conversation_user}}\u2019s configuration does not appear to support voice calls.","str_conv_wrn_interop_add_request_pending":"To IM with {{user}}, they must first accept your request to add them to your {{str_cfg_generic_messenger}} List contacts. Your request is still pending.","str_conv_wrn_interop_add_request_pending_2":"Send {{user}} an SMS instead.","str_conv_wrn_unknown_interop_user":"To send IM to {{user}}, they must first accept your request to add them to your {{str_cfg_generic_messenger}} List contacts.","str_conv_wrn_unknown_interop_user_2":"To contact {{user}} right now, send an SMS.","str_conv_wrn_unknown_user":"<em><span><strong>{{userid}}<\/strong><\/span> is not in your contacts.<\/em>  Be careful when corresponding with people you don\u2019t know. Never share private information with them.","str_warning_msg_read_form_part1":"Warning! You are about to send information to someone other than {{str_branding}}. If you do not want anyone outside of {{str_branding}} to have this information, click \"Cancel\" now.","str_warning_msg_read_form_part2":"Remember: {{str_branding}} will NEVER ask you for your password in an unsolicited phone call or an unsolicited email.","str_warning_msg_read_link_part1":"Warning! It appears that you are about to access a website that has non-standard web address format.","str_warning_msg_read_link_part2":"Such sites may contain harmful entities such as viruses.","str_warning_msg_read_link_part3":"We recommend you use extreme caution.","str_warning_msg_read_password_part1":"Warning! You are about to enter a password in a form that will not be sent to {{str_branding}}!.","str_warning_msg_read_password_part2":"Remember: {{str_branding}} will NEVER ask you for your password in an unsolicited phone call or an unsolicited email.","str_modal_last_msg_title":"Reached last message","str_modal_first_msg_title":"Reached first message","str_hide_details":"Hide Details","str_show_details":"Show Details","str_hide_details_tooltip":"Hide details","str_show_details_tooltip":"Show details","str_modal_preview_msg_demo":"<h2>Message Preview<\/h2>Hover over the 'read' column in this list and you'll see a preview of your message.","str_cascd_ExceededMaxTo":"The message To: field exceeds the maximum number of recipients","str_cascd_ExceededMaxCc":"The message Cc: field exceeds the maximum number of recipients","str_cascd_ExceededMaxBcc":"The message Bcc: field exceeds the maximum number of recipients","str_cascd_ExceededMaxRecipients":"The message address fields exceed the maximum number of recipients","str_cascd_ExceededMaxHourlyMessages":"Number of hourly messages exceeded","str_cascd_ExceededMaxDailyMessages":"Number of daily messages exceeded","str_cascd_InvalidRecipientAddress":"The message To: Cc: or Bcc: field contains a malformed email address","str_cascd_MessageContentReject":"Help us to fight spam by adding some text to this message before sending.","str_next":"Next","str_previous":"Previous","str_comp_back_to_msg_attr":"Go back to editing the email","str_comp_back_to_msg":"Back to Email","str_comp_try_again_attr":"Try sending again.","str_comp_try_again":"Try Again","str_comp_done":"Done","str_comp_original_msg":"Original Message","str_comp_email_sent":"Email sent","str_btn_recipient_lozenge_attr":"{{email_id}}","str_btn_add_recipient_attr":"Add {{email_id}} to your Contacts","str_comp_auto_add_to_contacts":"Automatically add new recipients to Contacts","str_comp_recipients":"Recipients","str_comp_captcha_msg":"Your message was not sent.","str_comp_captcha_msg_suspicious_activity":"Suspicious activity was detected on your account. To protect your account and those of our users, your message was not sent. Please follow the <a href=\"http:\/\/help.yahoo.com\/kb\/index?locale={{locale}}&y=PROD_MAIL_ML&page=content&id=SLN3406\" target=\"_blank\">guidelines<\/a> outlined on our help page to resume sending mail.","str_comp_captcha_apology":"We apologise for the inconvenience.","str_comp_captcha_account":"Account has been blocked from sending","str_comp_captcha_account_suspicious_activity":"Suspicious activity was detected on your account. To protect your account and those of our users, your message was not sent. Please follow the <a href=\"http:\/\/help.yahoo.com\/l\/uk\/yahoo\/mail\/ymail\/abuse\/mltatempblock.html\">guidelines<\/a> outlined on our help page to resume sending mail.","str_qtd_collapse":"Hide message history","str_expand_all_attr":"Expand message cards","str_expand_all":"Expand all","str_msg_load_error_generic":"There appears to be a problem loading the email","str_comp_captcha_modal_header":"Verification","str_comp_captcha_back_to_visual":"Back to visual code","str_comp_captcha_btn_audio_code":"Audio code","str_comp_captcha_reader_hint":"Attention users who are both hearing- and vision-impaired: To complete this form you must enter a word that is part of an image or a few digits from an audio recording. If you cannot read the image or hear the audio, {{str_branding}} is happy to assist you. A representative from Customer Care will need to contact you. Please provide your phone number and email address and send your request by visiting this URL - <a href=\"{{conf_url_help_general}}\">{{conf_url_help_general}}<\/a> To request assistance with registration, please first read the {{str_branding}} Terms of Service located at <a href=\"{{conf_url_tos}}\">{{conf_url_tos}}<\/a> before submitting your request.","str_comp_captcha_header":"To help fight spam, please type in the characters from the box below.","str_comp_captcha_help":"Need help?","str_comp_captcha_enter_code":"Enter the code.","str_comp_captcha_img_title":"Enter the characters displayed.","str_comp_captcha_img_alt":"CAPTCHA Image","str_comp_captcha_numbers_only":"NUMBERS ONLY","str_comp_captcha_audio_playing":"Audio code is playing...","str_comp_captcha_replay":"Replay","str_comp_captcha_error":"The code you provided did not match. Please try again.","str_comp_captcha_btn_audio_code_attr":"Click here for an audio code."});
}, '1.0.0');YUI.add('contacts_strings', function(Y) {
Y.namespace("mail");
Y.mix(strings,{"str_form_placeholder_first":"First","str_form_placeholder_middle":"Middle","str_form_placeholder_last":"Last","str_cont_edit_cont":"","str_cont_add_to_cont":"Add to Contacts","str_help":"Help","str_cont_lbl_add_xtra_email":"Add another email address","str_cont_lbl_remove_xtra_email":"Remove email address","str_form_lbl_email":"Email:","str_form_lbl_email_email":"Email","str_form_lbl_email_work":"Work Email","str_form_lbl_email_home":"Home Email","str_form_lbl_im_dont_add":"Don't add to {{str_branding_messenger}}","str_cont_lbl_add_xtra_im":"Add another instant messenger ID","str_cont_lbl_remove_xtra_im":"Remove instant messenger ID","str_form_lbl_im":"Instant Message:","str_form_lbl_im_ymsgr":"{{str_branding_messenger}}","str_form_lbl_im_msn":"Windows Live (MSN)","str_form_lbl_im_aol":"AOL\/AIM","str_form_lbl_im_gtalk":"GTalk","str_form_lbl_im_icq":"ICQ","str_form_lbl_im_irc":"IRC","str_form_lbl_im_qq":"QQ","str_form_lbl_im_skype":"Skype","str_form_lbl_im_ali":"Ali Wangwang","str_form_lbl_im_yjapan":"{{str_branding}} Japan","str_form_lbl_im_jabber":"Jabber","str_form_lbl_im_mslcs":"Microsoft LCS","str_form_lbl_im_lotus":"Lotus Sametime","str_cont_lbl_add_xtra_phone":"Add another phone number","str_cont_lbl_remove_xtra_phone":"Remove phone number","str_form_lbl_phone":"Phone:","str_form_lbl_phone_phone":"Phone","str_form_lbl_phone_mobile":"Mobile","str_form_lbl_phone_home":"Home Phone","str_form_lbl_phone_work":"Work Phone","str_form_lbl_phone_pager":"Pager","str_form_lbl_phone_fax":"Fax","str_cont_add_contact_confirm_short":"Contact has been added.","str_cont_add_contact_confirm_update":"Contact has been updated.","str_cont_add_contact_confirm_long":"will receive an email from you asking permission to share contact info.","str_cont_add_to_cont_confirm":"Contact Added","str_cont_choose_one_selected":"1 selected","str_cont_all_contacts":"All Contacts","str_cont_choose_contacts":"Choose Contacts","str_cont_add_contacts_to_list":"Add Contacts to {{list_name}} list","str_cont_look_for_filter":"View:","str_con_list_look_for_attr":"Start typing a name or address to search","str_cont_look_for":"Look for...","str_cont_list_select_all_cont":"Select All","str_cont_search_no_contacts_found":"No contacts found.","str_cont_loading":"Loading Contacts...","str_cont_choose_select_count":"{{contacts_selected}} selected","str_cont_choose_none_selected":"0 selected","str_contact_card_copy_mac":"Cmd+C","str_contact_card_copy_pc":"Ctrl+C","str_menu_email_history":"Search for Messages from...","str_menu_edit_address":"Edit Address","str_menu_copy_address":"Copy Address","str_menu_remove_address":"Remove Address","str_menu_view_contact_details":"View Contact Details","str_menu_add_to_contacts":"Add to Contacts...","str_menu_new_message":"New Message","str_menu_new_instant_message":"New Instant Message","str_cont_btn_stop_following_attr":"Stop Following","str_cont_btn_stop_following":"Stop Following","str_cont_btn_follow_attr":"Follow","str_cont_btn_follow":"Follow","str_cont_btn_following":"Following"});
}, '1.0.0');YUI.add("common-ui-menu-helper",function(B){B.namespace("common.ui");var A=function(){function D(I,H,F){var J,G=B.one("#loadingMenu");if(I.menu){I.unplug(B.Plugin.Menu);}if(H.menu&&(H.menu instanceof B.Node)){H.menu.detachAll();}H=H||{};if(G){G.remove();}I.plug(B.Plugin.Menu,H);I.menuCreated=true;if(I.menu){I.menu._root.on("menu:state",function(K){B.fire("menu:display-state",{"state":K.state,"intl":NeoConfig.intl});});B.on("menu:display-menu-close",function(){I&&I.menu&&I.menu.hide();});J=I.menu.getMenuNode();J.delegate("click",function(N){var P=B.common.Utils.getDataAction(N),M=P.action,L=P.node,K=N.currentTarget.one("a");if(!M||(L&&L.hasClass("disabled"))){N.halt();return;}if(K&&(!K.getAttribute("href")||"#"===K.getAttribute("href"))){N.preventDefault();}if(H.allowSimClick){J._node.click();}J.fire("menuSelected",{dataAction:M,item:L});try{I.menu&&I.menu.hide();if(H.isContext){J.blur();}else{if(!H.blur){if(I.one("a")){I.one("a").focus();}else{I.focus();}}}}catch(O){typeof globals!=="undefined"&&globals.report?globals.report("caughterror:..-build-common-ui-menuhelper-menuhelper:1",O,"TRY_CATCH",1,1,1):window.console&&console.log&&console.log("caughterror:..-build-common-ui-menuhelper-menuhelper:1");}},"li, dd a");B.fire("menu:created",J);if(!H.cbafter&&F){F();}I.menu.show();if(!H.cbafter){return;}}if(F){F();}}function C(G,F){B.Lang.later(500,this,function(){var M=F?(F.isContext?true:false):false,P=G.get("region"),I=NeoConfig.isRTL,N=B.ui.Templates._shared_module_offscreen_bin_menus_loading,O=B.one("window"),R,Q,L,J,H,K;if(B.one("#loadingMenu")||G.menuCreated){return;}B.one("body").append(B.common.Utils.substitute(N.base,null,0,0,strings));L=B.one("body").get("lastChild");if(M){R=F.xy||G.getXY();Q=E(G,L,R);}else{L.setStyles({"position":"absolute","visibility":"hidden","display":"block","top":0});Q={"top":P.bottom,"left":P.left,"right":"auto"};J=L.get("region").height;H=O.get("scrollTop");K=O.get("winHeight");if(J>K-(P.bottom-H)&&(J<P.top-H)){Q.top=(P.top-J)+"px";}if(I){Q.left=((P.left+P.width)-(L.get("region").width))+"px";}Q.visibility="visible";}Q.zIndex=4000;L.setStyles(Q);});}function E(N,G,Q){var P,L=Q[0],K=Q[1],M,J,O=15,H,I=N.get("winHeight"),F=B.one("window").get("scrollTop")||0;G.setStyles({"display":"block","bottom":"auto","left":-1000,"right":"auto","position":"absolute"});H=parseInt(G.get("region").height,10);M=(I-O-K)<H;J=(N.get("docWidth")-O-L)<parseInt(G.get("region").width,10);P={"top":K+F,"left":L};if(M){P.top=I+F-H-O;}if(J){P.left="auto";P.right=O+"px";}return P;}B.mix(this,{create:D,createLoadingMenu:C});};B.common.ui.MenuHelper=new A();},"1.0.0",{requires:["common-utils","menus_css","comms-ui-menu-base","_shared_module_offscreen_bin_menus_loading"]});YUI.add("comms-ui-envelope",function(B){var F=24,L=100,I=1000/F,J="progress-envelope-",C=["01","01","02","03","04","05","06","07","08","09","10","11","11","12","13","14","15","16","17","18","19","20","21","22","22","23","24","25","26","27","28","29","30","31","31","32","33","34","35","36","37","38","39","40","40","41","42","43","44","45","46","47","48","01","01","01","01","01","01"],A=0,G=C.length-1,K=J+C[A],D=F*L,H=0,E;E=function(M){var N=this;N.init();N.envelopeEl=B.Node.create('<div class="'+N.prevClass+'"></div>');M.append(N.envelopeEl);};E.prototype={init:function(){var M=this;M.prevClass=K;M.frameIndex=A;M.isAnimating=false;M.framesAnimated=0;},start:function(){var N=this,M;if(N.isAnimating){return;}N.timer=B.later(I,null,function(){N.frameIndex++;if(N.frameIndex>G){N.frameIndex=A;}M=J+C[N.frameIndex];N.envelopeEl.replaceClass(N.prevClass,M);N.prevClass=M;N.framesAnimated++;if(N.framesAnimated%D===0){N.stop();}},{},true);N.isAnimating=true;},stop:function(){var M=this;if(M.timer){M.timer.cancel();M.envelopeEl.replaceClass(M.prevClass,K);M.init();}},destroy:function(){var M=this;M.stop();M.envelopeEl.remove(true);}};B.namespace("comms.ui");B.comms.ui.Envelope=E;B.namespace("mail.ui");B.mail.ui.Envelope=E;},"1.0.0",{requires:[]});YUI.add("mail-model-compose",function(D){var B=function(){B.superclass.constructor.apply(this,arguments);};var C={oComposeData:null,initializer:function(){this.oComposeData={header:{subject:null,from:null,replyto:null,to:null,cc:null,bcc:null},origin:{action:null,fid:null,oMsg:null,ctxReq:null,forwardAsAttachment:false,errInfo:null},content:null,textcontent:null,attachments:[],spellcheck:{corrections:null,correctionHash:[]},composeActions:[],isRich:null};this.cdoType="compose";},destructor:function(){},updateData:function(G){var E,F={uiUpdate:true};for(E in G){if(E){this.set(E,G[E],F);}}},neas:function(E){return E&&E.length;},_getActionCount:function(){return this.oComposeData.composeActions.length;},_setComposeAction:function(E){var G,F;if(E){if(typeof E==="string"){G=E;}else{G=E.action||"composestart";F=E.timestamp;}F=F||new Date().getTime();this.oComposeData.composeActions.push({action:G,timestamp:F});}},_getComposeAction:function(){var E=this.oComposeData.composeActions.length;return this.oComposeData.composeActions[E];},_getReplyHeader:function(){var E={from:this.oComposeData.header.from,to:this.oComposeData.header.to,cc:this.oComposeData.header.cc,subject:this.oComposeData.header.subject};return E;},_setReplyHeader:function(E){if(E.from){this.oComposeData.header.from=E.from;}if(E.to){this.oComposeData.header.to=E.to;}if(E.cc){this.oComposeData.header.cc=E.cc;}if(E.bcc){this.oComposeData.header.bcc=E.bcc;}if(E.subject){this.oComposeData.header.subject=E.subject;}},_getHeader:function(){return this.oComposeData.header;},_setHeader:function(E){this.oComposeData.header=E;},_getContent:function(){return this.oComposeData.content;},_setContent:function(E){this.oComposeData.content=E;},_getTextContent:function(){return this.oComposeData.textcontent;},_setTextContent:function(E){this.oComposeData.textcontent=E;},_getReplyContent:function(){return this._getContent();},_setReplyContent:function(E){this._setContent(E);},_getTextMode:function(){if(this.oComposeData.isRich!==null){return this.oComposeData.isRich;}else{var F=D.common.persist.UserData.get("userUIPref.useRichText"),E=((F))&&(F!=="plain");this.oComposeData.isRich=E;return E;}},_setTextMode:function(E){this.oComposeData.isRich=E;D.common.persist.UserData.set("userUIPref.useRichText",E?"dynamic":"plain");setTimeout(function(){D.common.persist.UserData.saveOne("userUIPref.useRichText");},10);},_getOrigin:function(){return this.oComposeData.origin;},_setOrigin:function(E){this.oComposeData.origin=E;this.cdoType="compose";if(E.action){this.cdoType+=E.action;}else{this.cdoType+="unkorigin";}},_getOriginError:function(){return this.oComposeData.origin.errInfo;},_setOriginError:function(E){this.oComposeData.origin.errInfo=E;},_addAttachment:function(G){var F=this.oComposeData.attachments.length,E=G&&G.state&&G.state.uploaded||0;G.cdoIndex=F;this.oComposeData.attachments.push(G);this.fire("CDO_ATTACHMENT_ADDED",F,E);},_isAttachmentOversized:function(E){return E.state.failCause==="size";},_addAttachments:function(E){if(E){for(var F=0;F<E.length;F++){this._addAttachment(E[F]);}}},_removeAttachment:function(E){var F=this.oComposeData.attachments[E]||{};F.state=F.state||{};F.state.cancelled=true;this.fire("CDO_ATTACHMENT_DELETED",E);},_removeAllAttachments:function(F){var E=this.oComposeData.attachments;for(var G=0;G<E.length;G++){if(!F||F(E[G])){this._removeAttachment(G);}}this.fire("CDO_ALL_ATTACHMENTS_DELETED");},_updateAttachment:function(E,G){var F=this.oComposeData.attachments[E];for(var H in G){F[H]=G[H];}this.fire("CDO_ATTACHMENT_PROCESSED",E);},_getAttachmentsSize:function(){var I=this.oComposeData.attachments;var E=0;for(var F=0;F<I.length;F++){var H=I[F];var G=H.state||{};var J=H.size||{sampled:0,original:0};if(isNaN(J.original)){J.original=0;}if(isNaN(J.resampled)){J.resampled=0;}if(!G.cancelled){if(G.resampled){E+=J.sampled;}else{E+=J.original;}}}return E;},_getAttachmentsCount:function(E){var J=this.oComposeData.attachments,F=0;for(var G=0;G<J.length;G++){var I=J[G];var H=I.state||{};if(E&&!E(I)){continue;}else{if(!E&&H.cancelled){continue;}}F++;}return F;},_getIsEmpty:function(){var G=this.oComposeData,F=this.oComposeData.header,E=this.neas(F.subject)||this.neas(F.to)||this.neas(F.cc)||this.neas(F.bcc)||(F.replyto!==null)||(G.origin.action!==null)||this.neas(G.attachments);return(!E);},_getAttachments:function(){return this.oComposeData.attachments;},_setSpellCheckCorrections:function(E){this.oComposeData.spellcheck.corrections=E;},_getSpellCheckCorrections:function(){return this.oComposeData.spellcheck.corrections;},_setSpellCheckCorrectionHash:function(E){this.oComposeData.spellcheck.correctionHash=E;},_getSpellCheckCorrectionHash:function(){return this.oComposeData.spellcheck.correctionHash;}};D.extend(B,D.Base,C,{NAME:"composeModel",ATTRS:{header:{setter:C._setHeader,getter:C._getHeader},replyheader:{setter:C._setReplyHeader,getter:C._getReplyHeader},content:{setter:C._setContent,getter:C._getContent},textcontent:{setter:C._setTextContent,getter:C._getTextContent},replycontent:{setter:C._setReplyContent,getter:C._getReplyContent},isRichText:{setter:C._setTextMode,getter:C._getTextMode},origin:{setter:C._setOrigin,getter:C._getOrigin},originerror:{setter:C._setOriginError,getter:C._getOriginError},attachments:{getter:C._getAttachments},attachmentsSize:{getter:C._getAttachmentsSize},attachmentsCount:{getter:C._getAttachmentsCount},spellcheckcorrections:{setter:C._setSpellCheckCorrections,getter:C._getSpellCheckCorrections},spellcheckcorrectionhash:{setter:C._setSpellCheckCorrectionHash,getter:C._getSpellCheckCorrectionHash},actionCount:{value:0,getter:C._getActionCount},composeAction:{value:"",setter:C._setComposeAction,getter:C._getComposeAction},antivirus:{value:0},prePopulated:{value:false},saveaction:{}}});var A=function(){var G=this;var F=0;function E(I){var H=new B();H.isDirty=false;H.isDraft=I;H.cdoCount=F;F++;return H;}D.mix(G,{createModel:E});};D.namespace("mail.model");D.mail.model.ComposeModel=B;D.mail.model.ComposeModelFactory=new A();
},"1.0.0",{requires:["base","common-persist-user-data"]});YUI.add('subcompose_strings', function(Y) {
Y.namespace("mail");
Y.mix(strings,[]);
}, '1.0.0');YUI.add("mail-model-send",function(D){var C=function(){C.superclass.constructor.apply(this,arguments);};var B={oSendData:null,initializer:function(){this.oSendData={cascade:{message:{subject:null,from:null,to:null,cc:null,bcc:null,replyto:{name:null,email:null},simplebody:{html:null,text:null,attachment:null}}},origin:{fid:null,oMsg:null,action:null},draftMID:null,cid:null,requestState:null,requestId:0};},destructor:function(){},reset:function(){delete this.oSendData;this.initializer();},_setHeader:function(F){for(var E in F){if(E){this.oSendData.cascade.message[E]=F[E];}}},_setContentHTML:function(E){this.oSendData.cascade.message.simplebody.html=E;},_setContentText:function(E){this.oSendData.cascade.message.simplebody.text=E;},_setAttachments:function(E){this.oSendData.cascade.message.simplebody.attachment=E;},_setOrigin:function(E){this.oSendData.origin=E;if(E.action&&E.action!=="edit"&&E.fid&&E.oMsg&&E.oMsg&&E.oMsg.mid){this.oSendData.cascade.messageReference={fid:E.fid,mid:E.oMsg.mid,replied:E.action==="reply_all"||E.action==="reply_sender",forwarded:E.action==="forward"};}},_getOrigin:function(){return this.oSendData.origin;},_setDraftMID:function(E){this.oSendData.draftMID=E;},_getDraftMID:function(){return this.oSendData.draftMID;},_setCaptcha:function(F){if(!this.oSendData.cascade.headers){this.oSendData.cascade.headers={};}for(var E in F){if(E){this.oSendData.cascade.headers[E]=F[E];}}},_getRecipients:function(){return{to:this.oSendData.cascade.message.to,cc:this.oSendData.cascade.message.cc,bcc:this.oSendData.cascade.message.bcc};},_getCascade:function(){return this.oSendData.cascade;},_setCID:function(E){this.oSendData.cid=E;},_getCID:function(){return this.oSendData.cid;},_getRequestState:function(){return this.oSendData.requestState;},_setRequestState:function(E){this.oSendData.requestState=E;},_getRequestId:function(){return this.oSendData.requestId;},_setRequestId:function(E){this.oSendData.requestId=E;}};D.extend(C,D.Base,B,{NAME:"sendModel",ATTRS:{header:{setter:B._setHeader},contenthtml:{setter:B._setContentHTML},contenttext:{setter:B._setContentText},attachments:{setter:B._setAttachments},origin:{setter:B._setOrigin,getter:B._getOrigin},draftMID:{setter:B._setDraftMID,getter:B._getDraftMID},captcha:{setter:B._setCaptcha},recipients:{getter:B._getRecipients},cascade:{getter:B._getCascade},sendaction:{},disableaddcontact:{},cid:{setter:B._setCID,getter:B._getCID},requestState:{setter:B._setRequestState,getter:B._getRequestState},requestId:{setter:B._setRequestId,getter:B._getRequestId}}});var A=function(){var F=this;function E(){var G=new C();return G;}D.mix(F,{createModel:E});};D.namespace("mail.model");D.mail.model.SendModel=C;D.mail.model.SendModelFactory=new A();},"1.0.0",{requires:["base"]});YUI.add('calendar_strings', function(Y) {
Y.namespace("mail");
Y.mix(strings,{"str_cal_fmt_addEvent_date":"{dd}\/{MM}\/{yyyy}","str_cal_fmt_add_event_time":"{H}:{mm}","str_cal_dateformat_AM":"AM","str_cal_dateformat_PM":"PM","str_cal_ae_never":"Never","str_cal_ae_daily":"Daily","str_cal_ae_weekly":"Weekly","str_cal_ae_monthly":"Monthly","str_cal_ae_yearly":"Yearly","str_cal_err_title_length":"Length of title should be less than 1024 characters","str_cal_err_title":"Please specify a title for the event","str_event_saved":"Event Saved","str_cal_err_date":"Enter a valid date in the format","str_cal_err_email_id_title":"Please enter a valid email address in the following format: name@domain.com","str_cal_err_enddate":"Start Date should be before the End Date","str_cal_err_frequency":"The duration of the event must be shorter than the frequently with which it occurs. Shorten the duration or change the repeat pattern.","str_cal_err_invite":"There is a formatting problem with the email address you entered. Please ensure you use this format: user@example.com","str_cal_err_name":"Please specify a display name for the calendar","str_cal_err_reminder":"Please select at least one way to receive reminders","str_cal_err_time":"Enter a valid time in the format","str_cal_err_title_calendar":"Please specify a title for the calendar","str_cal_err_title_friends_id":"Please specify your friend's Email address","str_cal_err_title_ical":"Please enter a valid iCal address","str_cal_err_title_todo":"Please specify a title for the To Do","str_cal_err_title_todo_list":"Please specify a title for the To Do List","str_cal_err_weekly_repeat":"Select at least one day for weekly repeat.","str_cal_mod_addevent":"New Event","str_event_title":"Title","str_event_AllDay":"All-Day","str_event_remindMe":"Remind Me","str_cal__label_repeat":"Repeat:","str_event_location":"Location","str_event_notes":"Notes","str_event_added_to_calendar":"This event has been added to your Calendar."});
}, '1.0.0');YUI.add("mail-ui-common-fonts",function(D){var A=D.mail.persist.MetaData,B="cg.pref.general.plaintextcomposefont",E={"1":"str_mailopt_fontvalue_1","2":"str_mailopt_fontvalue_2","3":"str_mailopt_fontvalue_3","4":"str_mailopt_fontvalue_4","5":"str_mailopt_fontvalue_5","6":"str_mailopt_fontvalue_6","7":"str_mailopt_fontvalue_7","8":"str_mailopt_fontvalue_8","9":"str_mailopt_fontvalue_9"};function C(){return A.get(B);}D.namespace("mail.ui.common").Fonts={getPlainTextOption:function(){var H=C(),G,F;if(H){G=Math.floor(H/100);F=[strings[E[G]],(H%100),"pt"];}return F;}};},"1.0.0",{requires:["mail-persist-meta-data"]});YUI.add("_shared_module_compose_reply",function(A){A.namespace("ui.Templates");A.ui.Templates._shared_module_compose_reply={base:"{{reply_rich}} {{reply_plain}} {{cchdr}} {{fwdhdr}} {{qthdr}} {{qtftr}} {{subject}} {{origHeader}} {{rulerHeader}} {{reply_rich_short}} {{reply_plain_short}} ",reply_rich:'<br> {{quotetext_header}} <div style="font-family: {{fontfamily}}; font-size: {{fontsize}};"> <div style="font-family: {{deffontfamily}}; font-size: {{deffontsize}};"> <div {{headerDir}}> {{reply_rich_header}} <font size="2" face="Arial"> <b><span style="font-weight:bold;">{{str_comp_reply_from}}</span></b> {{from_data}}<br> <b><span style="font-weight: bold;">{{str_comp_reply_to}}</span></b> {{to_data}} {{cchdr}}<br> <b><span style="font-weight: bold;">{{str_comp_reply_date}}</span></b> {{date_data}}<br> <b><span style="font-weight: bold;">{{str_comp_reply_subject}}</span></b> {{subject_data}}<br> </font> </div> <div class="y_msg_container"><br>{{reply_rich_body}}<br><br></div> </div> </div> {{quotetext_footer}} ',reply_plain:"<div> <br> <div>{{reply_plain_header}}<br> {{quoteprefix}}{{str_comp_reply_from}} {{from_data}}<br> {{quoteprefix}}{{str_comp_reply_to}} {{to_data}}<br> {{quoteprefix}}{{str_comp_reply_cc}} {{cc_data}}<br> {{quoteprefix}}{{str_comp_reply_date}} {{date_data}}<br> {{quoteprefix}}{{str_comp_reply_subject}} {{subject_data}}<br> {{quoteprefix}}<br>{{reply_plain_body}} </div> </div> ",cchdr:'<br><b><span style="font-weight: bold;">{{str_comp_reply_cc}}</span></b> {{cc_data}} ',fwdhdr:"{{str_comp_reply_fwdHeader}}<br> ",qthdr:'<blockquote style="border-left: 2px solid rgb(16, 16, 255); margin-left: 5px; margin-top: 5px; padding-left: 5px;"> ',qtftr:"</blockquote> ",subject:"{{subject_prefix}} {{subject_data}} ",origHeader:"{{str_comp_reply_origHeader}}<br> ",rulerHeader:'<hr size="1"> ',reply_rich_short:'<div class="yahoo_quoted"> <div style="font-family: {{fontfamily}}; font-size: {{fontsize}};"> <div style="font-family: {{deffontfamily}}; font-size: {{deffontsize}};"> <div {{headerDir}}> <font size="2" face="Arial"> {{str_comp_reply_short}}<br> </font> </div> {{quotetext_header}} <div class="y_msg_container">{{reply_rich_body}}<br><br></div> {{quotetext_footer}} </div> </div> {{quotetext_footer}} </div> ',reply_plain_short:"<div> <br> <br> <div> {{quoteprefix}}{{str_comp_reply_short}}<br> {{quoteprefix}}{{reply_plain_body}} </div> </div> "};},"1.0.0");YUI.add("mail-controller-compose",function(r){var i=r.mail,AB=i.model.ComposeModelFactory,AP=i.Controller,X=AP.extend("Compose"),L=i.Controller.Messages,e=i.model.DataStore,b=r.common,v=b.Utils,AD=v.escapeHtml,D=v.unescapeHtml,O=v.substitute,Aa=v.log,AQ=r.ui.Templates,AE=AQ._shared_module_compose_reply,AM=b.persist.UserData,E=i.persist.MetaData,x=">",J="general.prefixreplyquotetype",AS=null,AU=new RegExp(/<a[^>]*href="([^\s]*?)"[^>]*>[\s]*<span[^>]*id="?lw_\d*?_\d*?"?[^>]*>http(([\s]|[^\s])*?)<\/span>[\s]*<\/a>/ig),N=new RegExp(/<span[^>]*id="?lw_\d*?_\d*?"?[^>]*>(([\s]|[^\s])*?)<\/span>/ig),AF=new RegExp(/<script[^>]*[^>]*>(([\s]|[^\s])*?)<\/script>/ig),S={subject_prefix:function(Y){return strings[(Y.action==="forward")?"str_comp_reply_spFWD":"str_comp_reply_spRE"];},subject_data:function(Y){if(!AS){AS=k();}return Y.oMsg.header.subject.replace(AS,"");}},AG={quotetext_header:function(){return AR()?AE.qthdr:"";},quotetext_footer:function(){return AR()?AE.qtftr:"";},fontfamily:function(){return V().fontFamily;},fontsize:function(){return V().fontSize;},deffontfamily:function(){return AX(false);},deffontsize:function(){return AW(false);},from_data:function(Y){return(AD(D(t(Z(Y.oMsg,true)))));},to_data:function(Y){return(AD(D(H(Y.oMsg.header.to,true))));},cchdr:function(Y){return Y.oMsg.header.cc.length>0?O(AE.cchdr,Y,AG,null,strings):"";},cc_data:function(Y){return(AD(D(H(Y.oMsg.header.cc,true))));},date_data:function(Y){return(AD(v.dateFormatter(new Date(Y.oMsg.header.receivedDate*1000),strings.str_tog_dateformat_header_l10n)));},subject_data:function(Y){return AD(D(Y.oMsg.header.subject));},reply_rich_body:function(Y){return u(Y.oMsg.body.display);},reply_rich_header:function(Y){var Ac=NeoConfig.hasConv?"":AE.rulerHeader,Ab=(Y.action==="forward")?AE.fwdhdr:Ac;return O(Ab,null,null,null,strings);},reply_plain_body:function(Ac){var Ab=u(Ac.oMsg.body.display);if(AR()){try{Ab=B(Ab);}catch(Y){typeof globals!=="undefined"&&globals.report?globals.report("caughterror:..-build-mail-controller-composectrl:1",Y,"TRY_CATCH",1,1,1):window.console&&console.log&&console.log("caughterror:..-build-mail-controller-composectrl:1");}Ab=U(Ab);}return Ab;},reply_plain_header:function(Y){return(strings[(Y.action==="forward")?"str_comp_reply_fwdHeader":"str_comp_reply_origHeader"]);},quoteprefix:function(){return(AR()?x+" ":"");},headerDir:function(){return(NeoConfig.isRTL)?' dir="rtl" ':' dir="ltr" ';}};function P(){return AB.createModel();}function AJ(){}function d(){}function I(Y){var Ac,Ab=w(AM.get("userSendPref.defaultID"));if(Ab){Ac=r.mail.Controller.Compose.injectSignature(Y.get("content"),Y.get("isRichText"),Ab);if(Ac){Y.set("content",Ac);}}}function g(Y){r.use("mail-controller-sendconfirm","mail-ui-sendconfirmview-base-conv",function(Ad){var Ac={sdo:l(Y.cdo,null,{"draftMID":Y.mid},true),auto:Y.auto||null,silent:Y.silent||null,mid:Y.mid},Ab;if(Y.cdo&&Y.cdo.appid){Ac.appid=Y.cdo.appid;}if(Y.cdo){Ab=Y.cdo.get("origin");if(Ab){Ac.cid=Ab.oMsg&&Ab.oMsg.cid;}}if(Y.auto){v.rocketstats.stat("savemessage","auto");}else{v.rocketstats.stat("savemessage","userInitiated");}if(Y.silent){v.rocketstats.stat("savemessage","silent");}Ac.action=Y.cdo.cdoType+"_"+Y.cdo.cdoCount+"_savedraft";Y.cdo.set("composeAction",Ac.action);Ac.actionCount=Y.cdo.get("actionCount");Ad.mail.Controller.SendConfirm.saveMessage(Ac,function(Ae,Ag,Af){Y.cdo.set("saveaction",{mid:Ae,auto:Ac.auto,state:Ag,isMailboxBusy:Af});});});}function h(Y,Ac){var Ab={textConvert:true};Y.set("isRichText",false);Y.set("content",Ac,Ab);}function R(Y){Y.set("isRichText",true);}function AK(Ab,Y){r.common.persist.UserData.set(Ab,Y);setTimeout(function(){r.common.persist.UserData.saveOne(Ab);},10);}function AV(Ad,Ac,Ab,Y){r.Array.each(Ad,function(Ae){if(Ae.uploadState!=="success"){return;}var Af=Ae.original;if(!Af||!Af.mid||Ab){Ac.push({attachment:"upload://"+Ae.diskfilename,disposition:"attachment"});return;}Ac.push({attachment:AZ(Af.fid,Af.mid?Af.mid:Y,Af.partId,Af.tnef),disposition:"attachment"});});}function l(Ap,Ad,Ab,Am){var Ah=Ap.get("header"),Af=Ap.get("origin"),Al=Ap.get("content"),Ao=Ap.get("textcontent"),Ak=Ap.get("isRichText"),Ac=Ap.get("attachments"),Aj=[],Ae=0,Ai=0,An,Y,Ag;if(NeoConfig.useAttComposerTT){AV(Ap.attachments.getAll(false,true),Aj,Ap.get("passive"),Ab?Ab.draftMID:null);}Ag={subject:Ah.subj||Ah.subject,from:Ah.from,to:Ah.to,cc:Ah.cc,bcc:Ah.bcc,replyto:{name:Ah.from.name,email:AO(Ah.from.email)}};j(Af,Ag);if(Ad){Ad.reset();}else{Ad=r.mail.model.SendModelFactory.createModel();}Ad.set("header",Ag);Ad.set("contenttext",Ao);Ad.set("attachments",Aj);if(Ak){Ad.set("contenthtml",Al);}if(Am&&!!Af&&Af.action){Ad.set("origin",Af);}if(Ab){if(Ab.draftMID){Ad.set("draftMID",Ab.draftMID);}if(Ab.cid){Ad.set("cid",Ab.cid);}}return Ad;}function Q(Ab,Ae,Ac,Y){var Ah=Ab.get("origin");if(Ah.action&&Ah.fid&&Ah.oMsg){if(Ah.ctxReq&&r.mail.Controller.Messages){L.abort(Ah.ctxReq);}var Ag,Af={truncateAt:null},Ad={success:function(){s.apply(this,arguments);Y&&Y();},failure:function(){p.apply(this,arguments);},args:{cdo:Ab,isDraft:Ae,stopwatch:Ac}};Ag={fid:Ah.fid,msg:Ah.oMsg,cachekey:"Prime",ovparams:Af};if(Ac&&!Ac.CMGStart){Ac.CMGStart=new Date();}r.use("mail-controller-messages",function(){Ah.ctxReq=r.mail.Controller.Messages.get(Ag,Ad);Ab.set("origin",Ah);});}}function s(Af,Ac){var Y=Ac.args.cdo,Ae=Y.get("origin"),Ab=Ac.args.stopwatch,Ad={};if(Af.mid){if(Ab){if(!Ab.CMGEnd){Ab.CMGEnd=new Date();Ac.respProps&&(Ab.wasCached=Ac.respProps.wasCached);}Ab.CMGSize=Af.body.display.length;}Ae.oMsg=Af;Ae.ctxReq=null;Ae.errInfo="ok";if(Af.yivPrefixNumber){Ad={"yqtdPrefix":Af.yivPrefixNumber};}W(Y,Ac.args.isDraft,Ad);}else{p({msg:this.message},Ac);}}function p(Ac,Ab){var Y=Ab.args.cdo;Y.set("originerror",Ac);}function W(Ak,Ac,Ab){var Ad,Ah,Ae;c(Ak);Ad=f(Ak,Ac);if(NeoConfig.useAttComposerTT){Ae=0;r.Array.each(Ad.attachments,function(Al){if(typeof Ak.attach_map==="undefined"){Ak.attach_map=[];}if(Ak.attach_map[Ae]&&Ak.attachments.get(Ak.attach_map[Ae])){if(Ak.get("origin").action!=="forward"){Ak.attachments.del(Ak.attach_map[Ae]);
Ak.attach_map.splice(Ae,1);}}else{Ah=Ak.attachments.add(Al);Ak.attach_map.push(Ah);}Ae++;});}if(!Ac){var Aj=Ak.get("origin"),Ai=AY(Aj),Af=w(Ai.email),Ag,Y=true;if(Ab&&Ab.noSig){Y=false;}if(Af&&Y){Ag=r.mail.Controller.Compose.injectSignature(null,Ak.get("isRichText"),Af);Ad.prolog=strings.str_cfg_tog_insert_signature_bottom?Ad.prolog+Ag:Ag+Ad.prolog;}}if(Ab&&Ab.yqtdPrefix){Ak.set("yqtdPrefix",Ab.yqtdPrefix);}Ak.set("replyheader",Ad.header);Ak.set("replycontent",Ad.prolog);}function m(Y){var Ad,Ac,Ab;Ad=f(Y,false);if(NeoConfig.useAttComposerTT){Ab=0;r.Array.each(Ad.attachments,function(Ae){if(typeof Y.attach_map==="undefined"){Y.attach_map=[];}if(Y.attach_map[Ab]&&Y.attachments.get(Y.attach_map[Ab])){if(Y.get("origin").action!=="forward"){Y.attachments.del(Y.attach_map[Ab]);Y.attach_map.splice(Ab,1);}}else{Ac=Y.attachments.add(Ae);Y.attach_map.push(Ac);}Ab++;});}}function w(Ae){var Af=AM.get("userSendPref"),Ab,Y,Ad;if(strings.str_cfg_tog_use_accountbased_signature&&Ae&&Ae!==Af.defaultFromAddress){Y=AM.get("aliases.alias");for(var Ac=0;Ac<Y.length;++Ac){Ad=Y[Ac];if(Ae===Ad.address){Ab={text:Ad.signature,isRich:Ad.signatureType==="d",isActive:Ad.addSignature};break;}}}else{Ab={text:Af.signatureText,isRich:Af.richTextSignature==="plainhtml"||Af.richTextSignature==="dhtml",isActive:Af.signatureActive};}return Ab&&Ab.isActive&&Ab.text?Ab:null;}function c(Y){r.use("mail-controller-messages-ops",function(){var Ac=Y.get("origin"),Ad={},Ab=new Array(Ac.oMsg);Ad.read=1;r.mail.Controller.Messages.flag({fid:Ac.fid,mid:Ab,setFlags:Ad},{failure:function(){},suppressCodes:["Client.MessageIdsNotFound"]});});}function f(Y,Ab){var Ac=Y.get("origin"),Ad={prolog:null,header:null,attachments:null};if(Ab){Ad.header=Ac.oMsg.header;Ad.prolog=u(Ac.oMsg.body.display);Ad.attachments=F(Ac);return Ad;}Ad.header=y(Ac);if(Ac.forwardAsAttachment){Ad.prolog="";Ad.attachments=z(Ac);return Ad;}Ad.prolog=AT(Y,Ac);if(Ac.action==="forward"||Ac.action==="reply_sender"||Ac.action==="reply_all"){Ad.attachments=F(Ac);}return Ad;}function AT(Y,Ae){var Ac=AL(Y),Ad=a(Ae),Ab;if(NeoConfig.hasConv){Ab=O(Ac||Ad?AE.reply_rich_short:AE.reply_plain_short,Ae,AG,Y,strings);}else{Ab=O(Ac||Ad?AE.reply_rich:AE.reply_plain,Ae,AG,Y,strings);}if(!Ac&&Ad){Y.set("isRichText",true);}return Ab;}function y(Ag){var Af,Ae=(Ag.action==="reply_sender"||Ag.action==="reply_all"),Ab={from:null,to:null,cc:null,subject:null},Ad=[],Y=[],Ac=(Ag.fid==="Sent"||(Ag.fid==="%40S%40Search"&&Ag.oMsg.sourceFolderInfo.fid==="Sent"));Ab.from=(Ae)?AY(Ag):M();if(Ae){Af=Z(Ag.oMsg);if(!Ac&&Ag.action==="reply_sender"){Y.push(Af);Ab.to=Y;}else{if(!Ac){Y.push(Af);}Ad.push(Af);Ad.push(Ab.from);Ab.to=Y.concat(o(Ag.oMsg.header.to,Ad));Ab.cc=o(Ag.oMsg.header.cc,Ad);if(Ac&&Ab.to.length===0&&Ab.cc.length===0){Ab.to=Ag.oMsg.header.to;if(Ab.to.length===0){Ab.cc=Ag.oMsg.header.cc;}}}}Ab.subject=D(AH(Ag));if(!Ac){r.Array.each(Ag.oMsg.header.replyto||[],function(Ai){var Ah=Ab.to;if(Ah&&(r.Array.indexOf(Ah,Ai)<0)&&(r.Array.indexOf(Y,Ai)<0)){Ab.to.push(Ai);}});}return Ab;}function AH(Ab){var Y=Ab.action==="reply_sender"||Ab.action==="reply_all"||Ab.action==="forward";if(Y){if(Ab.oMsg.header.subject===strings["str_msg-view_no_subject"]){Ab.oMsg.header.subject="";}return O(AE.subject.replace(/\s+$/,""),Ab,S,null,strings);}else{return Ab.oMsg.header.subject;}}function F(Ac){var Y=Ac.oMsg.attachments,Ab=[];r.Array.each(Y,function(Ad){if(Ac.action==="forward"||Ac.action==="edit"||((Ac.action==="reply_sender"||Ac.action==="reply_all")&&(Ad.referencedInline===true||Ad.disposition==="inline"))){Ab.push(T(Ad,Ac));}});return Ab;}function z(Ab){var Y=strings.str_comp_nosubject;if(Ab.oMsg.header.subject.length>0){Y=Ab.oMsg.header.subject.substring(0,240);}if(NeoConfig.useAttComposerTT){return[{filename:Y+".eml",uploadState:"success",size:Ab.oMsg.header.size,original:{fid:Ab.fid,mid:Ab.oMsg.mid,partId:"",tnef:"",disposition:"attachment",displayable:false}}];}return[{filename:Y+".eml",state:{uploaded:true},size:{original:Ab.oMsg.header.size},original:{partId:"",mid:Ab.oMsg.mid,fid:Ab.fid,tnef:""}}];}function T(Y,Ab){if(NeoConfig.useAttComposerTT){return{filename:Y.filename,size:Y.size,mimetype:Y.type+"/"+Y.subtype,thumbnail:Y.thumbnailurl,type:Y.type,referencedInline:Y.referencedInline,uploadState:"success",original:{fid:Ab.fid,mid:Ab.oMsg.mid,partId:Y.partId||"",tnef:Y.tnef,displayable:Y.isDisplayable,disposition:Y.disposition}};}return{filename:Y.filename,mimetype:Y.type+"/"+Y.subtype,size:{original:Y.size},state:{uploaded:true},disposition:Y.disposition,isDisplayable:Y.isDisplayable,original:{partId:Y.partId||"",mid:Ab.oMsg.mid,fid:Ab.fid,tnef:Y.tnefId}};}function AN(Y,Ag,Ae){var Ad=/[\x01-\x08\x0B-\x0C\x0E-\x1F\x7F-\x84\x86-\x9F]/ig,Ab,Af,Ac;if(Y.get("nodeType")===9){Ac=Y.one("body");}else{Ac=Y;}Ab=Ae;Af=this.convertToPlain(Ac,false);Ab=Ab.replace("<!-- ORIGINAL -->","");Ab=Ab.replace(Ad,"");Af=Af.replace(Ad,"");Ab=Ab.replace(/<br\b([^>]*?)\bclass="yui-cursor"(.*?)>/ig,"");Ab=Ab.replace(/<p\b([^>]*)>/ig,"<div$1>");Ab=Ab.replace(/<\/p\b[^>]*>/ig,"</div>");Ab=["<html><body>",'<div style="color:',Ag.foreColor,"; background-color:",Ag.backColor,"; font-family:",Ag.fontFamily,";font-size:",Ag.fontSize,'">',Ab,"</div></body></html>"].join("");return({html:Ab,text:Af});}function AL(Y){return !NeoConfig.low_bandwidth&&Y.get("isRichText");}function AR(){return strings.str_cfg_tog_compose_autoattach_prefix||C(J)==="yes";}function C(Y){return E.get("cg.pref."+Y);}function U(Ab){var Y=x+Ab.replace(/\r?\n|(.{0,80})\r?\n|(.{1,80})$|(.{1,80} +)/mg,"$1$2$3<br />"+x);Y=Y.replace(/(^[\>|(?:&gt;)]+|\<br \/\>(?:\>|\&gt\;)*)/mgi,"$1 ");return Y.substring(0,Y.length-x.length);}function B(Ab,Y){var Ad,Ac=document.createElement("div");Ac.innerHTML=Ab;Ad=r.mail.Controller.Compose.convertGuts(Ac);if(!Y){Ad=AD(Ad);}Ac.innerHTML="";Ac=null;return Ad;}function a(Ac){var Ab=Ac.oMsg.part;if(Ab){for(var Y=0;Y<Ab.length;Y++){if(Ab[Y].subtype==="html"){return true;}}}return false;}function u(Y){if(Y){Y=Y.replace(AU,"$1");Y=Y.replace(N,"$1");
Y=Y.replace(AF,"");}return Y;}function AZ(Ad,Ab,Y,Ac){if(typeof Ac!=="undefined"&&Ac!==""&&Ac!=="null"){return["message:/",encodeURIComponent(Ad),encodeURIComponent(Ab),Y,Ac].join("/");}else{return["message:/",encodeURIComponent(Ad),encodeURIComponent(Ab),Y].join("/");}}function G(Ac){var Ab,Y;if(Ac){return{fontFamily:Ab=AX(true),fontSize:Y=AW(true)};}else{return V();}}function V(){var Y,Ab;Ab=AM.get("userUIPref.composeFontFamily");Ab=Ab.split("|");if(Ab.length>1){Ab=Ab[0];}else{Ab=AX(false);AM.set("userUIPref.composeFontFamily",Ab+"|1");}if(!Ab){Ab=AX(false);AM.set("userUIPref.composeFontFamily",Ab+"|1");}Y=AM.get("userUIPref.composeFontSize");if(Y){Y+="pt";}else{Y=AW(false);}return{fontFamily:Ab,fontSize:Y};}function AX(Y){if(Y){return q()[0];}return strings.str_rte_default_font;}function AW(Y){if(Y){var Ab=q();return""+parseInt(Ab[1],10)+Ab[2];}return parseInt(strings.str_rte_default_font_size,10)+"pt";}function q(){return r.mail.ui.common.Fonts.getPlainTextOption()||[strings.str_comp_plaintext_default_font,strings.str_comp_plaintext_default_font_size,"px"];}function M(){var Ac,Af,Ah,Ad=AM.get("userSendPref.defaultFromAddress"),Ag=AM.get("userSendPref.defaultFromName"),Y=AM.get("externalAccounts")||{},Ab=Y.extAccountsTotal||0,Ae=Y.extAccount||[];if(Ab>0){for(Ac=0;Ac<Ab;Ac++){Af=Ae[Ac];Ah=Af.address;if(Af.address&&Af.address.length>0&&Af.isDefault){Ad=Af.address;Ag=Af.fromName;if(Ag===""){Ag=AM.get("userSendPref.defaultFromName");}}}}return({name:Ag,email:Ad});}function AY(Ac){var Ab,Y={email:AM.get("userSendPref.defaultFromAddress"),name:AM.get("userSendPref.defaultFromName")};if(Ac.fid==="Sent"){return Z(Ac.oMsg);}Ab=A(Ac.oMsg.header.to,Y);if(!Ab){Ab=A(Ac.oMsg.header.cc,Y);}if(!Ab){Ab=A(Ac.oMsg.header.bcc,Y);}if(!Ab){Ab=M();}return Ab;}function A(Af,Ah){var Ae,Ag=null,Ad={},Ai=(AM.get("externalAccounts")||{}).extAccount||[],Ac=(AM.get("aliases")||{}).alias||[],Ab=(AM.get("disposableAddresses")||{}).deaName||[],Y=function(Aj){if(Aj&&Aj.address&&(Aj.address===Ad.email)){Ag={email:Aj.address,name:Aj.fromName};return true;}};for(Ae=0;!Ag&&(Ae<Af.length);Ae++){Ad=Af[Ae];if(Ad.email===Ah.email){return Ah;}r.Array.some([].concat(Ai,Ac,Ab),Y);}return Ag;}function AI(Y,Ae){var Ad=0,Ac=Ae.length,Ab=new Array(Ac);while(Ac--){Ab[Ad]=Y(Ae[Ad++]);}return Ab;}function AC(Y){return(Y.name)?Y.name:Y.email;}function t(Ab){var Y="";if(Ab.name){Y=AA(Ab.name)?'"'+Ab.name+'"':Ab.name;}if(Ab.email){Y+=(Y.length)?" <"+Ab.email+">":Ab.email;}return Y;}function AA(Y){return(Y.match(/[;,"<>@]/)!==null);}function Z(Ab,Y){if(!Y&&Ab.header.replyto&&Ab.header.replyto.length>0){return Ab.header.replyto[0];}else{return Ab.header.from;}}function H(Ac,Y,Ab){Ac=o(Ac,Ab);return AI(Y?t:AC,Ac).join("; ");}function o(Ab,Y){return n(Ab,Y);}function n(Ae,Ag){var Ad,Ab,Ac,Af=[],Y;for(Ad=0;Ad<Ae.length;Ad++){Y=false;if(!Ae[Ad].email){continue;}Ac=Ae[Ad].email.toLowerCase();if(Ag){for(Ab=0;Ab<Ag.length;Ab++){if(Ac===Ag[Ab].email.toLowerCase()){Y=true;break;}}}if(!Y){Af.push({name:Ae[Ad].name,email:Ae[Ad].email});if(Ag){Ag.push(Ae[Ad]);}}}return Af;}function AO(Ad){var Ac=Ad,Y=AM.get("userSendPref.defaultFromAddress"),Ab=function(Ae){if(Ae&&Ae.address&&(Ae.address===Ad)){Ac=(Ae.replyTo||Ae.address);}};if(Y===Ad){return AM.get("userSendPref.defaultReplyToAddress")||Y;}r.Array.each([].concat((AM.get("externalAccounts")||{}).extAccount||[],(AM.get("aliases")||{}).alias||[],(AM.get("disposableAddresses")||{}).deaName||[]),Ab);return Ac;}function j(Ab,Ac){if(Ab.oMsg&&Ab.oMsg.header){var Y=Ab.oMsg.header;Ac.inreplyto=Y.messageId||Y.inReplyTo;Ac.references="";if(Y.references){Ac.references=Y.references+" ";}else{if(Y.inReplyTo){Ac.references=Y.inReplyTo+" ";}}Ac.references+=Y.messageId;}}function k(){return new RegExp("(^"+"re:"+"\\s?)|"+"(^"+"fw:"+"\\s?)|"+"(^"+strings.str_comp_reply_spRE+"\\s?)|"+"(^"+strings.str_comp_reply_spFWD+"\\s?)","i");}function K(Ad,Ag){var Y=r.mail.Controller.Compose.convertHTMLToPlain,Af=Y(Ad),Ah=Y(Ag),Ae=Af.replace(Ah,""),Ac=["see attached","see attachment","find the included","see included","is attached","attached is","are attached","please find attached","attached are","attached to this email","attached to this message","I'm attaching","I am attaching","find attached","find the attached","find included","attached file","see the attached","see attachments","attached files","I've attached","I have attached"];for(var Ab in Ac){if(Ae.indexOf(Ac[Ab])!=="-1"){return Ac[Ab];}}return false;}r.mix(X,{createCDO:P,insertSignature:I,applyStationery:AJ,addAttachment:d,assembleSendBody:AN,transformSend:l,save:g,savePref:AK,toPlainText:h,toRichText:R,fetchOrigin:Q,getDefaultFontInfo:G,getStyleFontFamily:AX,getStyleFontSize:AW,getDefaultFromAddress:M,seedSubject:AH,htmlToText:B,getSignature:w,convertAttachmentData:F,attachAlert:K,updateAttachments:m,getBody:AT,getHeaderContent:y,transformOrigin:f,updateFromOrigin:W},true);},"3.0.0",{requires:["mail-controller-base","mail-model-compose","mail-model-send","common-persist-user-data","mail-persist-meta-data","mail-ui-common-fonts","_shared_module_compose_reply"]});YUI.add("_shared_module_compose_message_header",function(A){A.namespace("ui.Templates");A.ui.Templates._shared_module_compose_message_header={base:'<div class="compose-header"> <div class="field label-left account-select hidden"> <label for="from-field">{{str_msg_hdr_label_from}}</label> <div class="custom-select from-selector"> <select id="from-field" class="cm-from-field from-select"> {{compose_from_address}} </select> </div> </div> <div class="field label-left contact-search"> <label for="to-field">{{str_comp_label_to}}</label> <span class="btn left right user-search btn-kiosk-choosecontact" data-action="modal"><a role="button" id="to_add_contacts" class="icon add" tabindex="-1" title="{{str_comp_btn_to_add_attr}}"><i>{{str_comp_btn_to_add}}</i></a></span> {{make_reply_all}} <div id="to" class="cm-to ac-input" data-action="autocomplete" tabindex="-1"> <ul role="presentation"> {{conversation_user}} <li role="presentation" class="recipient-input"> <input role="textbox" aria-autocomplete="list" aria-expanded="false" id="to-field" name="to-field" class="cm-to-field" value=""> </li> </ul> </div> </div> <div class="field label-left contact-search"> <label for="cc-field">{{str_comp_label_cc}}</label> <span class="btn left right user-search btn-kiosk-choosecontact" data-action="modal"><a role="button" id="cc_add_contacts" class="icon add" tabindex="-1" title="{{str_comp_btn_to_add_attr}}"><i>{{str_comp_btn_cc_add}}</i></a></span> <span id="btn-show-bcc" class="cm-btn-show-bcc bcc-btn btn left right small"><a role="button" href="bcc-group&amp;btn-show-bcc=0" id="bcc_show_btn" tabindex="-1" data-action="toggle-visibility">{{str_comp_btn_show_bcc}}</a></span> <div id="cc" class="cm-cc ac-input" data-action="autocomplete" tabindex="-1"> <ul role="presentation"> <li role="presentation" class="recipient-input"> <input role="textbox" aria-autocomplete="list" aria-expanded="false" id="cc-field" name="cc-field" class="cm-cc-field"> </li> </ul> </div> </div> <div id="bcc-group" class="cm-bcc-group field label-left contact-search hidden"> <label for="bcc-field">{{str_comp_label_bcc}}</label> <span class="btn left right user-search btn-kiosk-choosecontact" data-action="modal"><a role="button" id="bcc_add_contacts" class="icon add" tabindex="-1" title="{{str_comp_btn_to_add_attr}}"><i>{{str_comp_btn_bcc_add}}</i></a></span> <span class="bcc-btn btn left right small"><a role="button" href="bcc-group&amp;btn-show-bcc=1" id="bcc_hide_btn" tabindex="-1" data-action="toggle-visibility">{{str_comp_btn_hide_bcc}}</a></span> <div id="bcc" class="cm-bcc ac-input" data-action="autocomplete" tabindex="-1"> <ul role="presentation"> <li role="presentation" class="recipient-input"> <input role="textbox" aria-autocomplete="list" aria-expanded="false" id="bcc-field" name="bcc-field" class="cm-bcc-field"> </li> </ul> </div> </div> <div class="field label-left subject"> <label for="subject-field">{{str_comp_label_subject}}</label> <div id="subject" class="cm-subject"><span> <input id="subject-field" name="subject-field{{timestamp_id}}" class="cm-subject-field" data-action="compose-subject" value="{{conversation_user1}}" /> </span></div> </div> </div> ',compose_from_address:'<option value="{{fromAddress}}"{{fromSelected}}>{{fromAddress}}</option> ',make_reply_all:'<span class="btn left right small makereplyall-btn replyall-toggle-btn hidden" data-action="make-replyall"><a id="btn-switch-reply-mode" tabindex="-1" role="button">{{title}}</a></span>',conversation_user:'<li role="presentation" class="recipient"> <span class="small btn left right lozenge {{lozengeerror}}"><a>{{conversation_user}}</a></span> </li> ',conversation_user1:"Our conversation on {{timestamp}}"};},"1.0.0");YUI.add("_shared_module_compose_quick_reply_card_actions",function(A){A.namespace("ui.Templates");A.ui.Templates._shared_module_compose_quick_reply_card_actions={base:'<div class="qr-card-actions {{tallCompose}}"> <span class="right"><a data-action="qr-cancel" role="button" class="icon icon-close s-tp" title="{{str_btn_discard}}"></a></span></div>',tallCompose:"tallCompose"};},"1.0.0");YUI.add("_shared_module_compose_message_header_fresh",function(A){A.namespace("ui.Templates");A.ui.Templates._shared_module_compose_message_header_fresh={base:'<div class="compose-header fresh"> {{show_full_header}} </div> ',quick_reply_card_actions:"{{_shared_module_compose_quick_reply_card_actions}} ",compose_from_address:'<option value="{{fromAddress}}"{{fromSelected}}>{{fromAddress}}</option> ',quickCompose:'<span class="menu" data-action="menu"> <a href="#" aria-haspopup="true" role="button" class="icon arrow-down"><b></b></a></span>',make_reply_all:'<span class="small makereplyall-btn replyall-toggle-btn hidden" data-action="make-replyall"><a id="btn-switch-reply-mode" tabindex="-1" role="button">{{title}}</a></span>',conversation_user:'<li role="presentation" class="recipient"> <span class="small lozenge {{lozengeerror}}"><a>{{conversation_user}}</a></span> </li> ',subject_hidden:"hidden",conversation_user1:"Our conversation on {{timestamp}}",less_than_IE10:'<span class="IEplaceholder large cm-subject-field"> {{str_comp_add_subject}} </span> ',show_full_header:'{{quick_reply_card_actions}} <div class="field account-select hidden"> <label for="from-field" class="compose-label">{{str_msg_hdr_label_from_fresh}}</label> <div class="custom-select from-selector"> <select id="from-field" class="cm-from-field from-select"> {{compose_from_address}} </select> </div> </div> {{quickCompose}} <div id="to-group" class="field contact-search cm-to-group"> <a class="compose-label label-to-field choose-contact" tabindex="-1" id="to_add_contacts" title="{{str_comp_btn_to_add_attr}}">{{str_comp_label_to_fresh}}</a> <div class="address-btns"> <span id="btn-show-cc-in-to" class="cm-btn-show-cc cc-btn small" tabindex="-1"><a role="button" href="cc-group&amp;btn-show-cc=0" id="cc_show_btn_in_to" tabindex="-1" data-action="toggle-visibility">{{str_comp_btn_show_cc}}</a></span> {{make_reply_all}} </div> <div id="to" class="cm-to ac-input" data-action="autocomplete" tabindex="-1"> <ul role="presentation"> {{conversation_user}} <li role="presentation" class="recipient-input"> <input role="textbox" aria-autocomplete="list" aria-expanded="false" id="to-field" name="to-field" class="cm-to-field" value=""> </li> </ul> </div> </div> <div id="cc-group" class="cm-cc-group field contact-search hidden"> <a class="compose-label label-cc-field choose-contact" id="cc_add_contacts" title="{{str_comp_btn_to_add_attr}}" tabindex="-1">{{str_comp_label_cc_fresh}}</a> <div class="address-btns"> <span class="cc-btn small"><a role="button" href="cc-group&amp;btn-show-cc=1" id="cc_hide_btn" tabindex="-1" data-action="toggle-visibility">{{str_comp_btn_hide_cc}}</a></span> <span id="btn-show-bcc-in-cc" tabindex="-1" class="cm-btn-show-bcc bcc-btn small btn-bcc-in-cc"><a role="button" href="bcc-group&amp;btn-show-bcc=0" id="bcc_show_btn_in_cc" tabindex="-1" data-action="toggle-visibility">{{str_comp_btn_show_bcc_fresh}}</a></span> </div> <div id="cc" class="cm-cc ac-input" data-action="autocomplete" tabindex="-1"> <ul role="presentation"> <li role="presentation" class="recipient-input"> <input role="textbox" aria-autocomplete="list" aria-expanded="false" id="cc-field" name="cc-field" class="cm-cc-field"> </li> </ul> </div> </div> <div id="bcc-group" class="cm-bcc-group field contact-search hidden"> <a class="compose-label label-bcc-field choose-contact" tabindex="-1" id="bcc_add_contacts" title="{{str_comp_btn_to_add_attr}}">{{str_comp_label_bcc_fresh}}</a> <div class="address-btns"> <span class="bcc-btn small" tabindex="-1"><a role="button" href="bcc-group&amp;btn-show-bcc=1" id="bcc_hide_btn" tabindex="-1" data-action="toggle-visibility">{{str_comp_btn_hide_bcc}}</a></span> </div> <div id="bcc" class="cm-bcc ac-input" data-action="autocomplete" tabindex="-1"> <ul role="presentation"> <li role="presentation" class="recipient-input"> <input role="textbox" aria-autocomplete="list" aria-expanded="false" id="bcc-field" name="bcc-field" class="cm-bcc-field"> </li> </ul> </div> </div> <div class="field subject {{subject_hidden}}"> <div id="subject" class="cm-subject"> <label> <span> <input id="subject-field" name="subject-field{{timestamp_id}}" class="cm-subject-field large" data-action="compose-subject" value="{{conversation_user1}}" placeholder="{{str_comp_add_subject}}"/> </span> {{less_than_IE10}} </label> </div> </div> '};},"1.0.0",{requires:["_shared_module_compose_quick_reply_card_actions"]});YUI.add('search_strings', function(Y) {
Y.namespace("mail");
Y.mix(strings,{"str_srch_contacts_search_did_you_mean":"Related searches:","str_srch_status":"{{search_results_count}} results","str_srch_status_single":"{{search_results_count}} result","str_srch_refine":"Refine","str_srch_search_result_for":"Search results for \"{{searchTerm}}\"","str_srch_select_this_msg":"Select this message","str_conv_title_conversation_history":"Conversation History","str_tog_snippet_hellip":true,"str_menu_sort_sender_up":"SENDER","str_menu_sort_attachment_up":"ATTACHMENTS","str_srch_folder":"Folder: {{folder}}","str_srch_contacts_search_from_instead_title":"Search for messages and files sent from {{searchingContact}} instead (as well)","str_srch_contacts_search_from_instead":"Search for messages and files sent from {{searchingContact}} instead","str_srch_contacts_search_to_instead":"Search for messages and files sent to {{searchingContact}} instead","str_srch_contacts_search_to_instead_title":"Search for messages and files sent to {{searchingContact}} instead (as well)","str_srch_no_results":"No messages found","str_srch_nothing":"No results found","str_srch_nothing_help":"Help us find what you are looking for:","str_srch_nothing_tip1":"Check the spelling on your Search terms","str_srch_nothing_tip2":"Try a more generic search term.","str_srch_nothing_tip3":"If you searched by a keyword, try searching by sender instead.","str_srch_nothing_desc":"We found no messages matching your query: \"{{queryString}}\"","str_srch_undo_attachtype_attr":"{{refineattachcat}}","str_srch_undo_folder_attr":"{{folder}}","str_srch_undo_sender_attr":"{{recipient}}","str_srch_undo_date_attr":"{{refinedate}}","str_srch_undo_flag_attr":"{{refineflag}}","str_srch_sender_attr":"{{recipient}}","str_srch_attachtype_attr":"{{refineattachcat}}","str_srch_date_attr":"{{refinedate}}","str_srch_folder_attr":"{{folder}}","str_srch_flag_attr":"{{refineflag}}","str_mail_dateformat_AM_l10n":"AM","str_mail_dateformat_PM_l10n":"PM","str_mail_day":"Day","str_mail_month":"Month","str_mail_month_abbr_april":"Apr","str_mail_month_abbr_august":"Aug","str_mail_month_abbr_december":"Dec","str_mail_month_abbr_february":"Feb","str_mail_month_abbr_january":"Jan","str_mail_month_abbr_july":"Jul","str_mail_month_abbr_june":"Jun","str_mail_month_abbr_march":"Mar","str_mail_month_abbr_may":"May","str_mail_month_abbr_november":"Nov","str_mail_month_abbr_october":"Oct","str_mail_month_abbr_september":"Sep","str_mail_month_april":"April","str_mail_month_august":"August","str_mail_month_december":"December","str_mail_month_february":"February","str_mail_month_january":"January","str_mail_month_july":"July","str_mail_month_june":"June","str_mail_month_march":"March","str_mail_month_may":"May","str_mail_month_november":"November","str_mail_month_october":"October","str_mail_month_september":"September","str_mail_plus_in_product_link_text":"Lose the ads!  Try Mail Plus.","str_mail_today":"Today","str_mail_weekday_abbr_friday":"Fri","str_mail_weekday_abbr_monday":"Mon","str_mail_weekday_abbr_saturday":"Sat","str_mail_weekday_abbr_sunday":"Sun","str_mail_weekday_abbr_thursday":"Thu","str_mail_weekday_abbr_tuesday":"Tue","str_mail_weekday_abbr_wednesday":"Wed","str_mail_weekday_friday":"Friday","str_mail_weekday_monday":"Monday","str_mail_weekday_saturday":"Saturday","str_mail_weekday_sunday":"Sunday","str_mail_weekday_thursday":"Thursday","str_mail_weekday_tuesday":"Tuesday","str_mail_weekday_wednesday":"Wednesday","str_mail_year":"Year","str_mail_yesterday":"Yesterday","str_srch_ad_abbr":"AD","str_srch_add_filters":"Add More Filters","str_srch_after":"after:","str_srch_also_try":"Also try:","str_srch_before":"before:","str_srch_bmp":"BMP","str_srch_contacts_nothing_desc":"We found no messages or files from {{searchingContact}}","str_srch_date_last_month":"Last Month","str_srch_date_last_week":"Last Week","str_srch_date_today":"Today","str_srch_doc":"DOC","str_srch_docx":"DOCX","str_srch_dot":"DOT","str_srch_dotx":"DOTX","str_srch_enter_full":"-- Enter for full search","str_srch_enter_search_terms":"Please enter one or more search terms.","str_srch_enter_search_terms_title":"No search terms entered.","str_srch_find_by_date":"Find messages you received recently:","str_srch_find_by_file":"Find messages with attachments such as photos, videos, Word docs, and more.","str_srch_find_by_person":"Find messages from a specific person. Type in a name, Yahoo! ID or email address.","str_srch_flagged":"Starred","str_srch_forwarded":"Forwarded","str_srch_from":"From:","str_srch_htm":"HTM","str_srch_jpeg":"JPEG","str_srch_jpg":"JPG","str_srch_more_from":"More from {{sender}}","str_srch_more_from_attr":"Find all messages from {{sender}}.","str_srch_mp3":"MP3","str_srch_mpeg":"MPEG","str_srch_mpg":"MPG","str_srch_msword":"Word","str_srch_notrefined":"To show results faster, we did not create filters for this search.","str_srch_pagination_footer":"Page {{current}} of {{total}}","str_srch_person_btn":"Search","str_srch_person_btn_attr":"Search","str_srch_png":"PNG","str_srch_pot":"POT","str_srch_potx":"POTX","str_srch_ppt":"PPT","str_srch_pptx":"PPTX","str_srch_read":"Read","str_srch_refineby_attachment":"Attachments","str_srch_refineby_date":"Date","str_srch_refineby_event":"Events \/ To Dos","str_srch_refineby_folder":"Folder","str_srch_refineby_sender":"Sender","str_srch_refineby_sender_details":"Sender Details","str_srch_refineby_status":"Status","str_srch_refineby_type":"Message Type","str_srch_refined_by":"Refined by","str_srch_refinements":"Refine by","str_srch_related_res":"Related Web Searches","str_srch_replied":"Replied","str_srch_rtf":"RTF","str_srch_searching":"Searching...","str_srch_showrefinements":"Show Filters","str_srch_sponsored_ad_based_on":"This ad is based on search for","str_srch_sponsored_res":"Sponsored Results","str_srch_tif":"TIF","str_srch_tiff":"TIFF","str_srch_title_remove_refinement_attr":"Remove Filter","str_srch_type_name":"Type name or email address","str_srch_unflagged":"Unstarred","str_srch_unread":"Unread","str_srch_view_all":"Show More","str_srch_view_all_attachment_attr":"View All Attachments","str_srch_view_all_date_attr":"View All Dates","str_srch_view_all_folder_attr":"View All Folders","str_srch_view_all_sender_attr":"View All Senders","str_srch_view_all_type_attr":"View All Types","str_srch_view_less":"Show Less","str_srch_view_less_attachment_attr":"View Less Attachments","str_srch_view_less_sender_attr":"View Less Senders","str_srch_with":"With {{recipient}}","str_srch_with_attr":"Messages sent by {{recipient}}","str_srch_with_me":"With Me,","str_srch_with_me_attr":"Only show messages sent by Me","str_srch_xls":"XLS","str_srch_xlsb":"XSLB","str_srch_xlsm":"XSLM","str_srch_xlsx":"XLSX","str_srch_xlt":"XLT","str_srch_xltx":"XLTX","str_dm_title":"Mail search tips","str_dm_description":"Start you search with \"subject:\" to search within subject lines","str_dm_pretty_url":"More tips","str_dm_note":"Advertisement","str_search_ads_title":"Sponsored"});
}, '1.0.0');YUI.add("comms-utils",function(E){E.namespace("comms");var B={},D=E.Object,C=E.Lang,A=C.trim,F=/{{([^{}]*)}}/g;E.mix(B,{substitute:function(M,L,I,H,G,K,J){if(typeof M!=="string"){return;}if(J){M=J.str||M;L=J.obj||L;I=J.formatters||I;H=J.args||H;G=J.strings||G;K=J.templates||K;}return M.replace(F,function(O,N){var Q,P,R=B.substitute;if(I&&(Q=(J&&J.formatters)?J.formatters[N]:I[N])){return(Q(L,H,J))||"";}else{if(L&&N in L){P=L[N];return typeof P==="string"&&P.match(F)?R(P,L,I,H,G,K,J):P;}else{if(G&&N in G){P=G[N];return P.match(F)?R(P,L,I,H,G,K,J):P;}else{if(K&&N in K){return R(K[N].base||K[N],L,I,H,G,K,J);}else{return"";}}}}});},escapeHtml:function(G){if(G===null){return null;}G=""+G;G=G.replace(/&(?!(amp|lt|gt|quot|#39|#92);)/g,"&amp;");G=G.replace(/</g,"&lt;");G=G.replace(/>/g,"&gt;");G=G.replace(/\"/g,"&quot;");G=G.replace(/\'/g,"&#39;");G=G.replace(/\\/g,"&#92;");return G;},unescapeHtml:function(G){if(G===null){return null;}G=""+G;G=G.replace(/&amp;/g,"&");G=G.replace(/&lt;/g,"<");G=G.replace(/&gt;/g,">");G=G.replace(/&quot;/g,'"');G=G.replace(/&#39;/g,"'");G=G.replace(/&#92;/g,"\\");return G;},createAddress:function(M){var G=false,I=null,H=null,K=/(<[^<>]+@[^<>]+\.[^<>]+>)|(\([^\(\)]+@[^\(\)]+\.[^\(\)]+\))|(\[[^\[\]]+@[^\[\]]+\.[^\[\]]+\])/,L,J=M.replace(/\".*\"/g,"");if(!A(J)||J.indexOf("@")<0){return{fail:true,email:M,name:B.escapeHtml(M)};}if(K.test(M)){L=M.match(K);H=L[0];I=A(M.replace(H,""));H=H.substring(1,H.length-1);}else{H=I=A(M);}if(!B.isValidEmail(H)){G=true;}return{fail:G,email:H,name:B.escapeHtml(I)};},isValidEmail:function(R){if(!R){return false;}var N=0,H=R,J=R.lastIndexOf("@"),S=R.substr(0,J),M=S.replace(/\\\\/g,""),I=S.length,L=R.substr(J+1),G=L.length,O=/^(\\.|[A-Za-z0-9!#%&`_=\/$'*+?^{}|~.-])+$/,K=/^"(\\"|[^"])+"$/,Q=/(^\..*)|(.*\.$)/,P=/^[A-Za-z0-9\-]+$/,T=/\.\./;if(!O.test(M)&&!K.test(M)){H=false;}L=L.split(".");G=L.length;if(G<2){H=false;}while(N<G){if(!P.test(L[N++])){H=false;}}return H;},splitName:function(M){var Q={},N,J,L=A(M),R,H,K=[],I=((strings.str_name_format).replace(/\{|\}/g,"")).split(" "),P=/^(?:\w[^\s@]*@[^\s@]+\.[^\s@]{2,})?$/,O=false,G=true;if(I[0]=="family_name"){O=true;}if(I.length<3){G=false;}while(L){R=L.match(/([^\u3000\s]*)[\u3000\s]+/);if(!R||R.length!==2||!R[0]){K.push(L);break;}K.push(R[1]);L=L.substring(R[0].length);}N=K.length;for(J=0;J<N;J+=1){H=K[J];switch(J){case 0:if(H){Q[(O?"familyName":"givenName")]=(N==1&&P.test(H))?"":H;}break;case 1:if(G&&2<N){Q.middleName=H;}else{Q[(O?"givenName":"familyName")]=H;}break;case 2:if(G){Q[(O?"givenName":"familyName")]=H;}else{Q[(O?"givenName":"familyName")]+=" "+H;}break;default:Q[(O?"givenName":"familyName")]+=" "+H;}}return Q;}});E.comms.Utils=B;},"1.0.0",{requires:[]});YUI.add("comms-ui-lozenge",function(E){var O=E.common.Utils.substitute,M=E.common.Utils.escapeHtml,B=E.comms.Utils,P=E.Lang.trim,A={base:'<li class="hLozenge"><span role="button" class="lozenge-static {{errorClass}}" title="{{hover}}">{{label}}</span>{{editable}}</li>',edit:'<input class="lozenge-edit mask" type="text" value="{{fullDisplayData}}">'},H;E.on("click",function(T){if(!T.altKey&&!T.shiftKey&&!T.ctrlKey&&!T.metaKey){var U=E.all(".hLozenge");U.each(function(V){if(V!==T.target&&V!==T.target.get("parentNode")&&V.hasClass("focus")){V.removeClass("focus");}});}});H=function(T){var Y=this,X,U,W,V;Y.label=T.label||"";Y.hover=T.hover||"";Y.valFn=T.valFn||null;Y.error=T.error||false;Y.menu=T.menu||null;Y.edit=T.edit||false;Y.copy=T.copy||false;Y.bidi=T.bidi||false;if(NeoConfig){Y.bidi=!!(NeoConfig.bidi);}Y.data=T.data||{name:"",email:"",cid:null};Y.validate();X=E.Node.create(O(A.base,null,null,null,{label:M(this.label),editable:Y.edit?A.edit:"",errorClass:Y.error?"lozenge-error":""}));U=Y.staticL=X.one(".lozenge-static");U.setAttribute("title",Y.hover);X.setData("lozenge",Y);X.setData("user",Y.data);if(Y.bidi){V=E.Intl.detectDirection(Y.label.replace(/&gt;/g,">").replace(/&lt;/g,"<").replace(/&quot;/g,">").replace(/&amp;/g,"&"));X.setAttribute("dir",V);X.addClass(V);}E.on("contextmenu",Y.popupMenu,U,Y);if(Y.edit){W=Y.editL=X.one(".lozenge-edit");W.setAttribute("value",Y.getFullDisplayData());E.on("click",Y.highlight,U,Y);E.on("dblclick",Y.startEdit,U,Y);E.on("keydown",Y.typeEdit,W,Y);E.on("blur",Y.finishEdit,W,Y);}Y.rootNode=X;};function I(T){var U=this;E.use("contacts-ui-contact-popup",function(X){var Z=U.getNode(),V=Z.ancestor("ul"),W=U.data;W.copyable=U.copy;W.editable=U.edit;W.isContext=true;W.stateChangeCB=function(Y){if(X.Node.getDOMNode(Z)){if(Y.state==="show"){Z.addClass("focus");}else{Z.removeClass("lozenge-open-menu").removeClass("focus");}}};if(V){V.all("li").removeClass("focus");}X.mail.ContactPopup.showContactMenu(X.mail.ContactPopup.TYPE_INTERMEDIATE,U.rootNode,W,U.error);if(Z.menu&&Z.menu.isVisible()){T.stopPropagation();}});T.preventDefault();}function G(d){var a=function(e){e.addClass("focus");E.fire("lozenge:highlight");};var h=(E.UA.os==="macintosh")?d.metaKey:d.ctrlKey;var Z=-2,g=-1,f=-1,b,W=-1,U,X,T=true;var V,Y;if(h||d.shiftKey){V=this.rootNode.ancestor(".ac-input");if(V){this.rootNode.ancestor(".compose-header").all(".ac-input").each(function(e){if(e!==V){e.all(".hLozenge").removeClass("focus");}});}if(h){if(this.rootNode.hasClass("focus")){this.rootNode.removeClass("focus");}else{a(this.rootNode);}}else{if(V){var c=V.all(".hLozenge");c.each(function(e){if(e.hasClass("focus")){b=c.indexOf(e);(W===b-1&&T)?T=true:((W>=0)?T=false:T=true);if(g<b){g=b;}if(Z<0){Z=b;}W=b;}});f=c.indexOf(this.rootNode);if(Z===g||f<Z||f>g){if(f<Z){if(!T){U=f;X=Z;}else{U=f;X=g;}}else{if(f>g){if(!T){U=g;X=f;}else{U=Z;X=f;}}}}else{U=Z;X=f;}c.removeClass("focus");if(U<0||X<0){a(this.rootNode);}else{for(b=U;b<=X;b++){a(c.item(b));}}}}}else{Y=this.rootNode.ancestor(".compose-header");if(Y){Y=Y.all(".hLozenge");Y.removeClass("focus");}a(this.rootNode);}}function R(){var U=this,T=U.getFullDisplayData();U.staticL.setContent(M(T));U.editL.removeClass("mask");U.staticL.addClass("mask");U.editL.focus();U.editL.setAttribute("value",T);}function C(X){var Z=this,W,Y,T,V,U=X.keyCode;if(U===13){W=Z.rootNode.ancestor("div");if(W){Y=W.get("scrollTop");T=W.all("li");V=T.item(T.size()-1).one("input");V.focus();E.later(50,Z,function(){W.set("scrollTop",Y);V.addClass("whiteout");});}}else{Z.staticL.setContent(M(Z.editL.get("value")));Z.staticL.setAttribute("title",Z.getFullDisplayData());}}function K(){var U=this;var T=P(U.editL.get("value"));if(!T){U.remove();return;}U.data=U.createUserDataFromString(T);U.validate();U.setState();U.setLabel();U.staticL.setAttribute("title",U.getFullDisplayData());U.staticL.removeClass("mask");U.editL.addClass("mask");}function F(){return this.rootNode;}function L(){var T=this;if(T.valFn){if(!T.valFn.call(T,T.data)){T.data.fail=true;T.error=true;return false;}}else{if(!B.isValidEmail(T.data.email)){T.data.fail=true;T.error=true;return false;}}T.data.fail=false;T.error=false;return true;}function Q(){var T=this.data,U;U=T.name||T.email;this.staticL.setContent(M(U));}function N(){if(this.error){this.staticL.addClass("lozenge-error");}else{this.staticL.removeClass("lozenge-error");}}function J(Z){var T=false,V=null,U=null,X=/(<[^<>]+[^<>]+\.[^<>]+>)|(\([^\(\)]+@[^\(\)]+\.[^\(\)]+\))|(\[[^\[\]]+@[^\[\]]+\.[^\[\]]+\])/,Y,W;Z=P(Z);W=Z.replace(/\".*\"/g,"");if(!P(W)||W.indexOf("@")<0){T=true;U=V=Z;}else{if(X.test(Z)){Y=Z.match(X);U=Y[0];V=P(Z.replace(U,""));U=U.substring(1,U.length-1);}else{U=V=Z;}if(B.isValidEmail(U)){this.error=false;T=false;}else{this.error=true;T=true;}}return{fail:T,email:U,name:V};}function D(){var U=this.data,V=U.name||"",T=U.email;if(this.error){return T;}V=(V===T)?"":V+" ";return V+"<"+T+">";}function S(){var T=this;T.rootNode.remove().destroy(true);E.fire("lozenge:remove");}H.prototype={popupMenu:I,highlight:G,startEdit:R,typeEdit:C,finishEdit:K,getNode:F,validate:L,setLabel:Q,setState:N,getFullDisplayData:D,createUserDataFromString:J,remove:S};E.namespace("comms.ui");E.comms.ui.Lozenge=H;E.comms.ui.LozengeUtils={makeContact:function(h,T){var a,X=[],Y=[],f,Z,U,e,d,g,c,b=h.all("span.lozenge");for(a in T){Z=T[a].fields;for(var W=0,V=Z.length;W<V;W++){f=Z[W];if(f.type==="email"){X=X.concat(f.value);}else{if(f.type==="name"){U=f.value;e=E.common.Utils.substitute(strings.str_name_format,{given_name:U.givenName,family_name:U.familyName});Y=Y.concat(e);}}}}b.each(function(i){if(i.hasClass("lozengeadd")){g=i.getAttribute("data-address");for(d=0;d<X.length;d++){if(X[d]===g){i.remove();if(c){c.addClass("right");e=Y[d];if(e){c.one("a").setContent(e);}c=null;}}}}else{c=i;}});}};},"0.0.1",{requires:["comms-ui-lozenge_css","common-utils","comms-utils","node"]});/*
YUI 3.13.0 (build 3.13.0-ym3)
Copyright 2014 Yahoo! Inc. All rights reserved.
Licensed under the BSD License.
http://yuilibrary.com/license/
*/

YUI.add("widget-stdmod",function(e,t){function H(e){}var n=e.Lang,r=e.Node,i=e.UA,s=e.Widget,o="",u="hd",a="bd",f="ft",l="header",c="body",h="footer",p="fillHeight",d="stdmod",v="Node",m="Content",g="firstChild",y="childNodes",b="ownerDocument",w="contentBox",E="height",S="offsetHeight",x="auto",T="headerContentChange",N="bodyContentChange",C="footerContentChange",k="fillHeightChange",L="heightChange",A="contentUpdate",O="renderUI",M="bindUI",_="syncUI",D="_applyParsedConfig",P=e.Widget.UI_SRC;H.HEADER=l,H.BODY=c,H.FOOTER=h,H.AFTER="after",H.BEFORE="before",H.REPLACE="replace";var B=H.HEADER,j=H.BODY,F=H.FOOTER,I=B+m,q=F+m,R=j+m;H.ATTRS={headerContent:{value:null},footerContent:{value:null},bodyContent:{value:null},fillHeight:{value:H.BODY,validator:function(e){return this._validateFillHeight(e)}}},H.HTML_PARSER={headerContent:function(e){return this._parseStdModHTML(B)},bodyContent:function(e){return this._parseStdModHTML(j)},footerContent:function(e){return this._parseStdModHTML(F)}},H.SECTION_CLASS_NAMES={header:s.getClassName(u),body:s.getClassName(a),footer:s.getClassName(f)},H.TEMPLATES={header:'<div class="'+H.SECTION_CLASS_NAMES[B]+'"></div>',body:'<div class="'+H.SECTION_CLASS_NAMES[j]+'"></div>',footer:'<div class="'+H.SECTION_CLASS_NAMES[F]+'"></div>'},H.prototype={initializer:function(){this._stdModNode=this.get(w),e.before(this._renderUIStdMod,this,O),e.before(this._bindUIStdMod,this,M),e.before(this._syncUIStdMod,this,_)},_syncUIStdMod:function(){var e=this._stdModParsed;(!e||!e[I])&&this._uiSetStdMod(B,this.get(I)),(!e||!e[R])&&this._uiSetStdMod(j,this.get(R)),(!e||!e[q])&&this._uiSetStdMod(F,this.get(q)),this._uiSetFillHeight(this.get(p))},_renderUIStdMod:function(){this._stdModNode.addClass(s.getClassName(d)),this._renderStdModSections(),this.after(T,this._afterHeaderChange),this.after(N,this._afterBodyChange),this.after(C,this._afterFooterChange)},_renderStdModSections:function(){n.isValue(this.get(I))&&this._renderStdMod(B),n.isValue(this.get(R))&&this._renderStdMod(j),n.isValue(this.get(q))&&this._renderStdMod(F)},_bindUIStdMod:function(){this.after(k,this._afterFillHeightChange),this.after(L,this._fillHeight),this.after(A,this._fillHeight)},_afterHeaderChange:function(e){e.src!==P&&this._uiSetStdMod(B,e.newVal,e.stdModPosition)},_afterBodyChange:function(e){e.src!==P&&this._uiSetStdMod(j,e.newVal,e.stdModPosition)},_afterFooterChange:function(e){e.src!==P&&this._uiSetStdMod(F,e.newVal,e.stdModPosition)},_afterFillHeightChange:function(e){this._uiSetFillHeight(e.newVal)},_validateFillHeight:function(e){return!e||e==H.BODY||e==H.HEADER||e==H.FOOTER},_uiSetFillHeight:function(e){var t=this.getStdModNode(e),n=this._currFillNode;n&&t!==n&&n.setStyle(E,o),t&&(this._currFillNode=t),this._fillHeight()},_fillHeight:function(){if(this.get(p)){var e=this.get(E);e!=o&&e!=x&&this.fillHeight(this.getStdModNode(this.get(p)))}},_uiSetStdMod:function(e,t,r){if(n.isValue(t)){var i=this.getStdModNode(e,!0);this._addStdModContent(i,t,r),this.set(e+m,this._getStdModContent(e),{src:P})}else this._eraseStdMod(e);this.fire(A)},_renderStdMod:function(e){var t=this.get(w),n=this._findStdModSection(e);return n||(n=this._getStdModTemplate(e)),this._insertStdModSection(t,e,n),this[e+v]=n,this[e+v]},_eraseStdMod:function(e){var t=this.getStdModNode(e);t&&(t.remove(!0),delete this[e+v])},_insertStdModSection:function(e,t,n){var r=e.get(g);if(t===F||!r)e.appendChild(n);else if(t===B)e.insertBefore(n,r);else{var i=this[F+v];i?e.insertBefore(n,i):e.appendChild(n)}},_getStdModTemplate:function(e){return r.create(H.TEMPLATES[e],this._stdModNode.get(b))},_addStdModContent:function(e,t,n){switch(n){case H.BEFORE:n=0;break;case H.AFTER:n=undefined;break;default:n=H.REPLACE}e.insert(t,n)},_getPreciseHeight:function(e){var t=e?e.get(S):0,n="getBoundingClientRect";if(e&&e.hasMethod(n)){var r=e.invoke(n);r&&(t=r.bottom-r.top)}return t},_findStdModSection:function(e){return this.get(w).one("> ."+H.SECTION_CLASS_NAMES[e])},_parseStdModHTML:function(t){var n=this._findStdModSection(t);return n?(this._stdModParsed||(this._stdModParsed={},e.before(this._applyStdModParsedConfig,this,D)),this._stdModParsed[t+m]=1,n.get("innerHTML")):null},_applyStdModParsedConfig:function(e,t,n){var r=this._stdModParsed;r&&(r[I]=!(I in t)&&I in r,r[R]=!(R in t)&&R in r,r[q]=!(q in t)&&q in r)},_getStdModContent:function(e){return this[e+v]?this[e+v].get(y):null},setStdModContent:function(e,t,n){this.set(e+m,t,{stdModPosition:n})},getStdModNode:function(e,t){var n=this[e+v]||null;return!n&&t&&(n=this._renderStdMod(e)),n},fillHeight:function(e){if(e){var t=this.get(w),r=[this.headerNode,this.bodyNode,this.footerNode],s,o,u=0,a=0,f=!1;for(var l=0,c=r.length;l<c;l++)s=r[l],s&&(s!==e?u+=this._getPreciseHeight(s):f=!0);f&&((i.ie||i.opera)&&e.set(S,0),o=t.get(S)-parseInt(t.getComputedStyle("paddingTop"),10)-parseInt(t.getComputedStyle("paddingBottom"),10)-parseInt(t.getComputedStyle("borderBottomWidth"),10)-parseInt(t.getComputedStyle("borderTopWidth"),10),n.isNumber(o)&&(a=o-u,a>=0&&e.set(S,a)))}}},e.WidgetStdMod=H},"3.13.0",{requires:["base-build","widget"]});
/*
YUI 3.13.0 (build 3.13.0-ym3)
Copyright 2014 Yahoo! Inc. All rights reserved.
Licensed under the BSD License.
http://yuilibrary.com/license/
*/

YUI.add("widget-position-align",function(e,t){function c(e){}var n=e.Lang,r="align",i="alignOn",s="visible",o="boundingBox",u="offsetWidth",a="offsetHeight",f="region",l="viewportRegion";c.ATTRS={align:{value:null},centered:{setter:"_setAlignCenter",lazyAdd:!1,value:!1},alignOn:{value:[],validator:e.Lang.isArray}},c.TL="tl",c.TR="tr",c.BL="bl",c.BR="br",c.TC="tc",c.RC="rc",c.BC="bc",c.LC="lc",c.CC="cc",c.prototype={initializer:function(){this._posNode||e.error("WidgetPosition needs to be added to the Widget, before WidgetPositionAlign is added"),e.after(this._bindUIPosAlign,this,"bindUI"),e.after(this._syncUIPosAlign,this,"syncUI")},_posAlignUIHandles:null,destructor:function(){this._detachPosAlignUIHandles()},_bindUIPosAlign:function(){this.after("alignChange",this._afterAlignChange),this.after("alignOnChange",this._afterAlignOnChange),this.after("visibleChange",this._syncUIPosAlign)},_syncUIPosAlign:function(){var e=this.get(r);this._uiSetVisiblePosAlign(this.get(s)),e&&this._uiSetAlign(e.node,e.points)},align:function(e,t){return arguments.length?this.set(r,{node:e,points:t}):this._syncUIPosAlign(),this},centered:function(e){return this.align(e,[c.CC,c.CC])},_setAlignCenter:function(e){return e&&this.set(r,{node:e===!0?null:e,points:[c.CC,c.CC]}),e},_uiSetAlign:function(t,r){if(!n.isArray(r)||r.length!==2){e.error("align: Invalid Points Arguments");return}var i=this._getRegion(t),s,o,u;if(!i)return;s=r[0],o=r[1];switch(o){case c.TL:u=[i.left,i.top];break;case c.TR:u=[i.right,i.top];break;case c.BL:u=[i.left,i.bottom];break;case c.BR:u=[i.right,i.bottom];break;case c.TC:u=[i.left+Math.floor(i.width/2),i.top];break;case c.BC:u=[i.left+Math.floor(i.width/2),i.bottom];break;case c.LC:u=[i.left,i.top+Math.floor(i.height/2)];break;case c.RC:u=[i.right,i.top+Math.floor(i.height/2)];break;case c.CC:u=[i.left+Math.floor(i.width/2),i.top+Math.floor(i.height/2)];break;default:}u&&this._doAlign(s,u[0],u[1])},_uiSetVisiblePosAlign:function(e){e?this._attachPosAlignUIHandles():this._detachPosAlignUIHandles()},_attachPosAlignUIHandles:function(){if(this._posAlignUIHandles)return;var t=this.get(o),n=e.bind(this._syncUIPosAlign,this),r=[];e.Array.each(this.get(i),function(i){var s=i.eventName,o=e.one(i.node)||t;s&&r.push(o.on(s,n))}),this._posAlignUIHandles=r},_detachPosAlignUIHandles:function(){var t=this._posAlignUIHandles;t&&((new e.EventHandle(t)).detach(),this._posAlignUIHandles=null)},_doAlign:function(e,t,n){var r=this._posNode,i;switch(e){case c.TL:i=[t,n];break;case c.TR:i=[t-r.get(u),n];break;case c.BL:i=[t,n-r.get(a)];break;case c.BR:i=[t-r.get(u),n-r.get(a)];break;case c.TC:i=[t-r.get(u)/2,n];break;case c.BC:i=[t-r.get(u)/2,n-r.get(a)];break;case c.LC:i=[t,n-r.get(a)/2];break;case c.RC:i=[t-r.get(u),n-r.get(a)/2];break;case c.CC:i=[t-r.get(u)/2,n-r.get(a)/2];break;default:}i&&this.move(i)},_getRegion:function(t){var n;return t?(t=e.Node.one(t),t&&(n=t.get(f))):n=this._posNode.get(l),n},_afterAlignChange:function(e){var t=e.newVal;t&&this._uiSetAlign(t.node,t.points)},_afterAlignOnChange:function(e){this._detachPosAlignUIHandles(),this.get(s)&&this._attachPosAlignUIHandles()}},e.WidgetPositionAlign=c},"3.13.0",{requires:["widget-position"]});
/*
YUI 3.13.0 (build 3.13.0-ym3)
Copyright 2014 Yahoo! Inc. All rights reserved.
Licensed under the BSD License.
http://yuilibrary.com/license/
*/

YUI.add("overlay",function(e,t){e.Overlay=e.Base.create("overlay",e.Widget,[e.WidgetStdMod,e.WidgetPosition,e.WidgetStack,e.WidgetPositionAlign,e.WidgetPositionConstrain])},"3.13.0",{requires:["widget","widget-stdmod","widget-position","widget-position-align","widget-stack","widget-position-constrain"],skinnable:!0});
/*
YUI 3.13.0 (build 3.13.0-ym3)
Copyright 2014 Yahoo! Inc. All rights reserved.
Licensed under the BSD License.
http://yuilibrary.com/license/
*/

YUI.add("event-simulate",function(e,t){(function(){function d(t,u,a,f,l,c,h,p,d,v,m){t||e.error("simulateKeyEvent(): Invalid target.");if(r(u)){u=u.toLowerCase();switch(u){case"textevent":u="keypress";break;case"keyup":case"keydown":case"keypress":break;default:e.error("simulateKeyEvent(): Event type '"+u+"' not supported.")}}else e.error("simulateKeyEvent(): Event type must be a string.");i(a)||(a=!0),i(f)||(f=!0),s(l)||(l=e.config.win),i(c)||(c=!1),i(h)||(h=!1),i(p)||(p=!1),i(d)||(d=!1),o(v)||(v=0),o(m)||(m=0);var g=null;if(n(e.config.doc.createEvent)){try{g=e.config.doc.createEvent("KeyEvents"),g.initKeyEvent(u,a,f,l,c,h,p,d,v,m)}catch(y){try{g=e.config.doc.createEvent("Events")}catch(b){g=e.config.doc.createEvent("UIEvents")}finally{g.initEvent(u,a,f),g.view=l,g.altKey=h,g.ctrlKey=c,g.shiftKey=p,g.metaKey=d,g.keyCode=v,g.charCode=m}}t.dispatchEvent(g)}else s(e.config.doc.createEventObject)?(g=e.config.doc.createEventObject(),g.bubbles=a,g.cancelable=f,g.view=l,g.ctrlKey=c,g.altKey=h,g.shiftKey=p,g.metaKey=d,g.keyCode=m>0?m:v,t.fireEvent("on"+u,g)):e.error("simulateKeyEvent(): No event simulation framework present.")}function v(t,f,l,c,h,p,d,v,m,g,y,b,w,E,S,x){t||e.error("simulateMouseEvent(): Invalid target."),r(f)?!u[f.toLowerCase()]&&!a[f]&&e.error("simulateMouseEvent(): Event type '"+f+"' not supported."):e.error("simulateMouseEvent(): Event type must be a string."),i(l)||(l=!0),i(c)||(c=f!=="mousemove"),s(h)||(h=e.config.win),o(p)||(p=1),o(d)||(d=0),o(v)||(v=0),o(m)||(m=0),o(g)||(g=0),i(y)||(y=!1),i(b)||(b=!1),i(w)||(w=!1),i(E)||(E=!1),o(S)||(S=0),x=x||null;var T=null;if(n(e.config.doc.createEvent))T=e.config.doc.createEvent("MouseEvents"),T.initMouseEvent?T.initMouseEvent(f,l,c,h,p,d,v,m,g,y,b,w,E,S,x):(T=e.config.doc.createEvent("UIEvents"),T.initEvent(f,l,c),T.view=h,T.detail=p,T.screenX=d,T.screenY=v,T.clientX=m,T.clientY=g,T.ctrlKey=y,T.altKey=b,T.metaKey=E,T.shiftKey=w,T.button=S,T.relatedTarget=x),x&&!T.relatedTarget&&(f==="mouseout"?T.toElement=x:f==="mouseover"&&(T.fromElement=x)),t.dispatchEvent(T);else if(s(e.config.doc.createEventObject)){T=e.config.doc.createEventObject(),T.bubbles=l,T.cancelable=c,T.view=h,T.detail=p,T.screenX=d,T.screenY=v,T.clientX=m,T.clientY=g,T.ctrlKey=y,T.altKey=b,T.metaKey=E,T.shiftKey=w;switch(S){case 0:T.button=1;break;case 1:T.button=4;break;case 2:break;default:T.button=0}T.relatedTarget=x,t.fireEvent("on"+f,T)}else e.error("simulateMouseEvent(): No event simulation framework present.")}function m(t,u,a,f,h,p){t||e.error("simulateUIEvent(): Invalid target."),r(u)?(u=u.toLowerCase(),l[u]||e.error("simulateUIEvent(): Event type '"+u+"' not supported.")):e.error("simulateUIEvent(): Event type must be a string.");var d=null;i(a)||(a=u in c),i(f)||(f=u==="submit"),s(h)||(h=e.config.win),o(p)||(p=1),n(e.config.doc.createEvent)?(d=e.config.doc.createEvent("UIEvents"),d.initUIEvent(u,a,f,h,p),t.dispatchEvent(d)):s(e.config.doc.createEventObject)?(d=e.config.doc.createEventObject(),d.bubbles=a,d.cancelable=f,d.view=h,d.detail=p,t.fireEvent("on"+u,d)):e.error("simulateUIEvent(): No event simulation framework present.")}function g(t,n,r,i,s,o,u,a,f,l,c,h,d,v,m,g){var y;(!e.UA.ios||e.UA.ios<2)&&e.error("simulateGestureEvent(): Native gesture DOM eventframe is not available in this platform."),t||e.error("simulateGestureEvent(): Invalid target."),e.Lang.isString(n)?(n=n.toLowerCase(),p[n]||e.error("simulateTouchEvent(): Event type '"+n+"' not supported.")):e.error("simulateGestureEvent(): Event type must be a string."),e.Lang.isBoolean(r)||(r=!0),e.Lang.isBoolean(i)||(i=!0),e.Lang.isObject(s)||(s=e.config.win),e.Lang.isNumber(o)||(o=2),e.Lang.isNumber(u)||(u=0),e.Lang.isNumber(a)||(a=0),e.Lang.isNumber(f)||(f=0),e.Lang.isNumber(l)||(l=0),e.Lang.isBoolean(c)||(c=!1),e.Lang.isBoolean(h)||(h=!1),e.Lang.isBoolean(d)||(d=!1),e.Lang.isBoolean(v)||(v=!1),e.Lang.isNumber(m)||(m=1),e.Lang.isNumber(g)||(g=0),y=e.config.doc.createEvent("GestureEvent"),y.initGestureEvent(n,r,i,s,o,u,a,f,l,c,h,d,v,t,m,g),t.dispatchEvent(y)}function y(t,n,r,i,s,o,u,a,f,l,c,p,d,v,m,g,y,b,w){var E;t||e.error("simulateTouchEvent(): Invalid target."),e.Lang.isString(n)?(n=n.toLowerCase(),h[n]||e.error("simulateTouchEvent(): Event type '"+n+"' not supported.")):e.error("simulateTouchEvent(): Event type must be a string."),n==="touchstart"||n==="touchmove"?m.length===0&&e.error("simulateTouchEvent(): No touch object in touches"):n==="touchend"&&y.length===0&&e.error("simulateTouchEvent(): No touch object in changedTouches"),e.Lang.isBoolean(r)||(r=!0),e.Lang.isBoolean(i)||(i=n!=="touchcancel"),e.Lang.isObject(s)||(s=e.config.win),e.Lang.isNumber(o)||(o=1),e.Lang.isNumber(u)||(u=0),e.Lang.isNumber(a)||(a=0),e.Lang.isNumber(f)||(f=0),e.Lang.isNumber(l)||(l=0),e.Lang.isBoolean(c)||(c=!1),e.Lang.isBoolean(p)||(p=!1),e.Lang.isBoolean(d)||(d=!1),e.Lang.isBoolean(v)||(v=!1),e.Lang.isNumber(b)||(b=1),e.Lang.isNumber(w)||(w=0),e.Lang.isFunction(e.config.doc.createEvent)?(e.UA.android?e.UA.android<4?(E=e.config.doc.createEvent("MouseEvents"),E.initMouseEvent(n,r,i,s,o,u,a,f,l,c,p,d,v,0,t),E.touches=m,E.targetTouches=g,E.changedTouches=y):(E=e.config.doc.createEvent("TouchEvent"),E.initTouchEvent(m,g,y,n,s,u,a,f,l,c,p,d,v)):e.UA.ios?e.UA.ios>=2?(E=e.config.doc.createEvent("TouchEvent"),E.initTouchEvent(n,r,i,s,o,u,a,f,l,c,p,d,v,m,g,y,b,w)):e.error("simulateTouchEvent(): No touch event simulation framework present for iOS, "+e.UA.ios+"."):e.error("simulateTouchEvent(): Not supported agent yet, "+e.UA.userAgent),t.dispatchEvent(E)):e.error("simulateTouchEvent(): No event simulation framework present.")}var t=e.Lang,n=t.isFunction,r=t.isString,i=t.isBoolean,s=t.isObject,o=t.isNumber,u={click:1,dblclick:1,mouseover:1,mouseout:1,mousedown:1,mouseup:1,mousemove:1,contextmenu:1},a={MSPointerOver:1,MSPointerOut:1,MSPointerDown:1,MSPointerUp:1,MSPointerMove:1},f={keydown:1,keyup:1,keypress:1},l={submit:1,blur:1,change:1,focus:1,resize:1,scroll:1,select:1},c={scroll:1,resize:1,reset:1,submit:1,change:1,select
:1,error:1,abort:1},h={touchstart:1,touchmove:1,touchend:1,touchcancel:1},p={gesturestart:1,gesturechange:1,gestureend:1};e.mix(c,u),e.mix(c,f),e.mix(c,h),e.Event.simulate=function(t,n,r){r=r||{},u[n]||a[n]?v(t,n,r.bubbles,r.cancelable,r.view,r.detail,r.screenX,r.screenY,r.clientX,r.clientY,r.ctrlKey,r.altKey,r.shiftKey,r.metaKey,r.button,r.relatedTarget):f[n]?d(t,n,r.bubbles,r.cancelable,r.view,r.ctrlKey,r.altKey,r.shiftKey,r.metaKey,r.keyCode,r.charCode):l[n]?m(t,n,r.bubbles,r.cancelable,r.view,r.detail):h[n]?e.config.win&&"ontouchstart"in e.config.win&&!e.UA.phantomjs&&!(e.UA.chrome&&e.UA.chrome<6)?y(t,n,r.bubbles,r.cancelable,r.view,r.detail,r.screenX,r.screenY,r.clientX,r.clientY,r.ctrlKey,r.altKey,r.shiftKey,r.metaKey,r.touches,r.targetTouches,r.changedTouches,r.scale,r.rotation):e.error("simulate(): Event '"+n+"' can't be simulated. Use gesture-simulate module instead."):e.UA.ios&&e.UA.ios>=2&&p[n]?g(t,n,r.bubbles,r.cancelable,r.view,r.detail,r.screenX,r.screenY,r.clientX,r.clientY,r.ctrlKey,r.altKey,r.shiftKey,r.metaKey,r.scale,r.rotation):e.error("simulate(): Event '"+n+"' can't be simulated.")}})()},"3.13.0",{requires:["event-base"]});
/*
YUI 3.13.0 (build 3.13.0-ym3)
Copyright 2014 Yahoo! Inc. All rights reserved.
Licensed under the BSD License.
http://yuilibrary.com/license/
*/

YUI.add("async-queue",function(e,t){e.AsyncQueue=function(){this._init(),this.add.apply(this,arguments)};var n=e.AsyncQueue,r="execute",i="shift",s="promote",o="remove",u=e.Lang.isObject,a=e.Lang.isFunction;n.defaults=e.mix({autoContinue:!0,iterations:1,timeout:10,until:function(){return this.iterations|=0,this.iterations<=0}},e.config.queueDefaults||{}),e.extend(n,e.EventTarget,{_running:!1,_init:function(){e.EventTarget.call(this,{prefix:"queue",emitFacade:!0}),this._q=[],this.defaults={},this._initEvents()},_initEvents:function(){this.publish({execute:{defaultFn:this._defExecFn,emitFacade:!0},shift:{defaultFn:this._defShiftFn,emitFacade:!0},add:{defaultFn:this._defAddFn,emitFacade:!0},promote:{defaultFn:this._defPromoteFn,emitFacade:!0},remove:{defaultFn:this._defRemoveFn,emitFacade:!0}})},next:function(){var e;while(this._q.length){e=this._q[0]=this._prepare(this._q[0]);if(!e||!e.until())break;this.fire(i,{callback:e}),e=null}return e||null},_defShiftFn:function(e){this.indexOf(e.callback)===0&&this._q.shift()},_prepare:function(t){if(a(t)&&t._prepared)return t;var r=e.merge(n.defaults,{context:this,args:[],_prepared:!0},this.defaults,a(t)?{fn:t}:t),i=e.bind(function(){i._running||i.iterations--,a(i.fn)&&i.fn.apply(i.context||e,e.Array(i.args))},this);return e.mix(i,r)},run:function(){var e,t=!0;if(this._executing)return this._running=!0,this;for(e=this.next();e&&!this.isRunning();e=this.next()){t=e.timeout<0?this._execute(e):this._schedule(e);if(!t)break}return e||this.fire("complete"),this},_execute:function(e){this._running=e._running=!0,this._executing=e,e.iterations--,this.fire(r,{callback:e});var t=this._running&&e.autoContinue;return this._running=e._running=!1,this._executing=!1,t},_schedule:function(t){return this._running=e.later(t.timeout,this,function(){this._execute(t)&&this.run()}),!1},isRunning:function(){return!!this._running},_defExecFn:function(e){e.callback()},add:function(){return this.fire("add",{callbacks:e.Array(arguments,0,!0)}),this},_defAddFn:function(t){var n=this._q,r=[];e.Array.each(t.callbacks,function(e){u(e)&&(n.push(e),r.push(e))}),t.added=r},pause:function(){return this._running&&u(this._running)&&this._running.cancel(),this._running=!1,this},stop:function(){return this._q=[],this._running&&u(this._running)&&(this._running.cancel(),this._running=!1),this},indexOf:function(e){var t=0,n=this._q.length,r;for(;t<n;++t){r=this._q[t];if(r===e||r.id===e)return t}return-1},getCallback:function(e){var t=this.indexOf(e);return t>-1?this._q[t]:null},promote:function(e){var t={callback:e},n;return this.isRunning()?n=this.after(i,function(){this.fire(s,t),n.detach()},this):this.fire(s,t),this},_defPromoteFn:function(e){var t=this.indexOf(e.callback),n=t>-1?this._q.splice(t,1)[0]:null;e.promoted=n,n&&this._q.unshift(n)},remove:function(e){var t={callback:e},n;return this.isRunning()?n=this.after(i,function(){this.fire(o,t),n.detach()},this):this.fire(o,t),this},_defRemoveFn:function(e){var t=this.indexOf(e.callback);e.removed=t>-1?this._q.splice(t,1)[0]:null},size:function(){return this.isRunning()||this.next(),this._q.length}})},"3.13.0",{requires:["event-custom"]});
/*
YUI 3.13.0 (build 3.13.0-ym3)
Copyright 2014 Yahoo! Inc. All rights reserved.
Licensed under the BSD License.
http://yuilibrary.com/license/
*/

YUI.add("gesture-simulate",function(e,t){function T(n){n||e.error(t+": invalid target node"),this.node=n,this.target=e.Node.getDOMNode(n);var r=this.node.getXY(),i=this._getDims();a=r[0]+i[0]/2,f=r[1]+i[1]/2}var t="gesture-simulate",n=e.config.win&&"ontouchstart"in e.config.win&&!e.UA.phantomjs&&!(e.UA.chrome&&e.UA.chrome<6),r={tap:1,doubletap:1,press:1,move:1,flick:1,pinch:1,rotate:1},i={touchstart:1,touchmove:1,touchend:1,touchcancel:1},s=e.config.doc,o,u=20,a,f,l={HOLD_TAP:10,DELAY_TAP:10,HOLD_PRESS:3e3,MIN_HOLD_PRESS:1e3,MAX_HOLD_PRESS:6e4,DISTANCE_MOVE:200,DURATION_MOVE:1e3,MAX_DURATION_MOVE:5e3,MIN_VELOCITY_FLICK:1.3,DISTANCE_FLICK:200,DURATION_FLICK:1e3,MAX_DURATION_FLICK:5e3,DURATION_PINCH:1e3},c="touchstart",h="touchmove",p="touchend",d="gesturestart",v="gesturechange",m="gestureend",g="mouseup",y="mousemove",b="mousedown",w="click",E="dblclick",S="x",x="y";T.prototype={_toRadian:function(e){return e*(Math.PI/180)},_getDims:function(){var e,t,n;return this.target.getBoundingClientRect?(e=this.target.getBoundingClientRect(),"height"in e?n=e.height:n=Math.abs(e.bottom-e.top),"width"in e?t=e.width:t=Math.abs(e.right-e.left)):(e=this.node.get("region"),t=e.width,n=e.height),[t,n]},_calculateDefaultPoint:function(t){var n;return!e.Lang.isArray(t)||t.length===0?t=[a,f]:(t.length==1&&(n=this._getDims[1],t[1]=n/2),t[0]=this.node.getX()+t[0],t[1]=this.node.getY()+t[1]),t},rotate:function(n,r,i,s,o,u,a){var f,l=i,c=s;if(!e.Lang.isNumber(l)||!e.Lang.isNumber(c)||l<0||c<0)f=this.target.offsetWidth<this.target.offsetHeight?this.target.offsetWidth/4:this.target.offsetHeight/4,l=f,c=f;e.Lang.isNumber(a)||e.error(t+"Invalid rotation detected."),this.pinch(n,r,l,c,o,u,a)},pinch:function(n,r,i,s,o,a,f){var g,y,b=u,w,E=0,S=i,x=s,T,N,C,k,L,A,O,M,_,D={start:[],end:[]},P={start:[],end:[]},H,B;r=this._calculateDefaultPoint(r),(!e.Lang.isNumber(S)||!e.Lang.isNumber(x)||S<0||x<0)&&e.error(t+"Invalid startRadius and endRadius detected.");if(!e.Lang.isNumber(o)||o<=0)o=l.DURATION_PINCH;if(!e.Lang.isNumber(a))a=0;else{a%=360;while(a<0)a+=360}e.Lang.isNumber(f)||(f=0),e.AsyncQueue.defaults.timeout=b,g=new e.AsyncQueue,N=r[0],C=r[1],O=a,M=a+f,D.start=[N+S*Math.sin(this._toRadian(O)),C-S*Math.cos(this._toRadian(O))],D.end=[N+x*Math.sin(this._toRadian(M)),C-x*Math.cos(this._toRadian(M))],P.start=[N-S*Math.sin(this._toRadian(O)),C+S*Math.cos(this._toRadian(O))],P.end=[N-x*Math.sin(this._toRadian(M)),C+x*Math.cos(this._toRadian(M))],k=1,L=s/i,g.add({fn:function(){var t,n,r,i;t={pageX:D.start[0],pageY:D.start[1],clientX:D.start[0],clientY:D.start[1]},n={pageX:P.start[0],pageY:P.start[1],clientX:P.start[0],clientY:P.start[1]},i=this._createTouchList([e.merge({identifier:E++},t),e.merge({identifier:E++},n)]),r={pageX:(D.start[0]+P.start[0])/2,pageY:(D.start[0]+P.start[1])/2,clientX:(D.start[0]+P.start[0])/2,clientY:(D.start[0]+P.start[1])/2},this._simulateEvent(this.target,c,e.merge({touches:i,targetTouches:i,changedTouches:i,scale:k,rotation:O},r)),e.UA.ios>=2&&this._simulateEvent(this.target,d,e.merge({scale:k,rotation:O},r))},timeout:0,context:this}),H=Math.floor(o/b),T=(x-S)/H,A=(L-k)/H,_=(M-O)/H,B=function(t){var n=S+T*t,r=N+n*Math.sin(this._toRadian(O+_*t)),i=C-n*Math.cos(this._toRadian(O+_*t)),s=N-n*Math.sin(this._toRadian(O+_*t)),o=C+n*Math.cos(this._toRadian(O+_*t)),u=(r+s)/2,a=(i+o)/2,f,l,c,p;f={pageX:r,pageY:i,clientX:r,clientY:i},l={pageX:s,pageY:o,clientX:s,clientY:o},p=this._createTouchList([e.merge({identifier:E++},f),e.merge({identifier:E++},l)]),c={pageX:u,pageY:a,clientX:u,clientY:a},this._simulateEvent(this.target,h,e.merge({touches:p,targetTouches:p,changedTouches:p,scale:k+A*t,rotation:O+_*t},c)),e.UA.ios>=2&&this._simulateEvent(this.target,v,e.merge({scale:k+A*t,rotation:O+_*t},c))};for(y=0;y<H;y++)g.add({fn:B,args:[y],context:this});g.add({fn:function(){var t=this._getEmptyTouchList(),n,r,i,s;n={pageX:D.end[0],pageY:D.end[1],clientX:D.end[0],clientY:D.end[1]},r={pageX:P.end[0],pageY:P.end[1],clientX:P.end[0],clientY:P.end[1]},s=this._createTouchList([e.merge({identifier:E++},n),e.merge({identifier:E++},r)]),i={pageX:(D.end[0]+P.end[0])/2,pageY:(D.end[0]+P.end[1])/2,clientX:(D.end[0]+P.end[0])/2,clientY:(D.end[0]+P.end[1])/2},e.UA.ios>=2&&this._simulateEvent(this.target,m,e.merge({scale:L,rotation:M},i)),this._simulateEvent(this.target,p,e.merge({touches:t,targetTouches:t,changedTouches:s,scale:L,rotation:M},i))},context:this}),n&&e.Lang.isFunction(n)&&g.add({fn:n,context:this.node}),g.run()},tap:function(t,r,i,s,o){var u=new e.AsyncQueue,a=this._getEmptyTouchList(),f,h,d,v,m;r=this._calculateDefaultPoint(r);if(!e.Lang.isNumber(i)||i<1)i=1;e.Lang.isNumber(s)||(s=l.HOLD_TAP),e.Lang.isNumber(o)||(o=l.DELAY_TAP),h={pageX:r[0],pageY:r[1],clientX:r[0],clientY:r[1]},f=this._createTouchList([e.merge({identifier:0},h)]),v=function(){this._simulateEvent(this.target,c,e.merge({touches:f,targetTouches:f,changedTouches:f},h))},m=function(){this._simulateEvent(this.target,p,e.merge({touches:a,targetTouches:a,changedTouches:f},h))};for(d=0;d<i;d++)u.add({fn:v,context:this,timeout:d===0?0:o}),u.add({fn:m,context:this,timeout:s});i>1&&!n&&u.add({fn:function(){this._simulateEvent(this.target,E,h)},context:this}),t&&e.Lang.isFunction(t)&&u.add({fn:t,context:this.node}),u.run()},flick:function(n,r,i,s,o){var u;r=this._calculateDefaultPoint(r),e.Lang.isString(i)?(i=i.toLowerCase(),i!==S&&i!==x&&e.error(t+"(flick): Only x or y axis allowed")):i=S,e.Lang.isNumber(s)||(s=l.DISTANCE_FLICK),e.Lang.isNumber(o)?o>l.MAX_DURATION_FLICK&&(o=l.MAX_DURATION_FLICK):o=l.DURATION_FLICK,Math.abs(s)/o<l.MIN_VELOCITY_FLICK&&(o=Math.abs(s)/l.MIN_VELOCITY_FLICK),u={start:e.clone(r),end:[i===S?r[0]+s:r[0],i===x?r[1]+s:r[1]]},this._move(n,u,o)},move:function(t,n,r){var i;e.Lang.isObject(n)?(e.Lang.isArray(n.point)?n.point=this._calculateDefaultPoint(n.point):n.point=this._calculateDefaultPoint([]),e.Lang.isNumber(n.xdist)||(n.xdist=l.DISTANCE_MOVE),e.Lang.isNumber(n.ydist)||(n.ydist=0)):n={point:this._calculateDefaultPoint([]),xdist:l.
DISTANCE_MOVE,ydist:0},e.Lang.isNumber(r)?r>l.MAX_DURATION_MOVE&&(r=l.MAX_DURATION_MOVE):r=l.DURATION_MOVE,i={start:e.clone(n.point),end:[n.point[0]+n.xdist,n.point[1]+n.ydist]},this._move(t,i,r)},_move:function(t,n,r){var i,s,o=u,d,v,m,g=0,y;e.Lang.isNumber(r)?r>l.MAX_DURATION_MOVE&&(r=l.MAX_DURATION_MOVE):r=l.DURATION_MOVE,e.Lang.isObject(n)?(e.Lang.isArray(n.start)||(n.start=[a,f]),e.Lang.isArray(n.end)||(n.end=[a+l.DISTANCE_MOVE,f])):n={start:[a,f],end:[a+l.DISTANCE_MOVE,f]},e.AsyncQueue.defaults.timeout=o,i=new e.AsyncQueue,i.add({fn:function(){var t={pageX:n.start[0],pageY:n.start[1],clientX:n.start[0],clientY:n.start[1]},r=this._createTouchList([e.merge({identifier:g++},t)]);this._simulateEvent(this.target,c,e.merge({touches:r,targetTouches:r,changedTouches:r},t))},timeout:0,context:this}),d=Math.floor(r/o),v=(n.end[0]-n.start[0])/d,m=(n.end[1]-n.start[1])/d,y=function(t){var r=n.start[0]+v*t,i=n.start[1]+m*t,s={pageX:r,pageY:i,clientX:r,clientY:i},o=this._createTouchList([e.merge({identifier:g++},s)]);this._simulateEvent(this.target,h,e.merge({touches:o,targetTouches:o,changedTouches:o},s))};for(s=0;s<d;s++)i.add({fn:y,args:[s],context:this});i.add({fn:function(){var t={pageX:n.end[0],pageY:n.end[1],clientX:n.end[0],clientY:n.end[1]},r=this._createTouchList([e.merge({identifier:g},t)]);this._simulateEvent(this.target,h,e.merge({touches:r,targetTouches:r,changedTouches:r},t))},timeout:0,context:this}),i.add({fn:function(){var t={pageX:n.end[0],pageY:n.end[1],clientX:n.end[0],clientY:n.end[1]},r=this._getEmptyTouchList(),i=this._createTouchList([e.merge({identifier:g},t)]);this._simulateEvent(this.target,p,e.merge({touches:r,targetTouches:r,changedTouches:i},t))},context:this}),t&&e.Lang.isFunction(t)&&i.add({fn:t,context:this.node}),i.run()},_getEmptyTouchList:function(){return o||(o=this._createTouchList([])),o},_createTouchList:function(n){var r=[],i,o=this;return!!n&&e.Lang.isArray(n)?e.UA.android&&e.UA.android>=4||e.UA.ios&&e.UA.ios>=2?(e.each(n,function(t){t.identifier||(t.identifier=0),t.pageX||(t.pageX=0),t.pageY||(t.pageY=0),t.screenX||(t.screenX=0),t.screenY||(t.screenY=0),r.push(s.createTouch(e.config.win,o.target,t.identifier,t.pageX,t.pageY,t.screenX,t.screenY))}),i=s.createTouchList.apply(s,r)):e.UA.ios&&e.UA.ios<2?e.error(t+": No touch event simulation framework present."):(i=[],e.each(n,function(e){e.identifier||(e.identifier=0),e.clientX||(e.clientX=0),e.clientY||(e.clientY=0),e.pageX||(e.pageX=0),e.pageY||(e.pageY=0),e.screenX||(e.screenX=0),e.screenY||(e.screenY=0),i.push({target:o.target,identifier:e.identifier,clientX:e.clientX,clientY:e.clientY,pageX:e.pageX,pageY:e.pageY,screenX:e.screenX,screenY:e.screenY})}),i.item=function(e){return i[e]}):e.error(t+": Invalid touchPoints passed"),i},_simulateEvent:function(t,r,s){var o;i[r]?n?e.Event.simulate(t,r,s):this._isSingleTouch(s.touches,s.targetTouches,s.changedTouches)?(r={touchstart:b,touchmove:y,touchend:g}[r],s.button=0,s.relatedTarget=null,o=r===g?s.changedTouches:s.touches,s=e.mix(s,{screenX:o.item(0).screenX,screenY:o.item(0).screenY,clientX:o.item(0).clientX,clientY:o.item(0).clientY},!0),e.Event.simulate(t,r,s),r==g&&e.Event.simulate(t,w,s)):e.error("_simulateEvent(): Event '"+r+"' has multi touch objects that can't be simulated in your platform."):e.Event.simulate(t,r,s)},_isSingleTouch:function(e,t,n){return e&&e.length<=1&&t&&t.length<=1&&n&&n.length<=1}},e.GestureSimulation=T,e.GestureSimulation.defaults=l,e.GestureSimulation.GESTURES=r,e.Event.simulateGesture=function(n,i,s,o){n=e.one(n);var u=new e.GestureSimulation(n);i=i.toLowerCase(),!o&&e.Lang.isFunction(s)&&(o=s,s={}),s=s||{};if(r[i])switch(i){case"tap":u.tap(o,s.point,s.times,s.hold,s.delay);break;case"doubletap":u.tap(o,s.point,2);break;case"press":e.Lang.isNumber(s.hold)?s.hold<l.MIN_HOLD_PRESS?s.hold=l.MIN_HOLD_PRESS:s.hold>l.MAX_HOLD_PRESS&&(s.hold=l.MAX_HOLD_PRESS):s.hold=l.HOLD_PRESS,u.tap(o,s.point,1,s.hold);break;case"move":u.move(o,s.path,s.duration);break;case"flick":u.flick(o,s.point,s.axis,s.distance,s.duration);break;case"pinch":u.pinch(o,s.center,s.r1,s.r2,s.duration,s.start,s.rotation);break;case"rotate":u.rotate(o,s.center,s.r1,s.r2,s.duration,s.start,s.rotation)}else e.error(t+": Not a supported gesture simulation: "+i)}},"3.13.0",{requires:["async-queue","event-simulate","node-screen"]});
/*
YUI 3.13.0 (build 3.13.0-ym3)
Copyright 2014 Yahoo! Inc. All rights reserved.
Licensed under the BSD License.
http://yuilibrary.com/license/
*/

YUI.add("node-event-simulate",function(e,t){e.Node.prototype.simulate=function(t,n){e.Event.simulate(e.Node.getDOMNode(this),t,n)},e.Node.prototype.simulateGesture=function(t,n,r){e.Event.simulateGesture(this,t,n,r)}},"3.13.0",{requires:["node-base","event-simulate","gesture-simulate"]});
YUI.add("comms-ui-autocomplete-plugin",function(C){var B="autocomplete",F=C.Lang,G=C.Array.each,L=C.Plugin,E=L.Base,I="ac",D=13;function J(O,Q){var N="down",P=C.stamp(this)+"|";if(C.UA.gecko>0&&C.UA.gecko<5){N="press";C.on(P+"key",O.raiseFlag,Q,"down",O);}C.on(P+"valueChange",H,Q,O);C.on(P+"key",O.next,Q,N+":40",O);C.on(P+"key",O.previous,Q,N+":38",O);C.on(P+"key",O.close,Q,"down:27",O);Q.on("keyup",function(R){if(R.keyCode===D){R.type="select";this.select.call(O,R);}},O,"select");}function H(O){var N=O.newVal;if(!N&&!(N===""&&this.get("minQueryLength")===0)){this._cachedValue=false;return this.close();}if(N===this._cachedValue||N.length<this.get("minQueryLength")){return false;}this._cachedValue=N;this.fire("ac:query",{value:O.newVal});return true;}function A(N){return function(){if(N){N.setAttribute(B,"on");}N=null;};}function K(N){var P=C.Node.getDOMNode(N),Q=P.getAttribute(B);if((Q&&Q!=="off")||Q===null||Q===undefined){var O=A(P);C.on("beforeunload",O,window);C.on("unload",O,window);}P.setAttribute(B,"off");}function M(){M.superclass.constructor.apply(this,arguments);}C.extend(M,E,{_defaultEventFn:null,initializer:function(){var N=this,O=N.get("host"),P=(!F.isNull(N._defaultEventFn)?N._defaultEventFn:{});J(N,O);G(["query","load","show","hide","next","previous","select"],function(Q){N.publish("ac:"+Q,{broadcast:1,bubbles:1,context:N,preventable:true,prefix:I,defaultFn:P[Q]||null});},N);K(O);},destructor:function(){var N=this;C.detach(C.stamp(N)+"|");N.detachAll();},open:function(){this.fire("ac:show");},next:function(N){if(this.conflictingKeyFlag&&C.UA.gecko){return;}N.preventDefault();this.fire("ac:next");},previous:function(N){if(this.conflictingKeyFlag&&C.UA.gecko){return;}N.preventDefault();this.fire("ac:previous");},raiseFlag:function(O,N){if((O.keyCode===55)||(O.keyCode===57)){N.conflictingKeyFlag=true;}else{N.conflictingKeyFlag=false;}},select:function(N){this.fire("ac:select",N);},hide:function(){},close:function(){this.fire("ac:hide");},reload:function(N){if(N){if(N.length<1){this.set("badResult",this.get("queryValue"));}this.fire("ac:load",{results:N,query:this.get("queryValue")});}}},{NAME:"ACPlugin",NS:I,ATTRS:{queryValue:{getter:function(){return this.get("host").get("value");},setter:function(N){this.get("host").set("value",N);this._cachedValue=N;return this._cachedValue;}},dataSource:{value:[]},minQueryLength:{value:0,validator:F.isNumber},queryTemplate:{value:encodeURIComponent,setter:function(N){return(F.isFunction(N)?N:function(O){return N.replace(/(^|[^\\])((\\{2})*)\{query\}/,"$1$2"+encodeURIComponent(O)).replace(/(^|[^\\])((\\{2})*)\\(\{query\})/,"$1$2$4");});}},alignNode:null,conflictingKeyFlag:false,badResult:{value:false,setter:function(N){return(C.Lang.isString(N))?N:false;}}}});C.namespace("comms.ui");C.comms.ui.AutoCompleteEventsPlugin=M;},"1.0.0",{requires:["node","plugin","event-valuechange","event-key"]});YUI.add("comms-ui-autocomplete",function(C){var H=C.Array.each,F=C.Lang,B=C.Overlay,G="selectedIndex",A="queryValue",J="ac",D="_BOUND",I="_"+G,K="_originalValue";function E(){E.superclass.constructor.apply(this,arguments);this.delegated=false;this.listeners=[];}C.extend(E,B,{initializer:function(){var L=this;L.after({queryChanged:L.drawMarkUp,dataChanged:L.drawMarkUp});L.hide();L.publish(J+":complete",{broadcast:1,bubbles:1,context:L,preventable:true,prefix:J});},renderUI:function(){var M=this.get("ac"),L={"display":"none","overflow":"auto","maxHeight":"300px"};if(!M){return false;}this.get("contentBox").setStyles(L);this.get("contentBox").set("role","listbox");this.setSize();this.set("align",{node:this.get("ac").get("alignNode"),points:[C.WidgetPositionAlign.TL,C.WidgetPositionAlign.BL]});this.get("contentBox").setStyle("display","block");return true;},bind:function(P){var Q=this,L=Q.get("contentBox"),O=Q.get("ac"),N=C.stamp(Q)+"|";if(P&&O!==P&&Q[D]){C.detach(N);Q[D]=0;}P=P||O;if(P&&!Q[D]){var M=[];Q[D]=1;if(!Q.delegated){Q.delegated=true;M.push(L.delegate("click",Q.click,"li",Q));M.push(L.delegate("mouseover",Q.mouseover,"li",Q));M.push(L.delegate("mouseout",Q.mouseout,"li",Q));M.push(L.delegate("mousemove",function(R){R.halt();R.currentTarget.addClass("over");},"li",Q));M.push(L.delegate("mouseleave",function(R){R.halt();R.currentTarget.removeClass("over");},"li",Q));M.push(C.on("click",function(R){if(!Q.isVisible()){return;}if(Q.get("contentBox").contains(R.target)){if(R.target.get("nodeName").toLowerCase()!=="li"){return;}Q.get("ac").get("host").simulate("keydown",{keyCode:13});}if(Q.get("ac").get("host").contains(R.target)){return;}Q.hide();},document,this));}M.push(P.on(N+J+":load",function(R){if(!Q.get("disabled")){Q.setAttrs({query:R.query,data:R.results}).drawMarkUp().show().setAlign();}}));M.push(P.on(N+J+":query",function(R){Q.set("query",R.value).drawMarkUp();}));M.push(P.on(N+J+":next",Q.next,Q));M.push(P.on(N+J+":previous",Q.previous,Q));M.push(P.on(N+J+":hide",Q.hide,Q));P.select=function(R){Q.selected.call(Q,R,"enter");};Q.listeners=M;}return Q;},bindUI:function(L){return this.bind(L);},setSize:function(){if(!this.get("expandWidthToContents")){this.set("width",this.get("ac").get("alignNode").get("offsetWidth"));}},setAlign:function(){var O=this,M=O.get("ac").get("alignNode"),L=M.get("region"),N=[L.left,L.bottom];O.set("xy",N);return O;},drawMarkUp:function(){var L=this,M=L.get("data");if(!M){return L;}L[I]=-1;L[K]="";L.get("contentBox").set("innerHTML",L.getListMarkup(M));if(M.length>0){if(L.get("selectFirst")){this.set(G,0);}L.get("contentBox").setStyle("display","block");}else{L.get("contentBox").setStyle("display","none");}return L;},getListMarkup:function(O){var N=this,L=N.get("listTpl"),M=[];H(O,function(P){M.push(N.getItemMarkup(P));});return L.replace(/\{list\}/g,M.join(""));},getItemMarkup:function(M){var L=this;if(!F.isString(M)){return false;}return L.get("itemTpl").replace(/\{hilite\}/g,M);},_fixView:function(O){var R=this,N=R.get(G),L=R.get("contentBox"),Q,M,P;if(N===-1){L.set("scrollTop",0);return true;}M=R.item(N);Q=L.get("scrollTop");M=R.item(N);P=M.get("offsetTop");M.addClass("key-select");if(O){if((P>Q)&&(R.itemsCount()!==(N+1))){return true;}L.set("scrollTop",P);document.body.scrollIntoView();return false;}else{if((P+M.get("clientHeight"))>(Q+L.get("clientHeight"))){L.set("scrollTop",L.get("scrollTop")+M.get("clientHeight"));if(C.UA.ie<=0){M.scrollIntoView();}document.body.scrollIntoView(false);}return true;}},next:function(){var L=this;if(L.get("selectFirst")&&L.itemsCount()===1){return false;}return(L.get("visible")?L.selectNext():L);},selectNext:function(){var L=this;L.set(G,this.get(G)+1);L._fixView(false);return L.get(G);},selectPrevious:function(){var L=this;L.set(G,this.get(G)-1);L._fixView(true);return L.get(G);},previous:function(){var L=this;if(L.itemsCount()===1){return false;}return L.get("visible")?L.selectPrevious():L;},isVisible:function(){return this.get("visible");},hasSelectedItem:function(){return this.get("selectedIndex")>-1;},item:function(L){return this.get("contentBox").all(this.get("itemSelector")).item(L);},itemsCount:function(){return this.get("contentBox").all(this.get("allItemsSelector")).size();},click:function(L){this.selected(L,"click");},mouseover:function(O){var M,L,N=this;M=O.currentTarget;L=N.get("contentBox").all("li").indexOf(M);N.set("selectedIndex",L);},mouseout:function(){this.set("selectedIndex",-1);},autoManageSelect:function(L){var M=this,N=M.get("ac");if(!L){L=false;}if(L){N.on(J+":select",M.handleEnter,M);}else{N.detachAll(J+":select");}},handleEnter:function(P,M){if(!M){M=this;}var O=M.get("ac"),L=M[I],N,Q;P.halt();M.fire(J+":complete",M);if(L!==-1){N=M.item(L);if(N){Q=N.get("text");O.set(A,Q);}M[I]=-1;O.get("host").focus();M.hide();}},selected:function(R,P){var M=null,N=this,Q=N.get("ac"),L,O;if(!P){P="click";}M=N.item(this.get(G));if(!M){return false;}O=M.getData("selectedCb");if(O){O.call(M,R);return;}L=this.get(G);R.selectedItem=M;R.selectedIndex=L;R.type=P;R.container=N.get("contentBox");Q.fire("ac:select",R);N[I]=-1;return true;},setHostValue:function(M){var L=this;L.get("ac").set(A,M);L.get("ac").get("host").focus();L.hide();},reload:function(L){return this.get("ac").reload(L);},close:function(){var L=this;L.get("ac").close();L.hide();},destroy:function(){var M=this.listeners;if(M){var N=M.length,L;for(L=0;L<N;L++){if(M[L]){M[L].detach();M[L]=null;}}this.listeners=null;}if(this.get("ac")){this.get("ac").destructor();}E.superclass.destroy.apply(this,arguments);}},{NAME:"AutoCompleteWidget",ATTRS:{ac:{setter:function(L){if(!this[D]){return;}this.bind(L);},validator:function(){return true;}},data:{},query:{value:""},listTpl:{value:'<ul role="presentation">{list}</ul>'},itemTpl:{value:'<li role="option">{hilite}</li>'},itemSelector:{value:"ul li"},allItemsSelector:{value:"ul li"},selectedItem:{getter:function(){return this.item(this.get(G));},readOnly:true},expandWidthToContents:{value:false},selectFirst:{value:true}}});
E.ATTRS[G]={value:-1,validator:function(L){var M=this.get("data");return M&&C.Lang.isNumber(L);},getter:function(){return this[I];},setter:function(O){var T=this,Q=T.get(G),R=T.get("data"),L=T.itemsCount(),S=T.get("ac"),M=this.getClassName("selected"),P,N;if(isNaN(Q)){Q=-1;}if(!R||!L){return false;}while(O<-1){O+=L+1;}O=(O+1)%(L+1)-1;Q=(Q+1)%(L+1)-1;T[I]=O;if(Q===-1){T[K]=S.get(A);}if(Q===O){return false;}var U=T.get("contentBox").one("."+M);if(U){U.removeClass(M).removeClass("key-select");}if(O===-1){}else{P=T.item(O);if(P&&P.hasClass("corpmail.label")){N=O+(Q<O?1:-1);T[I]=N;P=T.item(N);}if(P){P.addClass(M);}}return O;}};C.namespace("comms.ui");C.comms.ui.AutoComplete=E;},"1.0.0",{requires:["overlay","comms-ui-autocomplete-plugin","node-event-simulate"]});YUI.add("filter-contacts",function(C){var T=C.contacts,E=T.api,R=T.utils,K={},H=function(Y){if(Y.emailField&&Y.emailField.id){return Y.emailField.id;}return Y.id;},O=function(Y,f){for(var e=0;e<f.length;e++){Y.push(f[e]);}return Y;},S=function(){var o=R.getSortedFlatContacts(),g=function(s,t){var u=[];s.user&&u.push(s.user.charAt(t).toLowerCase());s.firstname&&u.push(s.firstname.charAt(t).toLowerCase());s.lastname&&u.push(s.lastname.charAt(t).toLowerCase());s.nickname&&u.push(s.nickname.charAt(t).toLowerCase());s.mobileno&&O(u,s.mobileno.toLowerCase());s.homeno&&O(u,s.homeno.toLowerCase());s.workno&&O(u,s.workno.toLowerCase());s.isCategory||(s.email&&u.push(s.email.charAt(t).toLowerCase()));return u;};var k,n,l,p=R.getCategories();for(n in p){var m=p[n],r=0,f=0;for(k in m.contacts){var i=R.getContactById(m.contacts[k]),q=R.getFieldsByType(i,"email");if(q){r+=1;f+=q.sc_score?q.sc_score:0;}}o.push({firstname:m.name,email:[r,"<span style='display:none'>___AC_CAT_ID:",m.id,"</span>"].join(""),id:m.id,sc_score:Math.floor((f/r)*(2/3)),isCategory:true});}l={};K=[];for(k in o){var e=o[k];if((!e.email)||(!e.email.length)){continue;}var Y,j=g(e,0);for(Y in j){var h=j[Y];if(!K[h]){K[h]={};}K[h][H(e)]=e;}}},A=function(n,q){var h={},f={},m={},e=null,k,o;k=n.filterItems;for(var g=0;g<k.length;g++){var p=k[g];var j=p.value.charAt(0).toLowerCase();var Y=K[j];for(o in Y){e=Y[o];if(!Y[o].isCategory||!q){f[o]=Y[o];}}}for(o in f){var l=f[o];if(n.filterContact(l)&&!m[l.email]){m[l.email]=true;h[H(l)]=l;}}var r=[];for(o in h){r.push(h[o]);}R.sortFlatContacts(r);return r;};C.on("contacts:api:contactChanged",S);C.on("contacts:api:loaded",S);if(R.areContactsLoaded()){S();}else{E.load();}function F(){this.filterItems=[];this.matchType=1;this.init_temp_data=true;this.del_temp_data=true;this.match_limit=50;}var D=["mobileno","homeno","workno","firstname","lastname","user","email","nickname"];var a=new RegExp("[\\+\\*\\?\\^\\[\\]\\{\\}\\$\\\\/%#~:<>()]","g");var U=new RegExp("[^0-9]","g");var G=new RegExp("[ _\\.\\-@]","g");var Z=new RegExp("[ _\\.\\-@][^ _\\.\\-@]","g");F.prototype.fastMatch=function(Y){Y=!!Y;return A(this,Y).slice(0,this.match_limit);};var P=/___AC_CAT_ID\:([0-9]+)/;F.prototype.decodeCategory=function(k){var g=P.exec(k);if(g&&g.length>1){var i=R.getCategoryById(g[1]),f=[];for(var e in i.contacts){var j=R.getBasicFlatContacts(R.getContactById(i.contacts[e]));for(var h in j){var Y=j[h];if(Y.isPrimary){f[H(Y)]=Y;break;}}}return f;}return false;};function I(f){var Y,e,h;var g=f.value;if(f.numeric){e=g.length;if(e>1){h=g.charAt(0);Y=1;while(Y<e){h+="[ _\\.\\-()]*";h+=g.charAt(Y);Y+=1;}}else{h=g;}}else{h=g;}f.regExp=new RegExp(h,"gi");}function d(f,e){var Y={};Y.value=f;if(!U.test(f)){Y.numeric=true;}Y.group_id=e;Y.match_siIndex=-1;I(Y);return Y;}function N(k){var e,Y,l,h,f;var m,g=[];Y=k.length;if(Y===0){return g;}var j=new RegExp("[ ]","g");for(e=0;e<Y;e++){l=k[e];h=0;while(j.test(l)){f=j.lastIndex-1;if(h<f){m=d(l.substring(h,f),e);g.push(m);}h=j.lastIndex;}if(h<l.length){m=d(l.substring(h),e);g.push(m);}}return g;}function X(h){var Y=[];var f,g,e;if(h.length>0){e=new RegExp("[,;]","g");f=0;while(e.test(h)){g=e.lastIndex-1;if(g>f){Y.push(h.substring(f,g));}f=e.lastIndex;}if(f<h.length){Y.push(h.substring(f));}}return Y;}F.prototype.updateFilterItems=function(g){if(g.length>2048){g=g.substring(0,2048);}g=g.replace(a," ");var Y=X(g);var f,e=C.common.Utils;for(f in Y){if(Y.hasOwnProperty(f)){Y[f]=e.regexpEscape(e.escapeHtml(Y[f]));}}this.filterItems=N(Y);};F.fuzzyMatch=function(g,e,q,Y){var j=g.length;var x=e.length;var s=[];var t=[];var p=[];var f,u,h,m,k,o,l,r;var y,w,n,i;for(f=0;f<=j;f++){t[f]=f;}m=x-q;if(m>j+Y){m=j+Y;}h=0;o="";for(u=0;u<m;u++){r=o;o=e.charAt(u+q).toLowerCase();if(h<=0){y=u+1;p[0]=y;n=y;h=0;k="";}else{y=Y+1;p[h]=y;n=y;k=g.charAt(f-1).toLowerCase();}for(f=h,h=-1;f<j;f++){l=k;k=g.charAt(f).toLowerCase();if(k===o){y=t[f];}else{y=t[f]+1;w=p[f]+1;if(y>w){y=w;}w=t[f+1]+1;if(y>w){y=w;}if(k===r&&l===o){w=s[f-1]+1;if(y>w){y=w;}}}p[f+1]=y;if(n>y){n=y;}if(h===-1&&y<=Y){if(f===0&&p[0]<=Y){h=0;}else{h=f+1;}}if(y>p[f]&&y>Y){break;}}if(f===j){if(y===0){t=p;u+=1;break;}w=t[j];if(w!==undefined&&w<y){break;}}if(n>Y){return null;}s=t;t=p;p=[];}y=t[j];if(y===undefined||y>Y){return null;}else{i={};i.start=q;i.end=u+q;i.diff=y;return i;}};function V(Y,e,k,q){var p;var n,l,j,h,o;var g,f,m;g=q.fuzzy_match_idx+1;o=q.fuzzy_matches;if(g<o.length){h=o[g];q.fuzzy_match_idx=g;return h;}else{if(!q.fuzzy_complete){p=Z;n=-1;while(true){if(n===-1&&q.fuzzy_match_idx===-1){n=0;}else{if(n<=0){p.lastIndex=(q.fuzzy_match_idx===-1)?0:o[q.fuzzy_match_idx].start+1;}if(p.test(Y)){n=p.lastIndex-1;}else{break;}}j=q.matches;for(g=0,f=j.length;g<f;g++){l=j[g];if(n>l.start){break;}else{if(n===l.start){h={};h.start=l.start;h.end=l.end;h.diff=0;o.push(h);q.fuzzy_match_idx+=1;k.match_idx=h.end;return h;}}}f=k.value.length;if(f<=2){m=0;if(q.complete){continue;}}else{if(f<=5){m=1;}else{m=2;}}if((h=F.fuzzyMatch(k.value,Y,n,m))!==null){o.push(h);q.fuzzy_match_idx+=1;k.match_idx=h.end;return h;}}q.fuzzy_complete=true;}q.fuzzy_match_idx=-1;return null;}}function J(Y,f,k,m){var l;var g,e,n,j,h;g=m.match_idx+1;h=m.matches;if(g<h.length){j=h[g];m.match_idx=g;return j;}else{if(!m.complete){l=k.regExp;l.lastIndex=(m.match_idx===-1)?0:h[m.match_idx].start+1;e=l.lastIndex;while(l.exec(Y)){if(f){n=Y.substring(e,l.lastIndex);e+=n.search(l);j={};j.end=l.lastIndex;j.start=e;h.push(j);m.match_idx+=1;k.match_idx=j.end;return j;}else{e=l.lastIndex-k.value.replace(/\\/g,"").length;if(e===0||Y.charAt(e-1).search(G)===0){j={};j.end=l.lastIndex;j.start=e;h.push(j);m.match_idx+=1;k.match_idx=j.end;return j;}}}m.complete=true;}m.match_idx=-1;return null;}}function Q(f,Y,e,g,i,j,l){var h;var k=(e||f.matchType!==2)?J:V;while((h=k(Y,e,g,i))!==null){if(l){if(h.start>=g.start_idx){g.start_idx=h.start;return true;}}else{if(g.start_siIndex===j&&g.start_idx===h.start){continue;}else{return true;}}}return false;}function W(n,m){var k=m.matches;var Y,l;var h,f,e,g,j;if(n.match_idx!==-1){Y=n.match_idx;
l=n.matches;}else{if(n.fuzzy_match_idx!==-1){Y=n.fuzzy_match_idx;l=n.fuzzy_matches;}else{return false;}}e=l[Y].start;g=l[Y].end;for(h=0,f=k.length;h<f;h++){j=k[h];if(!(j.end<=e||g<=j.start)){return false;}}for(h=0,f=m.length;h<f;h++){if((m[h].match_idx!==-1||m[h].fuzzy_match_idx!==-1)&&m[h].group_id!==n.group_id){return false;}}j={};j.start=e;j.end=g;m.matches.push(j);return true;}function M(h,n,r,e,o,q,s){if(o.phoneno&&!n.numeric){return false;}var k,g,p;var f,j,m,l;for(k=0,g=o.length;k<g;k++){if(o[k].index===r){p=o[k];break;}}if(!p){p={};p.index=r;p.group_id=n.group_id;p.match_idx=-1;p.matches=[];p.fuzzy_match_idx=-1;p.fuzzy_matches=[];o.push(p);}var Y=p.match_idx;while(Q(h,e,o.phoneno,n,p,q,s)){if(W(p,o)){return true;}}if(Y!==-1){l=o.matches;f=p.matches[Y].start;j=p.matches[Y].end;for(k=0,g=l.length;k<g;k++){m=l[k];if(m.start===f&&m.end===j){l.splice(k,1);}}}n.match_idx=-1;return false;}function B(g,j,h,n){var m,i,k,e,l,f,Y,o;i=D.length;o=false;if(h.match_siIndex===-1){o=true;h.start_siIndex=-1;h.start_idx=-1;if(n>0){Y=g.filterItems[n-1];if(Y.group_id===h.group_id){h.start_siIndex=Y.match_siIndex;h.start_idx=Y.match_idx;}}}if(o&&h.start_siIndex!==-1){m=h.start_siIndex;f=(m<3);if(f&&!h.numeric){}else{k=D[m];e=j[k];if(e&&e.length>0){l=j._matches[k];if(!l){l=[];l.matches=[];if(f){l.phoneno=true;}j._matches[k]=l;}if(M(g,h,n,e,l,m,true)){h.match_siIndex=m;h.special_match=true;return true;}}}}if(h.match_siIndex===-1){m=0;}else{if(h.special_match){h.special_match=false;m=0;}else{m=h.match_siIndex;}}while(m<i){f=(m<3);if(f&&!h.numeric){m+=1;continue;}k=D[m];e=j[k];if(e&&e.length>0){l=j._matches[k];if(!l){l=[];l.matches=[];if(f){l.phoneno=true;}j._matches[k]=l;}if(M(g,h,n,e,l,m,false)){h.match_siIndex=m;return true;}}m+=1;}h.match_siIndex=-1;return false;}F.prototype.filterContact=function(l){delete l.matches;if(this.filterItems.length===0){return false;}if(this.init_temp_data){l._matches={};}var f,e;e=this.filterItems.length;f=0;while(f<e){if(!B(this,l,this.filterItems[f],f)){if(f>0){f-=1;continue;}else{if(this.del_temp_data){delete l._matches;}return false;}}f+=1;}l.matches={};var p,k,m,n;var o,h,Y,g,j;k=D.length;p=0;while(p<k){m=D[p];n=l._matches[m];if(n&&n.length>0){for(f=0,e=n.length;f<e;f++){o=n[f];if((Y=o.match_idx)!==-1){h=this.filterItems[o.index];j=o.matches[Y];g={};g.term=h.value;g.startIndex=j.start;g.endIndex=j.end;if(!l.matches[m]){l.matches[m]=[];}l.matches[m].push(g);o.match_idx=-1;}else{if((Y=o.fuzzy_match_idx)!==-1){h=this.filterItems[o.index];j=o.fuzzy_matches[Y];g={};g.term=h.value;g.startIndex=j.start;g.endIndex=j.end;g.diff=j.diff;if(!l.matches[m]){l.matches[m]=[];}l.matches[m].push(g);o.fuzzy_match_idx=-1;}}}if(!this.del_temp_data){n.matches=[];}}p+=1;}if(this.del_temp_data){delete l._matches;}for(f=0,e=this.filterItems.length;f<e;f++){this.filterItems[f].match_siIndex=-1;}return true;};F.prototype.setConfigValues=function(f,Y,e){this.matchType=f;this.init_temp_data=C.Lang.isBoolean(Y)?Y:true;this.del_temp_data=C.Lang.isBoolean(e)?e:true;};F.prototype.filterContacts=function(f){var e=true,g=[];if(this.filterItems.length===0){}else{this.setConfigValues(1,true,!e);for(var Y in f){if(typeof f[Y].email!=="undefined"){if(this.filterContact(f[Y])){g.push(f[Y]);}}}}return g;};F.prototype.buildContactsIndex=function(){S();};var b=(function(){var Y='<li role="option"><span class="ac-value">{{hilite}}</span><span data-action="ac-remove-item" data-ac-sc={{isSmartContact}} data-ac-email-field-id="{{emailFieldId}}" data-ac-id="{{id}}" data-ac-email="{{email}}" class="icon icon-small-close ac-remove-item"></span></li>',j='<li role="option"><span class="ac-value">{{hilite}}</span></li>',h=j,f=NeoConfig.enableContactDelete?Y:j;function l(p){var o=i(p),n;if(p.isCategory){n=C.common.Utils.substitute(h,{hilite:o},0,0,0,0,strings);}else{n=C.common.Utils.substitute(f,{hilite:o,id:p.id,email:p.email,emailFieldId:p.emailField.id,isSmartContact:p.isSmartContact||0},0,0,0,0,strings);}return n;}function g(r,p,q,n){var o="";if(r||p||q){o=C.common.Utils.substitute(strings.str_name_format,{given_name:r?r:"",middle_name:p?p:"",family_name:q?q:""});o=o.replace(/ +(?= )/g,"");}else{if(n){o=n;}else{o="";}}return o;}function i(u){var o=u.matches,y,AG,v,w,AF=u.sc_score;if(o&&(o.nickname||o.user||o.firstname||o.lastname||o.mobileno||o.homeno||o.workno||o.email)){var AD=C.Lang.isArray(o.nickname)&&o.nickname.length>0?true:false,t=C.Lang.isArray(o.firstname)&&o.firstname.length>0?true:false,p=C.Lang.isArray(o.lastname)&&o.lastname.length>0?true:false,q=C.Lang.isArray(o.email)&&o.email.length>0?true:false;var z=u.nickname||null,AC=u.firstname||null,s=u.lastname||null,x=u.email||null;var AE=AD?k(z,o.nickname):(z&&z.length>0?z:null),n=t?k(AC,o.firstname):(AC&&AC.length>0?AC:null),AA=p?k(s,o.lastname):(s&&s.length>0?s:null),AB=q?k(x,o.email):null;AG="";AG=g(n,"",AA,AE);AE=AD?AE:null;n=t?n:null;AA=p?AA:null;v="";if(AB){v+=AB;}else{v+=x;}y=AG||"";y=C.Lang.trim(y);if(y!==""){if(NeoConfig.bidi){w=C.Intl.detectDirection(y.replace(/<\/?b\>/,""));y="<span data-name dir="+w+">"+y+"</span>";}else{y="<span data-name>"+y+"</span>";}}if(v.length>0){if(y.length>0){y+=" ";}if(y===""){y+="<em class='email no-name'"+(u.isCategory?"":" data-email='"+x+"'")+" dir='ltr'>"+v+"</em>";}else{y+="<em class='email'"+(u.isCategory?"":" data-email='"+x+"'")+" dir='ltr'>("+v+")</em>";}}}function r(AK,AJ,AI){var AH="";switch(AJ){case"amp":if(AI){AH="&"+AI+";";}else{AH="&";}break;case"#39":AH="'";break;case"quot":AH='"';break;case"lt":AH="<";break;case"gt":AH=">";break;case"#35":AH="#";break;default:AH="";break;}return AH;}y=y.replace(/&((?:[a-zA-Z]+)|(?:#[0-9]+));(?:([a-zA-Z]+|(?:#[0-9]+));)?|([;,])/gi,r);if(NeoConfig.smartcomplete_enabled==="debug"){if(C.UA.gecko){y+='<span style = "float:right; margin-top: -15px; color:red;">'+AF.toFixed(6);+"</span>";}else{y+='<span style = "float:right; color:red;">'+AF.toFixed(6);+"</span>";}}return y;}function k(n,s){var t=n;var p,r,o,u,q;s.sort(m);r=t.length;for(p=s.length-1;p>=0;p--){o=s[p];if(NeoConfig.bidi){u=t.substring(0,o.startIndex);
q=t.substring(o.endIndex,r)+t.substring(r);t=u+C.comms.Intl.highlightString(t.substring(o.startIndex,o.endIndex),u,q)+q;}else{t=t.substring(0,o.startIndex)+e(t.substring(o.startIndex,o.endIndex))+t.substring(o.endIndex,r)+t.substring(r);}r=o.startIndex;}t=t.substring(0,r)+t.substring(r);return t;}function e(n){return"<b>"+n+"</b>";}function m(o,n){if(typeof o==="object"&&typeof n==="object"&&typeof o.startIndex==="number"&&typeof n.startIndex==="number"){return +(o.startIndex-n.startIndex);}else{return 0;}}return{getItemMarkup:l,hlMatch:k,buildName:g};}());function c(e){var Y,f;for(Y=0,f=e.filterItems.length;Y<f;Y++){if(e.filterItems[Y].match_siIndex!==-1){return false;}}return true;}function L(k){var g,f,e,h;var l,Y,m,n;if(!k._matches){return true;}for(g=0,h=D.length;g<h;g++){l=D[g];Y=k[l];if(Y&&Y.length>0){m=k._matches[l];if(m){if(m.matches.length>0){return false;}for(f=0,e=m.length;f<e;f++){n=m[f];if(n.match_idx!==-1){return false;}if(n.fuzzy_match_idx!==-1){return false;}}}}}return true;}F._test={validateFilterItems:c,validateTempMatchData:L};C.namespace("comms").FilterContacts=F;C.namespace("comms").FilterContactsMarkup=b;},"1.0.0",{requires:["contacts-api-utils","contacts-api"]});YUI.add("comms-intl-bidihighlight",function(A){A.mix(A.namespace("comms.Intl"),{_needPrevChar:/[\u0620\u0622-\u063F\u0641-\u064A\u066E\u066F\u0671-\u0673\u0675-\u06D3\u06D5\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u077F\u07CA-\u07EA]/,_needNextChar:/[\u0620\u0626\u0628\u062A-\u062E\u0633-\u063F\u0641-\u0647\u0649\u064A\u066E\u066F\u0678-\u0687\u069A-\u06BF\u06C1\u06C2\u06CC\u06CE\u06D0\u06D1\u06FA-\u06FC\u06FF\u0712-\u0714\u071A-\u071D\u071F-\u0727\u0729\u072B\u072D\u072E\u074E-\u0758\u075C-\u076A\u076D-\u0770\u0772\u0775-\u0777\u077A-\u077F\u07CA-\u07EA]/,_highlightJoiner:"\u200d",_highlightStartTag:"<b>",_highlightEndTag:"</b>",_initializeBidiHighlightJoiner:function(){},highlightString:function(I,J,G){var K,F,M,D,B,L,C,E,H;E=function(N){return N===""?"":N.charAt(N.length-1);};H=function(N){return N===""?"":N.charAt(0);};if(I.length===0){return"";}L=E(J);C=H(G);K=I.charAt(0);M=I.charAt(I.length-1);F=K.charCodeAt(0);D=M.charCodeAt(0);if(L===""||L.charCodeAt(0)<1568||F<1568){B=this._highlightStartTag+I;}else{if(this._needNextChar.test(L)&&this._needPrevChar.test(K)){B=this._highlightJoiner+this._highlightStartTag+this._highlightJoiner+I;}else{B=this._highlightStartTag+I;}}if(C===""||C.charCodeAt(0)<1568||D<1568){B=B+this._highlightEndTag;}else{if(this._needPrevChar.test(C)&&this._needNextChar.test(M)){B=B+this._highlightJoiner+this._highlightEndTag+this._highlightJoiner;}else{B=B+this._highlightEndTag;}}return B;}});A.comms.Intl._initializeBidiHighlightJoiner();},"1.0.0");YUI.add("contacts-smartcontacts-api",function(B){var A={deleteSmartContacts:function(H,G,F){G=G||NeoConfig.socdirProxyPath;F=F||B.io;if(B.Lang.isArray(H)&&H.length>0){var D=H.length,E={ydht:{fields:{}}},C=E.ydht.fields;while(D--){C[H[D]]={"value":[0,null,-65536,1,1]};}F(G+"?/setSmartContacts?",{method:"POST",data:B.JSON.stringify(E)});}}};B.namespace("contacts.smartcontacts");B.contacts.smartcontacts.api=A;},"1.0.0",{requires:["io-base"]});YUI.add("ac-widget",function(G){var E=G.Lang,B=G.contacts,F=B.utils,H=G.comms;function A(J){var K=null,I=null;if(J&&(I=J.one(".ac-value"))){K=I.get("text");}return K;}function D(I){var J=this;I.ac=J._getEventPlugin(I);if(I.itemNodeToValue){this._nodeToValue=I.itemNodeToValue;}else{this._nodeToValue=A;}if(I.ac){D.superclass.constructor.apply(J,[I]);}}D.NAME="ACWidget";function C(){var I=arguments;G.use("rocket-stats",function(){G.common.Utils.rocketstats.stat.apply(0,I);});}G.extend(D,H.ui.AutoComplete,{bind:function(){D.superclass.bind.apply(this,arguments);},bindUI:function(){D.superclass.bindUI.apply(this,arguments);},_getEventPlugin:function(I){var J=false,K=E.isUndefined;if(!K(I.acNode)&&!K(I.acTarget)){J=I.acTarget.plug(H.ui.AutoCompleteEventsPlugin,{alignNode:I.acNode}).ac;}return J;},refresh:function(I){var K=this,J=false;J=K._getEventPlugin(I);if(J){I.ac=J;return K.setAttrs(I);}return K;},getItemMarkup:function(I){return G.comms.FilterContactsMarkup.getItemMarkup(I);},click:function(M){var Q=this,P=Q.get("ac");M.halt();if(M.target.hasClass("ac-remove-item")){var K=M.target,R=parseInt(K.getAttribute("data-ac-sc"),10),I=K.getAttribute("data-ac-id"),O=K.getAttribute("data-ac-email-field-id"),N=K.getAttribute("data-ac-email");G.fire("mt:click",{action:"ac_del",append:{ltxt:Q._selectedIndex}});G.use("common-ui-dialog-helper","_shared_module_offscreen_bin_modal_btn_generic",function(W){var X=W.common.Utils.substitute(W.ui.Templates._shared_module_offscreen_bin_modal_btn_generic.base,0,0,0,{btnID:"ok",btnLabel:strings.str_delete}),T=W.common.Utils.substitute(W.ui.Templates._shared_module_offscreen_bin_modal_btn_generic.base,0,0,0,{btnID:"cancel","default":"default",btnLabel:strings.str_btn_cancel}),V={hd:strings.str_address_remove_hd,bd:W.common.Utils.substitute(R?strings.str_sc_remove_bd:strings.str_contacts_remove_bd,{name:N}),ft:X+T},U={ok:{handler:function(){W.contacts.smartcontacts.api.deleteSmartContacts([N]);var Y=new H.FilterContacts();W.contacts.api.removeEmail(I,parseInt(O,10),Y.buildContactsIndex);P.set("queryValue","");C("autocomplete-delete",R?"smartContact":"ABContact");V={hd:strings.str_address_removed_hd,bd:W.common.Utils.substitute(strings.str_address_removed_bd,{name:N}),ft:W.common.Utils.substitute(W.ui.Templates._shared_module_offscreen_bin_modal_btn_generic.base,0,0,0,{btnID:"ok","default":"default",btnLabel:strings.str_ok})};W.common.ui.DialogHelper.createCommon(V);}},cancel:{handler:function(){P.set("queryValue","");}}},S=function(){};W.common.ui.DialogHelper.createCommon(V,U,S);});}else{var L;G.fire("mt:click",{action:"ac_select",append:{ltxt:Q._selectedIndex}});L=M.currentTarget.getData("selectedCb");if(L){L.call(M.target,M);return;}Q._selectedIndex=-1;var J=this._nodeToValue(M.currentTarget);if(J!==null){P.set("queryValue",J);P.get("host").simulate("keydown",{keyCode:13});}Q._currentValue=J;P.get("host").focus();}Q.hide();},handleEnter:function(O,J){var M=J.get("ac"),I=J._selectedIndex,L,P;O.halt();var K=new H.FilterContacts();if(J.get("data").queryStr!==M.get("queryValue")){K.updateFilterItems(M.get("queryValue"));var N=K.filterContacts(F.getSortedFlatContacts(["firstname","lastname","email"]));J.setAttrs({query:M.get("queryValue"),data:N}).drawMarkUp().setAlign().show();}if(I!==-1){L=J.item(I);if(L){P=this._nodeToValue(L);if(P!==null){M.set("queryValue",P);J._selectedIndex=-1;M.get("host").focus();J.hide();}}}},triggerQuery:function(){this.get("ac").fire("ac:query",{value:this.get("ac").get("queryValue")});},isMousedOver:function(){var I=this.get("boundingBox"),J=I&&(I.one("div.ac-results:hover")||I.one("div.ac-results li.over")||I.one("li.yui3-aclist-item-hover"));return !!J;},buildName:G.comms.FilterContactsMarkup.buildName});D.ATTRS={host:{value:null,getter:function(){return this.get("ac").get("host");}},alignNode:{value:null,getter:function(){return this.get("ac").get("alignNode");}}};G.namespace("contacts.ui");G.contacts.ui.ACWidget=D;},"1.0.0",{requires:["overlay","node-event-simulate","comms-ui-autocomplete-plugin","comms-ui-autocomplete","contacts-api-utils","contacts-api","filter-contacts","common-utils","comms-intl-bidihighlight","contacts-smartcontacts-api"]});YUI.add("_shared_module_offscreen_bin_compose",function(A){A.namespace("ui.Templates");A.ui.Templates._shared_module_offscreen_bin_compose={base:'<div id="ac-to-results" class="ac-results"></div><div id="ac-cc-results" class="ac-results"></div><div id="ac-bcc-results" class="ac-results"></div>'};},"1.0.0");YUI.add("_shared_module_offscreen_bin_notification_notifications",function(A){A.namespace("ui.Templates");A.ui.Templates._shared_module_offscreen_bin_notification_notifications={base:"{{addlozenge_exceededmax}}{{send_success}}{{send_error}}{{send_abuse}}{{intro}}{{spam_success}}",addlozenge_exceededmax:'<div class="nf-text">{{str_comp_addlozenge_exceededmax}} <a class="icon btn-cancel-notification" data-action="closeNotification"></a></div>',send_success:'<div class="nf-text">{{str_comp_msg_sent}} <a class="icon btn-cancel-notification" data-action="closeNotification"></a></div>',send_error:'<div class="nf-text">{{str_comp_not_sent}} <a href = "#" data-action="retry">{{str_retry}}</a> <a class="icon btn-cancel-notification" data-action="closeNotification"></a></div>',send_abuse:'<div class="nf-text">{{str_comp_send_abuse_error}} <a class="icon btn-cancel-notification" data-action="closeNotification"></a></div>',intro:'<div class="nf-text">Click <a href = "#" data-action = "view" style="padding:0">here</a> to learn more about your inbox! <a class="icon btn-cancel-notification" data-action="closeNotification"></a></div>',spam_success:'<div class="nf-text">{{str_modal_spam_investigation}} <a class="icon btn-cancel-notification" data-action="closeNotification"></a></div>'};},"1.0.0");