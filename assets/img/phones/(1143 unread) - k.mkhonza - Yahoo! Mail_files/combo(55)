YUI.add("comms-ui-clipboard-plugin",function(C){var Q='<object classid="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000"'+' codebase="{__PROTOCOL__}download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=9,0,0,0" '+'width="{__WIDTH__}" height="{__HEIGHT__}" id="{__MOVIEID__}" '+'align="middle"><param name="allowScriptAccess" value="always" embed-type="menu"/>'+'<param name="allowFullScreen" value="false" />'+'<param name="movie" value="{__MOVIEPATH__}" />'+'<param name="loop" value="false" /><param name="menu" value="false" />'+'<param name="quality" value="best" /><param name="bgcolor" value="#ffffff" />'+'<param name="flashvars" value="{__FLASHVARS__}"/><param name="wmode" '+'value="transparent"/></object>',T='<embed id="{__MOVIEID__}" src="{__MOVIEPATH__}" loop="false" '+'menu="false" quality="best" bgcolor="#ffffff" width="{__WIDTH__}" '+'height="{__HEIGHT__}" name="{__MOVIEID__}" align="middle" '+'allowScriptAccess="always" allowFullScreen="false" '+'type="application/x-shockwave-flash" '+'pluginspage="http://www.macromedia.com/go/getflashplayer" '+'flashvars="{__FLASHVARS__}" wmode="transparent" embed-type="menu" />',M="ClipBoardCopy-2.swf?r=2",A="clipboard",E="ClipBoardBridgePassThrough",F=window.location.href.match(/^https/i)?"https://":"http://",D="id={__MOVIEID__}&ns="+A+"&width={__WIDTH__}&height={__HEIGHT__}"+"&fn={__FN__}&domain={__DOMAIN__}",I="-2000px",R=false,S={},O={},L=function(U){if(C.Lang.isString(U)||C.Lang.isArray(U)){return U.length===0;}return false;},B=C.Lang.isUndefined,N=C.Lang.isNull,K=C.Lang.isNumber,J=C.Lang.isString,H=function(W){var U=S;for(var X in U){for(var V in U[X]){if(V===W){return false;}}}return true;},G=function(V,U){delete S[V][U];};function P(){P.superclass.constructor.apply(this,arguments);}P.NAME=A;P.NS=A;P.ATTRS={page:{value:C.one("body")},id:{value:""},moviepath:{value:""},domain:{value:"*.yahoo.com"},movieloaded:{value:false}};C.extend(P,C.Plugin.Base,{initializer:function(){var W=this,U=E,V;if(L(W.get("id"))){this.set("id",C.guid(A+"_"));}W._host=W.get("host");W._movie=null;if(L(W._host.get("id"))){W._host.set("id",W.get("id"));}else{W.set("id",W._host.get("id"));}V=W.getHostDimensions();window[U]=W._flashInterface;W._host.publish(A+":"+"load",{emitFacade:true,preventable:true,context:W._host,bubbles:true,fireOnce:true});C.on(A+":"+"load",function(X){R=true;O.params=X;W._host.fire(A+":"+"load",X);W.set("movieloaded",true);});W._movie=W._getFlashMovieObj(V,U);W._alignMovie(V,W._host);W.hide();W.beforeHostMethod("setAttribute",function(X,Y){if(X==="copy"){W.copy(Y);W.show();W.focus();}});W.afterHostMethod("on",function(X){if(X===A+":load"&&R){W._host.fire(A+":"+"load");W.set("movieloaded",true);}});},_destructor:function(){var U=this;U.get("boundingBox").destroy(true);R=false;O={};S={};},getHostDimensions:function(){var W=this,V=W._host,U=W._getNodeSize(V);return{w:parseInt(U[0],10),h:parseInt(U[1],10),xy:V.getXY()};},show:function(){var U=this;U._alignMovie(U.getHostDimensions());},focus:function(){var U=this._movie;if(U.focus){U.focus();}},hide:function(){var V=this,U=V.get("boundingBox");U.setStyles({"left":I});},copy:function(V){var W=this;try{W._movie._node.copy(V,W.get("id"));}catch(U){typeof globals!=="undefined"&&globals.report?globals.report("caughterror:..-build-comms-shared-src-clipboard-js-clipboard-plugin:1",U,"TRY_CATCH",1,1,1):window.console&&console.log&&console.log("caughterror:..-build-comms-shared-src-clipboard-js-clipboard-plugin:1");C.fire(A+":error",{"error":U.message});}},setEvent:function(X,Z,W){try{var b=this,Y=b._movie._node,U=S,a={},V=this.get("id");if(B(U[V])){U[V]={};}U[V][X]=Z;a[X]={"docopy":W?true:false};if(Y.setupEvents){Y.setupEvents(a);}}catch(c){typeof globals!=="undefined"&&globals.report?globals.report("caughterror:..-build-comms-shared-src-clipboard-js-clipboard-plugin:2",c,"TRY_CATCH",1,1,1):window.console&&console.log&&console.log("caughterror:..-build-comms-shared-src-clipboard-js-clipboard-plugin:2");C.fire(A+":error",{"error":c.message});}},removeEvent:function(b){try{var a=this,W=0,V=0,Z=a.get("id"),Y=[],U=a._movie._node;if(J(b)){b=[b];}for(V=b.length;W<V;W++){G(Z,b[W]);if(H(b[W])){Y.push(b[W]);}}if(Y.length>0&&U.removeEvents){U.removeEvents(Y);}}catch(X){typeof globals!=="undefined"&&globals.report?globals.report("caughterror:..-build-comms-shared-src-clipboard-js-clipboard-plugin:3",X,"TRY_CATCH",1,1,1):window.console&&console.log&&console.log("caughterror:..-build-comms-shared-src-clipboard-js-clipboard-plugin:3");C.fire(A+":error",{"error":X.message});}return true;},_alignMovie:function(Z,V){var a=this,W=B(V)?a._host:V,Y=a.get("boundingBox"),X=1,U=parseInt(W.getStyle("zIndex"),10);if(K(U)){X=U+1;}Y.setXY(Z.xy);Y.setStyles({zIndex:X});return Y;},_getFlashMovieObj:function(Z,Y){var X=this,V=A,b={"__PROTOCOL__":F,"__MOVIEID__":V,"__WIDTH__":Z.w,"__HEIGHT__":Z.h,"__MOVIEPATH__":X.get("moviepath")+M,"__NS__":P.NS,"__FN__":Y,"__DOMAIN__":X.get("domain")},c=C.UA.ie?Q:T,a=X.get("page"),W=X.get("page").one("#"+V),U;b.__FLASHVARS__=C.substitute(D,b);if(N(W)){U=C.Node.create("<div></div>");U.set("innerHTML",C.substitute(c,b));U.setStyles({"width":Z.w,height:Z.h,position:"absolute"});U.set("className",A+"-wrapper");a.appendChild(U);W=X.get("page").one("#"+V);O.host=X._host;}this.set("boundingBox",W.get("parentNode"));W.setStyle("outline","none");return W;},_flashInterface:function(X,U){try{var Y,W,V=S;if(X==A+":event"){Y=U.transaction,W=C.one("#"+Y);if(V[Y][U.event]){V[Y][U.event].call(W,U);}}else{C.fire(X,U);}}catch(Z){typeof globals!=="undefined"&&globals.report?globals.report("caughterror:..-build-comms-shared-src-clipboard-js-clipboard-plugin:4",Z,"TRY_CATCH",1,1,1):window.console&&console.log&&console.log("caughterror:..-build-comms-shared-src-clipboard-js-clipboard-plugin:4");C.fire(A+":error",C.mix({"error":Z.message},U));}},_getNodeSize:function(U){var W=[],V=function(X,Z){var Y=parseInt(Z.getComputedStyle(X),10);return K(Y)?Y:0;};W[0]=V("marginLeft",U)+V("paddingLeft",U)+V("borderLeftWidth",U)+V("width",U)+V("borderRightWidth",U)+V("paddingRight",U)+V("marginRight",U);
W[1]=V("marginTop",U)+V("paddingTop",U)+V("borderTopWidth",U)+V("height",U)+V("borderBottomWidth",U)+V("paddingBottom",U)+V("marginBottom",U);return W;}});C.namespace("comms.ui");C.comms.ui.ClipBoard=P;},"0.0.1",{requires:["node","plugin","substitute"]});