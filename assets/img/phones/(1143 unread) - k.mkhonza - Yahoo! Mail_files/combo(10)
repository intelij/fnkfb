YUI.add("tictac-base",function(a){function b(){var b=!0;try{/[\&|\?]dev=1/.test(window.location.href)&&(b=!1)}catch(c){a.Tictac.base.utils.log("tictac-base caught exception setting combo looking for dev=1:",c)}return b}function c(){return a.config.groups.tictacs.base}function d(){var b=a.config.groups.tictacs.base,c=b.split("/"),d=c[c.length-1],e=b.replace(d,"zz")+"/combo?";return e}function e(){var b=a.config.groups.tictacs.base,c=b.split("/"),d=c[c.length-1];return d}function f(b,d,e){var f=c(),g=a.config.groups.tictacs.modules,h=g[d||"tictac-base"].path.split("/",3).join("/");return b.substring(0,1)!=="/"&&(h+="/"),e?f+h+b:h+b}function g(a){var b=!NeoConfig.isAMT&&!NeoConfig.isInternal,c=window.location.search.substring(1).split("&"),d={},e=/[\&|\?]dev=1/.test(window.location.href)?"debug":"min",f,g,h,i;for(h=0,i=c.length;h<i;h++){g=c[h].split("=");if(g.length!==2)continue;if(b){if(g[0]===a+"raw"||g[0]===a+"debug"||g[0]===a+"perf")d[g[0]]=g[1]}else d[g[0]]=g[1]}return f=!!d[a+"perf"],e=f?"min":e,d[a+"raw"]?e="raw":d[a+"debug"]?e="debug":d[a+"min"]&&(e="min"),{enablePerf:f,filter:e,urlParams:d}}function h(f,g){g=typeof g=="undefined"?b():g&&b();var h={combine:g,groups:{tictacs:{combine:g,comboBase:d(),base:c(),root:e(),modules:f}}};window.YUI_config=a.mix(window.YUI_config||{},h,!0,null,0,!0)}function i(f,g,h){h=typeof h=="undefined"?b():h&&b();var i={combine:h,groups:{}};g.combine=h,g.comboBase=d(),g.base=c(),g.root=e(),i.groups[f]=g,window.YUI_config=a.mix(window.YUI_config||{},i,!0,null,0,!0)}function n(a){return k?a.replace(/\.css$/,"_bidi.css"):a}a.namespace("Tictac.base").loader=function(){};var j=window.NeoConfig&&window.NeoConfig.lang.substring(0,2),k=j==="ar"||j==="he"||j==="ur",l=g("base"),m=f("css/");i("tictacs",{filter:l.filter,modules:{"tictac-base-formatter":{path:f("js/formatter-min.js")},"tictac-base-utils":{path:f("js/utils-min.js"),requires:["tictac-base-formatter","json","tictac-base-strings"]},"tictac-base-ywa":{path:f("js/ywa-min.js")},"tictac-base-stats":{path:f("js/stats-min.js"),requires:["tictac-base-ywa","ymma-stats","json-stringify"]},"tictac-base-strings":{path:f("js/strings/lang_"+window.NeoConfig.lang+"-min.js")},"tictac-base-rollups":{path:f("js/tictac-base-rollups_"+window.NeoConfig.lang+"-min.js"),requires:["handlebars-base"]},"tictac-base-mailutils":{path:f("js/mailutils-min.js"),requires:["tictac-base-strings","json-parse"]},"tictac-base-viewutils":{path:f("js/viewutils-min.js"),requires:["tictac-base-rollups","tictac-base-strings","comms-bidi-textentry","comms-intl-bidi","base-view-css"]},"tictac-base-view":{path:f("js/view-min.js"),requires:["node","base-view-css","tictac-base-viewutils","backbone"]},"tictac-base-dialogview":{path:f("js/dialogview-min.js"),requires:["tictac-base-view","tictac-base-viewutils","tictac-base-rollups","tictac-base-strings"]},"tictac-base-model":{path:f("js/model-min.js"),requires:["backbone"]},"tictac-base-mailpreferences":{path:f("js/mailpreferences-min.js"),requires:["mail-persist-meta-data","json"]},"tictac-base-richselect":{path:f("js/richselect-min.js"),requires:["base","node","tictac-base-rollups","tictac-base-viewutils","tictac-richselect-css"]},"tictac-base-richmenu":{path:f("js/richmenu-min.js"),requires:["base","node","tictac-base-rollups","tictac-base-viewutils","tictac-richselect-css"]},"tictac-base-richtexteditor":{path:f("js/richtexteditor-min.js"),requires:["base","node","tictac-base-utils","tictac-base-rollups","tictac-base-richselect","escape","base-bidi","tictac-base-strings","tictac-base-viewutils","tictac-richtexteditor-css","tictac-base-mailutils"]},"tictac-base-batch-transport":{path:f("js/batchtransport-min.js"),requires:["tictac-base-utils"]},"tictac-base-mail-io":{path:f("js/mailio-min.js"),requires:["tictac-base-utils","io","common-net-sessionmgr"]}}}),i("base_css",{filter:l.filter,modules:{"base-view-css":{type:"css",path:n(m+"view.css")},"tictac-richselect-css":{type:"css",path:n(m+"richselect.css")},"tictac-richtexteditor-css":{type:"css",path:n(m+"rte.css")}}},!0),i("tictacs_lib",{modules:{"base-bidi":{path:f("lib/bidi.js")},underscore:{path:f("lib/underscore.js")},backbone:{path:f("lib/backbone.js"),requires:["underscore"]}}},!0),a.mix(a.Tictac.base,{isRTL:k,getCombo:b,getBase:c,getComboBase:d,getComboRoot:e,getAssetURL:f,getTictacVersion:g,defineModules:h,defineModuleGroup:i})},"1.0.0",{requires:["node","event"]});yui.add("tictac-categorizr",function(a){a.Tictac=a.Tictac||{},a.Tictac.categorizr=a.Tictac.categorizr||{},a.Tictac.categorizr.loader=function(){}});YUI.add("tictac-contactdetails",function(t){var a="https",c=NeoConfig.isCorpmail?"dev1data":"proddata";t.namespace("Tictac").contactdetails={loader:function(){if(!NeoConfig.searchSuggestions){return}var e=t.Tictac.base,i=e.getTictacVersion("contactdetails"),s=i&&i.urlParams&&i.urlParams.xProtocol||a,o=i&&i.urlParams&&i.urlParams.xServer||c,n;function l(a,c){return t.Tictac.base.getAssetURL(a,"tictac-contactdetails",c)}function r(t,a){if(a){return t.replace(/\.css$/,"_bidi.css")}return t}function d(a){var c=a.getTictacVersion("contactdetails"),e=c.filter||"min",i=window.NeoConfig?window.NeoConfig.lang:"en-US",s=a.isRTL,o=l("js/"),n=l("css/");t.Tictac.base.defineModuleGroup("contactdetails",{filter:e,modules:{"tictac-contactdetails-rollups":{path:o+"tictac-contactdetails-rollups_"+i+"-min.js",requires:["handlebars-base"]},"tictac-contactdetails-strings":{path:o+"strings/lang_"+i+"-min.js",requires:[]},"tictac-contactdetails-utils":{path:o+"utils-min.js",requires:[]},"tictac-contactdetails-mainController":{path:o+"maincontroller-min.js",requires:["event-base","tictac-contactdetails-utils"]},"tictac-contactdetails-baseContactController":{path:o+"basecontactcontroller-min.js",requires:["event-base","oop","tictac-contactdetails-utils","tictac-base-utils","tictac-contactdetails-attachmentsView","tictac-contactdetails-photosView","tictac-contactdetails-othersView","tictac-contactdetails-messagesView","tictac-contactdetails-filterView"]},"tictac-contactdetails-abContactController":{path:o+"abcontactcontroller-min.js",requires:["event-base","tictac-contactdetails-utils","tictac-contactdetails-contactView","tictac-contactdetails-baseContactController","tictac-contactdetails-xContactDataFetcher"]},"tictac-contactdetails-xContactController":{path:o+"xcontactcontroller-min.js",requires:["event-base","tictac-contactdetails-utils","tictac-contactdetails-contactView","tictac-contactdetails-baseContactController","tictac-contactdetails-xContactDataFetcher"]},"tictac-contactdetails-ContactDataFetcher":{path:o+"contactdatafetcher-min.js",requires:[]},"tictac-contactdetails-stats":{path:o+"stats-min.js",requires:["tictac-base-stats"]},"tictac-contactdetails-attachment":{path:o+"attachment-min.js",requires:["tictac-att-filter","tictac-att-downloader","mail-controller-messages"]},"tictac-contactdetails-searchresults":{path:o+"searchresults-min.js",requires:["tictac-att-filter","tictac-contactdetails-attachment"]},"tictac-contactdetails-querysearchresults":{path:o+"querysearchresults-min.js",requires:["io-base","tictac-base-mail-io"]},"tictac-contactdetails-messagessearchresults":{path:o+"messagessearchresults-min.js",requires:[]},"tictac-contactdetails-otherssearchresults":{path:o+"otherssearchresults-min.js",requires:[]},"tictac-contactdetails-abContactDataAdapter":{path:o+"abcontactdataadapter-min.js",requires:["tictac-contactdetails-utils","oop"]},"tictac-contactdetails-abContactDataFetcher":{path:o+"abcontactdatafetcher-min.js",requires:["tictac-contactdetails-ContactDataFetcher","tictac-contactdetails-abContactDataAdapter","contacts-api-utils","contacts-api"]},"tictac-contactdetails-xContactDataAdapter":{path:o+"xcontactdataadapter-min.js",requires:["tictac-contactdetails-utils","array-extras"]},"tictac-contactdetails-xContactDataFetcher":{path:o+"xcontactdatafetcher-min.js",requires:["tictac-contactdetails-ContactDataFetcher","tictac-contactdetails-xContactDataAdapter","tictac-base-mail-io","tictac-base-utils","io-base"]},"tictac-contactdetails-contactView":{path:o+"contactview-min.js",requires:["tictac-contactdetails-rollups","tictac-base-view","node","contactdetails-css"]},"tictac-contactdetails-attachmentsView":{path:o+"attachmentsview-min.js",requires:["tictac-contactdetails-rollups","tictac-base-view","tictac-att-slideshow","tictac-att-rollups","node","contactdetails-css","tictac-contactdetails-attachmentsBaseView"]},"tictac-contactdetails-attachmentsGalleryView":{path:o+"attachmentsgalleryview-min.js",requires:["tictac-contactdetails-rollups","tictac-base-view","tictac-att-slideshow","tictac-att-rollups","node","contactdetails-css","tictac-contactdetails-attachmentsBaseView"]},"tictac-contactdetails-attachmentsBaseView":{path:o+"attachmentsbaseview-min.js",requires:["tictac-contactdetails-rollups","tictac-contactdetails-baseView","tictac-att-slideshow","tictac-att-rollups","node","contactdetails-css","tictac-contactdetails-attachmentsBaseView"]},"tictac-contactdetails-messagesView":{path:o+"messagesview-min.js",requires:["tictac-contactdetails-rollups","tictac-base-view","tictac-att-rollups","node","contactdetails-css","tictac-contactdetails-messagesBaseView"]},"tictac-contactdetails-messagesBaseView":{path:o+"messagesbaseview-min.js",requires:["tictac-contactdetails-rollups","tictac-contactdetails-baseView","tictac-att-rollups","node","contactdetails-css","tictac-contactdetails-messagessearchresults"]},"tictac-contactdetails-othersView":{path:o+"othersview-min.js",requires:["tictac-contactdetails-rollups","tictac-base-view","tictac-att-slideshow","tictac-att-rollups","node","contactdetails-css","tictac-contactdetails-othersBaseView"]},"tictac-contactdetails-othersBaseView":{path:o+"othersbaseview-min.js",requires:["tictac-contactdetails-rollups","tictac-contactdetails-baseView","tictac-att-rollups","node","contactdetails-css","tictac-contactdetails-otherssearchresults"]},"tictac-contactdetails-photosView":{path:o+"photosview-min.js",requires:["tictac-contactdetails-rollups","node","tictac-contactdetails-photosBaseView","tictac-contactdetails-photosGalleryView","contactdetails-css","tictac-att-slideshow"]},"tictac-contactdetails-photosGalleryView":{path:o+"photosgalleryview-min.js",requires:["tictac-contactdetails-rollups","tictac-contactdetails-photosBaseView","node","contactdetails-css"]},"tictac-contactdetails-photosBaseView":{path:o+"photosbaseview-min.js",requires:["tictac-contactdetails-rollups","tictac-contactdetails-baseView","node","contactdetails-css"]},"tictac-contactdetails-baseView":{path:o+"baseview-min.js",requires:["tictac-contactdetails-rollups","tictac-base-view","node","contactdetails-css","tictac-contactdetails-stats","tictac-contactdetails-attachment","array-extras","tictac-contactdetails-querysearchresults","mail-ui-onboarding","comms-ui-tooltips-widget","tictac-base-mailpreferences"]},"tictac-contactdetails-entityMapping":{path:o+"entitymapping-min.js",requires:[]},"tictac-contactdetails-entityContactView":{path:o+"entitycontactview-min.js",requires:["tictac-contactdetails-rollups","tictac-base-view","node","tictac-base-utils","contactdetails-css","tictac-base-mailutils","tictac-base-utils","event","tictac-contactdetails-stats"]},"tictac-contactdetails-entityRelatedProductsView":{path:o+"entityrelatedproductsview-min.js",requires:[]},"tictac-contactdetails-entityMainController":{path:o+"entitymaincontroller-min.js",requires:["event-base","tictac-base-batch-transport","tictac-base-utils","tictac-base-mail-io","tictac-contactdetails-utils","tictac-contactdetails-entityMapping","tictac-contactdetails-entityContactView","tictac-contactdetails-entityRelatedProductsView"]},"tictac-contactdetails-filterView":{path:o+"filterview-min.js",requires:["tictac-contactdetails-messagesBaseView"]}}},e==="min");t.Tictac.base.defineModuleGroup("contactdetails.css",{filter:e,modules:{"contactdetails-css":{type:"css",path:r(n+"contactdetails.css",s)}}},e==="min")}d(e);n=YUI();n.namespace("Tictac.contactdetails").neoConfigHadAds=NeoConfig.hasAds;n.xobniProtocol=s;n.xobniHost=o;n.fallbackImageUrl=s==="http"?encodeURIComponent("http://l.yimg.com/dh/ap/social/profile/profile_a48.png"):encodeURIComponent("https://s1.yimg.com/dh/ap/social/profile/profile_a48.png");n.use("tictac-contactdetails-strings","tictac-contactdetails-mainController","tictac-contactdetails-entityMainController")}}},"1.0.0",{requires:["tictac-base"]});YUI.add("tictac-options",function(i){var s=[];function t(s,t){return i.Tictac.base.getAssetURL(s,"tictac-options",t)}i.namespace("Tictac").options={loader:function(){var t=i.Tictac.base,o=t.getTictacVersion("options");i.Tictac.options.loadModuleDefs(o.filter);window.yui.on("openOptions",function(i){YUI().use("options-view","options-filters-view","options-viewing-email-view","options-vacation-response-view","options-writing-email-view","options-block-senders-view","options-security-view","options-accounts-view","options-filters-model","options-filter-model","tictac-base-stats",function(t){var o,e=new t.Tictac.base.Stats({name:"options",ywa:{appId:"100034076556",actionEnums:{launch_accounts:2,launch_viewing_email:3,launch_writing_email:4,launch_vacation_response:5,launch_filters:6,launch_security:7,launch_block_senders:8,launch_messenger:9,launch_calendar:10,click_accounts:11,click_viewing_email:12,click_writing_email:13,click_vacation_response:14,click_filters:15,click_security:16,click_block_senders:17,click_messenger:18,click_calendar:19,save_refresh:21,save_norefresh:22,cancel:23,conversations_enabled:31,conversations_disabled:32,ssl_enabled:33,ssl_disabled:34},customFieldEnums:{action:17,bucket:28,size:18,type:19,status:20,count:29,time:30}},ultActions:{}}),n;t.Tictac.options.Stats=e;n=window.optionsView=new t.Tictac.options.OptionsView({limitToViewport:true,movable:true,focusNodeSelector:".nav ul a",id:i.view});e.stat("launch_"+(!!i.view?i.view:"accounts"));for(o=0;o<s.length;o++){t.Tictac.options.OptionsView.registerView(s[o])}n.render();n.show();n.on("hide",function(){n.destroy()})})})},loadModuleDefs:function(s){var o=t("js/"),e=window.NeoConfig?window.NeoConfig.lang:"en-US",n=t("css/");s=s||"min";function c(s){if(i.Tictac.base.isRTL){return s.replace(/\.css$/,"_bidi.css")}return s}i.Tictac.base.defineModuleGroup("options",{filter:s,modules:{"tictac-options-strings":{path:o+"strings/lang_"+e+"-min.js"},"tictac-options-rollups":{path:o+"tictac-options-rollups_"+e+"-min.js",requires:["handlebars-base"]},"options-utils":{path:o+"utils-min.js",requires:["io","json","tictac-base","tictac-options-strings","tictac-base-mail-io","tictac-base-utils"]},"options-view":{path:o+"optionsview-min.js",requires:["stylesheet","tictac-base-dialogview","tictac-options-rollups","options-css","tictac-options-strings","options-utils","tictac-base-viewutils"]},"options-accounts-view":{path:o+"accountsview-min.js",requires:["tictac-options-strings","tictac-options-rollups","options-view","options-accounts-model","tictac-base-viewutils","options-accounts-css","options-utils","tictac-base-utils","tictac-base-mailutils"]},"options-accounts-model":{path:o+"accountsmodel-min.js",requires:["tictac-base-model","options-utils","array-extras"]},"options-block-senders-view":{path:o+"blocksendersview-min.js",requires:["tictac-options-strings","tictac-options-rollups","tictac-base-viewutils","tictac-base-utils","options-view","options-blocksenders-model","options-blockedaddresses-css"]},"options-writing-email-view":{path:o+"writingemailview-min.js",requires:["tictac-options-strings","tictac-options-rollups","options-view","options-writing-model","tictac-base-richtexteditor","options-writing-css","tictac-base-viewutils","tictac-base-mailutils"]},"options-writing-model":{path:o+"writingemailmodel-min.js",requires:["tictac-base-model","options-utils","tictac-options-strings","common-persist-user-data"]},"options-viewing-email-view":{path:o+"viewingemailview-min.js",requires:["tictac-options-strings","tictac-options-rollups","options-view","options-viewing-email-model","tictac-base-viewutils"]},"options-viewing-email-model":{path:o+"viewingemailmodel-min.js",requires:["tictac-base-model","options-utils"]},"options-vacation-response-view":{path:o+"vacationresponseview-min.js",requires:["tictac-options-strings","tictac-options-rollups","options-view","options-vacationresponse-model","tictac-base-viewutils","options-utils","tictac-base-viewutils"]},"options-filters-view":{path:o+"filtersview-min.js",requires:["tictac-options-strings","tictac-options-rollups","options-view","options-filters-css","options-css","escape","options-filters-model","options-filter-model","tictac-base-viewutils","tictac-base-utils","options-utils"]},"options-filters-model":{path:o+"filtersmodel-min.js",requires:["tictac-base-model","io","json","options-utils"]},"options-filter-model":{path:o+"filtermodel-min.js",requires:["tictac-base-model","io","json","options-utils"]},"options-security-model":{path:o+"securitymodel-min.js",requires:["tictac-base-model","io","json","options-utils"]},"options-blocksenders-model":{path:o+"blocksendersmodel-min.js",requires:["tictac-base-model","io","json","options-utils"]},"options-vacationresponse-model":{path:o+"vacationresponsemodel-min.js",requires:["tictac-base-model","io","json","options-utils"]},"options-security-view":{path:o+"securityview-min.js",requires:["tictac-options-strings","tictac-options-rollups","options-view","options-security-model","tictac-base-viewutils","tictac-base-utils","options-utils","options-security-css"]},"options-css":{type:"css",path:c(n+"options.css")},"options-filters-css":{type:"css",path:c(n+"filters.css")},"options-writing-css":{type:"css",path:c(n+"writing.css")},"options-blockedaddresses-css":{type:"css",path:c(n+"blockedaddresses.css")},"options-security-css":{type:"css",path:c(n+"security.css")},"options-accounts-css":{type:"css",path:c(n+"accounts.css")}}},s==="min")},registerView:function(i){s.push(i)}}},"1.0.0",{requires:["tictac-base"]});var startTime=(new Date).getTime();YUI.add("tictac-mim",function(e){"use strict";var s,t,n=window.strings&&window.strings.str_cfg_tog_hasSMS,i=false,r={t1:startTime-(window.NeoGV?window.NeoGV.startTime:0)},a={mimLastActiveState:"never",mimUseTopContacts:undefined,mimSSANotificationSeen:false,mimSSADefaultSet:false,mimHomeCountryPref:"",mimLogoutPref:"prompt",mimEnableSounds:true,mimShowOnlyBuddies:false,mimCLCollapsedPref:false,mimCLHeightPref:150,mimConvWinSizePref:{width:300,height:350},mimConvWinSizePrefOld:{width:330,height:350},mimConvWinPosPref:{right:200,bottom:20},mimBlockNonContacts:false,"cg.pref.im.loginpref":0,mimPrefMigrated:false,mimCustomPresenceArr:[],mimDefaultFontSize:"2",mimDefaultFontColor:"#000000",mimDefaultFontFamily:"Arial",mimContactScoringData:{lastUpdated:null,mailScoreLastUpdated:null,contacts:[],includes:[],excludes:[]}},o={name:"mim",ywa:{sourceUrl:window.location.protocol==="https:"?"https://s.yimg.com/mi/vs3/ywa.js":"http://d.yimg.com/mi/vs3/ywa.js",server:"VSCALE3",appId:"1000357943879",isSampled:Math.floor(Math.random()*10)===0,actionEnums:{ad_rotation:2,login:3,status_available:4,status_busy:5,status_invisible:6,status_custom_old:7,status_custom_new:8,status_message_modified:9,status_signout:10,expanded:11,collapsed:12,window_plus:13,add:14,add_accept:15,add_decline:16,add_block:17,group_add:18,group_add_block_all:19,group_add_accept:20,group_add_decline:21,group_add_block:22,group_add_im:23,conversation:24,options:25,options_save:26,contactlist_resize:31,im:32,sms:33,email:34,message_send:35,message_receive:36,window_resize:37,window_move:38,window_minimize:39,window_maximize:40,window_close:41,right_click:42,contactlist_top:43,contactlist_online:44,rte_format:45,rte_emoticon:46,storm_launch:49,unknown:50},customFieldEnums:{action:17,bucket:28,size:18,type:19,status:20,option:21,ltxt:27}},ultActions:{toggle:true,frnd:true,message_send:true,message_receive:true}};function m(e,s){var n,i;if(t&&window.console){n=(new Date).getTime();i=e;if(s){i+=" ~ "+s}console["log"](i+" +"+(n-window.__mimStartTime))}}function c(e){r[e]=(new Date).getTime()-startTime;m("*** "+e);if(r.t4&&r.t_done&&!r.logged){yui.use("common-utils-stats",function(e){e.common.Utils.Stat.rtBeacon(978500106,r)});r.logged=true}}function g(s,t){return e.Tictac.base.getAssetURL(s,"tictac-mim",t)}if(!window.JSON){window.JSON=window.yui.JSON;window.__NOJSON__=true}s=e.namespace("Tictac").mim={loader:function(){var r,g,l=window.NeoConfig,u=e.Tictac.base,d=u.getTictacVersion("mim"),p=u.isRTL,w=e.namespace("Tictac").options,v=["messenger-xframetransport","messenger-contactlist","messenger-contactlist-view","messenger-session","messenger-msdb-user-preferences","messenger-usersettings","messenger-conversationlistview","messenger-stats","messenger-ssp","messenger-common-omutils","tictac-base-stats","messenger-contactscoring","messenger-lozenge-css","messenger-constants","tictac-mim-strings","messenger-systemsettings","messenger-requestmanager","messenger-optionsview"];t=d.enablePerf;if(t){window.__mimStartTime=startTime}c("t2");m("MiM Loader Invoked","main");s.loadModuleDefs(d.filter,p);if(window.NeoConfig){r=window.NeoConfig.mim}g=YUI();g.namespace("Messenger").Neo={core:window.Neo,NeoConfig:l,yui:window.yui};g.Messenger.urlParams=d.urlParams;g.Messenger.logPerf=m;g.Messenger.logPerfStats=c;if(n){v.push("messenger-convviewsmsplugin")}v.push("messenger-presenceplugin");v.push("messenger-contactplugin");function f(e){var s=e.Messenger.Common.RequestManager,t=e.Messenger.Model.Session,g,l=e.Messenger.Model.ContactList,u=e.Messenger.Model.UserSettings,d=e.Messenger.Model.SystemSettings,v=e.Messenger.Common.Stats,f=e.Tictac.mim.strings,b=e.Messenger.Common.Constants,h=e.one(document.body),S,y,M=l.getInstance();c("t3");e.Messenger.GlobalEvents=_.extend({},Backbone.Events);M.setDisplayNameTemplate(f.str_session_display_name_order);d.set("smsEnabled",n);d.set("triPaneView",i);d.set("isRTL",p);d.set("intl",window.NeoConfig.intl);d.set("lang",window.NeoConfig.lang);v.setStatsAPI(new e.Tictac.base.Stats(o));s.setTransport(e.Messenger.Common.Transport);u.addKeys(a,e.Messenger.Common.MSDBUserPreferences);u.addKeys({mimEnableSSA:true},e.Messenger.Common.SSPUserPreferences);if(window.NeoConfig.isCorpmail&&!u.getPreference("mimSSADefaultSet")){u.setPreference("mimEnableSSA",false);u.setPreference("mimSSADefaultSet",true);u.save();return}v.stat("storm_launch");m("First MiM YUI.use call completed","main");e.Messenger.Model.ContactScoring();y=u.getPreference("cg.pref.im.loginpref");if(r){s.crumb=r.crumb;if(r.session&&!r.session.error&&(!e.Messenger.urlParams||!e.Messenger.urlParams.coreServer)){s.processLoginData(r.session);t.processLoginData(r.session);t.set("presenceState",y)}else if(y!==b.STATE.OFFLINE&&(r.loggedIn==="0"||r.loggedInMpop==="1")){t.login({state:y,dormant:r.loggedIn==="0"?false:true})}}if(y!==b.STATE.OFFLINE&&(!r||!r.crumb||typeof r.loggedIn==="undefined")){s.getCrumb({checkStatus:true,successCallback:function(e){if(+e.loggedIn===0||+e.loggedInMpop===1){t.login({state:y,dormant:+e.loggedIn===0?false:true})}}})}e.Messenger.View.ConversationListView.convListView=new e.Messenger.View.ConversationListView({collection:e.Messenger.Model.ConversationList,collectionCL:M,parent:e.one(h),minWidth:250,minHeight:250,movable:true,resizable:true,zindex:1e4,floaty:window.NeoConfig.nav?true:false,centerOnShow:false});if(!window.NeoConfig.nav){S={collection:M,session:e.Messenger.Model.Session,limitToViewport:false,conversationWindow:e.Messenger.View.ConversationListView.convListView};S.parent=e.one("#messenger");if(!S.parent){S.nextSibling=e.one("#storm-listnav > #Calendar")}g=new e.Messenger.View.ContactListView(S);g.render();e.Messenger.View.ContactListView.clView=g}e.Messenger.View.ConversationListView.convListView.render();function C(){if(t.get("presenceState")!==b.STATE.OFFLINE&&t.get("presenceState")!==b.STATE.PENDING){t.off("change:presenceState",C);yui.use("contacts-api-utils","contacts-api",function(s){function t(){var t=s.contacts.utils.getContacts(),n=e.Messenger.Model.ContactList.getInstance();n.parseAddressBook(t);function i(e){if(e.result&&e.result.modified.length!==0){n.parseAddressBook(e.result.modified)}if(e.result&&e.result.created.length!==0){n.parseAddressBook(e.result.created)}if(e.result&&e.result.removed.length!==0){n.handleAddressBookContactRemoval(e.result.removed)}}s.on("contacts:contactChanged",i)}if(s.contacts.utils.areContactsLoaded()){t()}else{s.once("contacts:api:loaded",t)}})}}if(t.get("presenceState")!==b.STATE.OFFLINE){C()}else{t.on("change:presenceState",C)}window.mim=e.Messenger;function q(){t.quickLogout();if(window.addEventListener){window.removeEventListener("unload",q,false)}else{window.detachEvent("onunload",q)}}if(window.addEventListener){window.addEventListener("unload",q,false)}else{window.attachEvent("onunload",q)}yui.on("signout",function(){q()});var T=yui.one("#yucs");if(T){T.delegate("mousedown",function(){q()},"a.yucs-signout")}function j(){window.yui.fire("openOptions",{view:"messenger"})}e.Messenger.GlobalEvents.on(b.EVENTS.SHOW_OPTIONS,j);w.registerView({className:e.Messenger.View.OptionsView,id:"messenger"})}v.push(function(e){try{f(e)}catch(s){}});g.use.apply(g,v)},loadModuleDefs:function(s,t){var n=g("js/"),i=g("css/"),r=window.NeoConfig?window.NeoConfig.lang:"en-US";s=s||"min";function a(e){if(t){return e.replace(/\.css$/,"_bidi.css")}return e}e.Tictac.base.defineModuleGroup("mim_core",{filter:s,modules:{"messenger-systemsettings":{path:n+"systemsettings-min.js",requires:["tictac-base-model"]},"messenger-constants":{path:n+"constants-min.js"},"messenger-utils":{path:n+"utils-min.js",requires:["messenger-constants","datatype-date-format","messenger-ymlutils"]},"messenger-abutils":{path:n+"abutils-min.js",requires:["underscore","messenger-constants","messenger-utils","messenger-smsutils","tictac-base-mailutils"]},"messenger-smsutils":{path:n+"smsutils-min.js",requires:["messenger-constants","messenger-utils","underscore","messenger-usersettings"]},"messenger-ymlutils":{path:n+"ymlutil-min.js",requires:["messenger-constants","messenger-utils"]},"messenger-requestmanager":{path:n+"requestmanager-min.js",requires:["oop","messenger-constants","backbone","messenger-utils"]},"messenger-session":{path:n+"session-min.js",requires:["messenger-constants","messenger-requestmanager","messenger-utils","tictac-base-model","messenger-stats","messenger-systemsettings"]},"messenger-contact":{path:n+"contact-min.js",requires:["messenger-constants","messenger-utils","messenger-requestmanager","tictac-base-model"]},"messenger-contactlist":{path:n+"contactlist-min.js",requires:["messenger-contact","messenger-session","messenger-systemsettings","messenger-conversationlist","messenger-utils","messenger-abutils","escape","messenger-smsutils","messenger-constants"]},"messenger-message":{path:n+"message-min.js",requires:["messenger-ymlutils"]},"messenger-conversation":{path:n+"conversation-min.js",requires:["messenger-requestmanager","messenger-message","tictac-base-model","messenger-utils","messenger-contactlist","messenger-constants"]},"messenger-conversationlist":{path:n+"conversationlist-min.js",requires:["messenger-conversation","messenger-usersettings","messenger-contactlist","messenger-session"]},"messenger-usersettings":{path:n+"usersettings-min.js",requires:["tictac-base-model","underscore"]},"messenger-stats":{path:n+"stats-min.js",requires:[]},"messenger-contactscoring":{path:n+"contactscoring-min.js",requires:["underscore","messenger-constants","messenger-utils","messenger-usersettings","messenger-contactlist","messenger-conversationlist","tictac-base-model","messenger-systemsettings"]}}},s==="min");e.Tictac.base.defineModuleGroup("mim_app",{filter:s,modules:{"messenger-viewutils":{path:n+"viewutils-min.js",requires:["messenger-constants","tictac-mim-strings","tictac-mim-rollups","tictac-base","messenger-utils","messenger-smsutils","messenger-usersettings","messenger-stats","messenger-systemsettings","tictac-base-viewutils"]},"messenger-presenceplugin":{path:n+"presenceplugin-min.js",requires:["messenger-newconversationview","messenger-contactlist-view","messenger-contactlist-css","tictac-mim-rollups","tictac-base-view","messenger-constants","messenger-conversation","tictac-mim-strings","messenger-usersettings","messenger-viewutils","messenger-utils","messenger-stats","messenger-systemsettings","event-hover","messenger-base-css","escape"]},"messenger-contactplugin":{path:n+"contactplugin-min.js",requires:["messenger-newconversationview","messenger-contactlist-view","messenger-contactlist-css","tictac-mim-rollups","tictac-base-view","messenger-constants","messenger-conversation","tictac-mim-strings","messenger-usersettings","messenger-viewutils","messenger-utils","messenger-stats","messenger-systemsettings","event-hover","messenger-base-css","escape"]},"tictac-mim-rollups":{path:n+"tictac-mim-rollups_"+r+"-min.js",requires:["handlebars-base"]},"messenger-contactlist-view":{path:n+"contactlistview-min.js",requires:["messenger-contactlist-css","tictac-mim-rollups","tictac-base-view","messenger-constants","messenger-conversation","messenger-conversationlist","tictac-mim-strings","messenger-usersettings","messenger-viewutils","messenger-utils","messenger-stats","messenger-systemsettings","event-hover","messenger-base-css"]},"messenger-conversationlistview":{path:n+"conversationlistview-min.js",requires:["tictac-mim-rollups","tictac-base-dialogview","messenger-utils","messenger-conversationview","messenger-newconversationview","messenger-conversationlist","messenger-usersettings","messenger-conversationlist-css","messenger-viewutils","tictac-mim-strings","messenger-session","transition","messenger-addrequestview","messenger-stats","messenger-contactlist","messenger-abutils","messenger-systemsettings","messenger-constants"]},"messenger-conversationview":{path:n+"conversationview-min.js",requires:["tictac-mim-rollups","tictac-base-view","messenger-contactlist","messenger-ymlutils","tictac-mim-strings","tictac-base-utils","base-bidi","tictac-base-richtexteditor","messenger-constants","messenger-utils","messenger-viewutils","messenger-conversation-css","messenger-usersettings","messenger-stats","messenger-smsutils","messenger-systemsettings"]},"messenger-newconversationview":{path:n+"newconversationview-min.js",requires:["tictac-mim-rollups","tictac-base-view","messenger-contactlist","messenger-ymlutils","tictac-mim-strings","tictac-base-utils","base-bidi","messenger-systemsettings","messenger-constants","messenger-utils","io","messenger-viewutils","messenger-conversation-css","escape","messenger-abutils"]},"messenger-addrequestview":{path:n+"addrequestview-min.js",requires:["tictac-mim-rollups","tictac-base-view","messenger-contactlist","messenger-ymlutils","tictac-mim-strings","tictac-base-utils","base-bidi","messenger-utils","messenger-viewutils","messenger-conversation-css","messenger-stats"]},"messenger-optionsview":{path:n+"optionsview-min.js",requires:["tictac-mim-rollups","tictac-base-view","tictac-mim-strings","messenger-options-css","messenger-utils","messenger-contactlist","messenger-constants","messenger-session","messenger-viewutils","messenger-usersettings","messenger-systemsettings"]},"tictac-mim-strings":{path:n+"strings/lang_"+r+"-min.js"},"messenger-ssp":{path:n+"sspuserpreferences-min.js",requires:["messenger-requestmanager","tictac-mim-strings"]},"messenger-msdb-user-preferences":{path:n+"msdbuserpreferences-min.js",requires:["mail-persist-meta-data","messenger-constants","tictac-base-mailpreferences"]},xframe:{path:n+"xframe-min.js"},"messenger-xframetransport":{path:n+"xframetransport-min.js",requires:["tictac-base","xframe","messenger-utils"]},"messenger-convviewsmsplugin":{path:n+"convviewsmsplugin-min.js",requires:["messenger-conversationview","messenger-smsutils","messenger-viewutils","tictac-mim-strings","tictac-mim-rollups","messenger-utils","messenger-constants"]}}},s==="min");e.Tictac.base.defineModuleGroup("mim_css",{filter:"min",modules:{"messenger-contactlist-css":{type:"css",path:a(i+"contactlist.css")},"messenger-conversationlist-css":{type:"css",path:a(i+"conversationlist.css")},"messenger-conversation-css":{type:"css",path:a(i+"conversation.css")},"messenger-base-css":{type:"css",path:a(i+"base.css")},"messenger-lozenge-css":{type:"css",path:a(i+"lozenge.css")}}},s==="min");e.Tictac.base.defineModuleGroup("mim_helpers",{filter:s,modules:{"messenger-common-omutils":{path:n+"omutils-min.js",requires:["io-base"]}}},s==="min")}}},"1.0.0",{requires:["tictac-base","tictac-options"]});YUI.add("tictac-attach",function(a){function e(a,c){return b.getAssetURL(a,"tictac-attach",c)}a.namespace("Tictac.attach").loader=function(){};var b=a.Tictac.base,c=b.getTictacVersion("attach"),d=window.NeoConfig?window.NeoConfig.lang:"en-US";a.Tictac.base.defineModuleGroup("tictacs",{filter:c.filter,modules:{"tictac-attach-model-attachment":{path:e("js/attachment-min.js"),requires:["tictac-base-utils","tictac-attach-utils","escape"]},"tictac-attach-model-attachments":{path:e("js/attachments-min.js"),requires:["array-extras","event-custom","tictac-base-utils","tictac-attach-model-attachment","tictac-attach-utils","tictac-att-filter"]},"tictac-attach-controller":{path:e("js/controller-min.js"),requires:["tictac-attach-neo","tictac-attach-uploader-form","tictac-attach-model-attachments","tictac-attach-utils","tictac-base-stats","tictac-base-utils"]},"tictac-attach-customuploader-html5":{path:e("js/customuploaderhtml5-min.js"),requires:["uploader-html5","tictac-attach-yuipatch"]},"tictac-attach-enhancr-autolink":{path:e("js/enhancr-autolink-min.js"),requires:["tictac-attach-stats","tictac-attach-utils","base","plugin","event-custom","event-key","node-base"]},"tictac-attach-enhancr-card":{path:e("js/enhancr-card-min.js"),requires:["tictac-attach-enhancr-net","tictac-attach-stats","tictac-base-utils","tictac-base-mailpreferences","array-extras","escape","querystring-stringify-simple","base","tictac-attach-rollups","event-custom","comms-ui-envelope"]},"tictac-attach-enhancr-net":{path:e("js/enhancr-net-min.js"),requires:["tictac-base-utils","tictac-base-mail-io"]},"tictac-attach-main":{path:e("js/load-min.js"),requires:["event-custom","tictac-att-filter","tictac-attach-enhancr-autolink","tictac-attach-enhancr-card","tictac-attach-neo","tictac-attach-stats","tictac-attach-model-attachments","tictac-attach-view","tictac-attach-controller","tictac-attach-uploader-form","tictac-attach-uploader-html5","tictac-attach-strings","tictac-attach-utils","tictac-base-utils"]},"tictac-attach-neo":{path:e("js/neo-min.js"),requires:[]},"tictac-attach-stats":{path:e("js/stats-min.js"),requires:["tictac-base-ywa"]},"tictac-attach-uploader":{path:e("js/uploader-min.js"),requires:["event-custom"]},"tictac-attach-uploader-form":{path:e("js/uploaderform-min.js"),requires:["event-custom","querystring-parse-simple","tictac-base-utils","tictac-attach-utils"]},"tictac-attach-uploader-html5":{path:e("js/uploaderhtml5-min.js"),requires:["array-extras","event-custom","io","tictac-attach-customuploader-html5","tictac-attach-neo","tictac-attach-rollups","tictac-attach-strings","tictac-attach-utils","tictac-base-utils"]},"tictac-attach-utils":{path:e("js/utils-min.js"),requires:["node","json"]},"tictac-attach-view":{path:e("js/view-min.js"),requires:["base-base","node","tictac-base-utils","tictac-attach-utils","tictac-att-attachment-tray","tictac-att-filter","tictac-att-attachment-compose","tictac-att-attachment-error","tictac-att-attachments","tictac-attach-rollups","tictac-att-downloader"]},"tictac-attach-yuipatch":{path:e("js/yuipatch-min.js"),requires:["file-html5","uploader-queue"]},"tictac-attach-strings":{path:e("js/strings/lang_"+d+"-min.js")},"tictac-attach-rollups":{path:e("js/tictac-attach-rollups_"+d+"-min.js")}}}),a.one("head").append('<link rel="stylesheet" href="'+e("css/attach.css","tictac-attach",!0)+'" class="tictac-attach-css" />')},"1.0.0",{requires:["tictac-base","tictac-att"]});yui.add("tictac-smartviews",function(a){a.Tictac=a.Tictac||{},a.Tictac.smartviews=a.Tictac.smartviews||{},a.Tictac.smartviews.loader=function(){}});YUI.add("tictac-notepad",function(a){a.namespace("Tictac.notepad").loader=function(){}});YUI.add("tictac-dropbox",function(t){t.Tictac=t.Tictac||{};t.Tictac.dropbox=t.Tictac.dropbox||{};t.Tictac.dropbox.loader=function(){};var o=t.Tictac.base,c=o.getTictacVersion("dropbox");function a(t,c){return o.getAssetURL(t,"tictac-dropbox",c)}t.Tictac.base.defineModuleGroup("tictacs",{filter:c.filter,modules:{"tictac-dropbox-rollups":{path:a("js/tictac-dropbox-rollups_"+NeoConfig.lang+"-min.js")},"tictac-dropbox-api":{path:a("js/api-min.js")},"tictac-dropbox-auth":{path:a("js/auth-min.js")},"tictac-dropbox-footer":{path:a("js/footer-min.js")},"tictac-dropbox-controller":{path:a("js/controller-min.js")},"tictac-dropbox-chooser":{path:a("js/chooser-min.js")},"tictac-dropbox-saver":{path:a("js/saver-min.js")},"tictac-dropbox-alfview":{path:a("js/alfview-min.js")},"tictac-dropbox-stats":{path:a("js/stats-min.js")},"tictac-dropbox-strings":{path:a("js/strings/lang_"+NeoConfig.lang+"-min.js")}}});t.one("head").append('<link rel="stylesheet" href="'+a("css/dropbox.css","tictac-dropbox",true)+'" class="tictac-dropbox-css" />')},"1.0.0",{requires:["node","tictac-base"]});YUI.add("tictac-flickr",function(c){c.Tictac=c.Tictac||{};c.Tictac.flickr=c.Tictac.flickr||{};c.Tictac.flickr.loader=function(){};var t=c.Tictac.base,i=t.getTictacVersion("flickr");function a(c,i){return t.getAssetURL(c,"tictac-flickr",i)}c.Tictac.base.defineModuleGroup("tictacs",{filter:i.filter,modules:{"tictac-flickr-rollups":{path:a("js/tictac-flickr-rollups_"+NeoConfig.lang+"-min.js")},"tictac-flickr-chooser":{path:a("js/chooser-min.js")},"tictac-flickr-ws":{path:a("js/ws-min.js")},"tictac-flickr-controller":{path:a("js/controller-min.js")},"tictac-flickr-justifier":{path:a("js/justifier-min.js")},"tictac-flickr-model":{path:a("js/model-min.js")},"tictac-flickr-strings":{path:a("js/strings/lang_"+NeoConfig.lang+"-min.js")},"tictac-flickr-stats":{path:a("js/stats-min.js")},"tictac-flickr-auth":{path:a("js/auth-min.js")},"tictac-flickr-footer":{path:a("js/footer-min.js")},"tictac-flickr-uploadctrl":{path:a("js/uploadctrl-min.js")},"tictac-flickr-uploader-form":{path:a("js/uploaderform-min.js")}}});c.one("head").append('<link rel="stylesheet" href="'+a("css/flickr.css","tictac-flickr",true)+'" class="tictac-flickr-css" />')},"1.0.0",{requires:["node","tictac-base"]});YUI.add("tictac-att",function(t){var a=t.Tictac.base,e=a.getTictacVersion("att");function c(t,e){return a.getAssetURL(t,"tictac-att",e)}t.Tictac.base.defineModuleGroup("tictacs",{filter:e.filter,modules:{"tictac-att-accusoft":{path:c("js/accusoft-min.js"),requires:["io-base","json-parse","node","tictac-base-utils"]},"tictac-att-docman":{path:c("js/docman-min.js"),requires:["tictac-att-docview","tictac-base-utils","tictac-base-stats"]},"tictac-att-docview":{path:c("js/docview-min.js"),requires:["io","common-net-sessionmgr","tictac-att-accusoft","tictac-att-strings","tictac-base-utils","tictac-base-batch-transport"]},"tictac-att-rollups":{path:c("js/tictac-att-rollups_"+NeoConfig.lang+"-min.js"),requires:["handlebars-base"]},"tictac-att-slider":{path:c("js/slider-min.js"),requires:["tictac-base"]},"tictac-att-attachments":{path:c("js/attachments-min.js"),requires:["base","tictac-att-attachment-tray","tictac-base-utils"]},"tictac-att-strings":{path:c("js/strings/lang_"+NeoConfig.lang+"-min.js")},"tictac-att-filter":{path:c("js/filter-min.js"),requires:["cookie"]},"tictac-att-preferences":{path:c("js/preferences-min.js")},"tictac-att-attachment-menu":{path:c("js/attachment-menu-min.js"),requires:["common-ui-menu-helper","event-hover","node-base","widget"]},"tictac-att-attachment-tray":{path:c("js/attachment-tray-min.js"),requires:["widget","event-hover","handlebars-base","tictac-att-rollups","tictac-att-strings","tictac-base-utils","tictac-att-attachments","tictac-att-slider","transition","tictac-att-attachment-menu","tictac-base-mailpreferences","tictac-att-attachmentview"]},"tictac-att-attachmentview":{path:c("js/attachmentview-min.js")},"tictac-att-slideshow":{path:c("js/slideshow-min.js"),requires:["array-extras","event-hover","event-mousewheel","node-base","transition","widget","comms-ui-envelope","common-ui-menu-helper","tictac-att-attachments","tictac-att-attachmentview","tictac-att-rollups","tictac-att-strings","tictac-base","tictac-base-stats","tictac-base-utils","tictac-base-mailutils","yui-throttle","event-custom","escape"]},"tictac-att-attachment-compose":{path:c("js/attachment-compose-min.js"),requires:["tictac-att-attachments","tictac-att-progressbar"]},"tictac-att-progressbar":{path:c("js/progressbar-min.js"),requires:["node"]},"tictac-att-attachment-error":{path:c("js/attachment-error-min.js"),requires:["tictac-base-utils","tictac-att-strings"]},"tictac-att-downloader":{path:c("js/downloader-min.js"),requires:["array-extras","io","tictac-base-mail-io","node","tictac-att-strings","tictac-att-attachment-error","tictac-base-utils","querystring-stringify-simple"]},"tictac-att-helper":{path:c("js/helper-min.js"),requires:[]},"tictac-att-enhancr-media":{path:c("js/enhancr-media-min.js"),requires:[]}}});t.Tictac=t.Tictac||{};t.Tictac.att=t.Tictac.att||{};t.Tictac.att.loader=function(){yui.use("tictac-att-helper")};t.one("head").append('<link rel="stylesheet" href="'+c("css/tray"+(a.isRTL?"_bidi":"")+".css","tictac-att",true)+'" class="tictac-att-tray-css" />');t.one("head").append('<link rel="stylesheet" href="'+c("css/slideshow"+(a.isRTL?"_bidi":"")+".css","tictac-att",true)+'" class="tictac-att-slideshow-css" />')},"1.0.0",{requires:["node","event","tictac-base"]});yui.add("tictac-viewmastr",function(a){a.Tictac=a.Tictac||{},a.Tictac.viewmastr=a.Tictac.viewmastr||{},a.Tictac.viewmastr.loader=function(){}});