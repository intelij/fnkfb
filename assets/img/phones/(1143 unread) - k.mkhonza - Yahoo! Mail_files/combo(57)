YUI.add("messenger-conversation",function(e){"use strict";var s=e.Messenger.Common.Constants,t=s.EVENTS,n={SET_TYPING_STATE:{method:"POST",path:"/v1/message/{{network}}/{{user}}",args:["action=start-typing"]},CLEAR_TYPING_STATE:{method:"POST",path:"/v1/message/{{network}}/{{user}}",args:["action=stop-typing"]},SEND_SMS:{method:"POST",path:"/v1/message/sms/{{number}}"},SEND_MSG:{method:"POST",path:"/v1/message/{{network}}/{{user}}",args:["action=send-message"]},RECENT_MESSAGES_IM:{method:"POST",path:"/v1/message/{{network}}/{{user}}",args:["action=fetch-recent","count=50"]},RECENT_MESSAGES_SMS:{method:"POST",path:"/v1/message/sms/{{number}}",args:["action=fetch-recent","count=50"]}},r=e.Messenger.Common.Utils;e.namespace("Messenger.Model").Conversation=e.Tictac.base.Model.extend({defaults:{user:null,alias:null,network:"yahoo",userTyping:false,incomingAuth:false,incomingAuthMessage:"",created:new Date},initialize:function(){var e=this;this.set({messages:[]});this.on("destroy",function(s,t,n){e.set("messages",[]);if(e._hideTypingTimer){e._hideTypingTimer.cancel();e._hideTypingTimer=null}if(n.local){e.close(n)}})},request:function(s,t){var n="POST",r="/v1/messages",o=["action="+s,"blocking=0"],i=this.get("user"),a=this.get("alias"),g=this.get("network");e.Messenger.Common.RequestManager.issueRequest({method:n,path:r,args:o,postBody:{convs:[{sender:a,receiver:i,network:g}]},successCallback:e.bind(function(e){if(t&&t.success){t.success(e)}},this),errorCallback:e.bind(function(e){if(t&&t.error){t.error(e)}},this)})},ack:function(e){this.request("ack-conv",e)},ackReceived:function(){this.trigger(t.ACK_RECEIVED)},close:function(e){this.request("close-conv",e)},handleError:function(e){this.trigger(s.EVENTS.SMS_ERROR,e.errorCode)},receiveMessage:function(t){var n=this.get("messages"),r,o,i;if(t.hash&&(t.type==="transfer"||t.type==="recent")){for(r=0,o=n.length;r<o;r++){if(n[r].hash===t.hash){return}}}var a=new e.Messenger.Model.Message({yml:t.msg,sender:t.sender,receiver:t.receiver,fromSelf:t.echo?true:false,timeStamp:t.timeStamp*1e3,network:t.network,type:t.type,hash:t.hash,msgContext:t.msgContext,sequence:t.sequence,status:t.status});n.push(a);i="You have a new MiM message from "+a.sender+'! They say "'+a.yml()+'"';this.set("userTyping",false);this.trigger(s.EVENTS.MESSAGE,a)},sendMessage:function(s){var t=this,n=new e.Messenger.Model.Message({yml:s,sender:t.get("alias"),receiver:t.get("user"),network:t.get("network"),fromSelf:true,timeStamp:new Date,type:"im"});t._queueSendRequest(n)},sendSMS:function(s){var t=this,n=t.get("user"),r=t.get("network")||"sms",o=e.Messenger.Model.ContactList.getInstance(),i,a=n,g;i=o.getContact(n,r);a=i.get("normalizedNumber");g=new e.Messenger.Model.Message({yml:s,sender:t.get("alias"),network:r,receiver:n,fromSelf:true,timeStamp:new Date,type:"sms",mobileno:a});t._queueSendRequest(g)},_queueSendRequest:function(e){var t=this,n,o,i,a;o=t.get("messages");if(!t.messageQueue){t.messageQueue=[]}o.push(e);a=t.get("alias");n={convId:r.getConversationId(a,t.get("user"),t.get("network")),txnId:[a,(new Date).getTime(),Math.floor(Math.random()*9+1)].join("~"),message:e.yml(),sendAs:a};i={network:t.get("network"),user:t.get("user"),body:n,type:e.type,mobileno:e.mobileno};t.messageQueue.push(i);if(t.messageQueue.length===1){t.sendNextMessage()}t.trigger(s.EVENTS.MESSAGE,e)},handleTypingNotification:function(s){this.set({userTyping:!!s.activity});if(this._hideTypingTimer){this._hideTypingTimer.cancel();this._hideTypingTimer=null}if(s.activity){var t=12e3;this._hideTypingTimer=e.later(t,this,function(){this.handleTypingNotification({activity:false})})}},sendTypingNotification:function(s){var t=s?n.SET_TYPING_STATE:n.CLEAR_TYPING_STATE,r=s?{action:"start-typing"}:{action:"stop-typing"},o=e.Messenger.Common.Utils;r.sendAs=this.get("alias");e.Messenger.Common.RequestManager.issueRequest({method:t.method,args:t.args,path:o.substitute(t.path,{user:encodeURIComponent(this.get("user")),network:this.get("network")||"yahoo"}),postBody:r})},sendNextMessage:function(){if(this.messageQueue.length===0){return}var s=this,t=this.messageQueue[0],o,i,a,g;if(t.type==="sms"){o=n.SEND_SMS;a=r.substitute(o.path,{number:encodeURIComponent(t.mobileno)})}else{o=n.SEND_MSG;g=o.args;a=r.substitute(o.path,{network:t.network,user:encodeURIComponent(t.user)})}i=o.method;g=o.args;e.Messenger.Common.RequestManager.issueRequest({method:i,path:a,args:g,postBody:t.body,successCallback:function(){s.messageQueue.shift();s.sendNextMessage()},errorCallback:function(e){s.messageQueue.shift();s.sendNextMessage();s.handleSendMessageError(e&&e.error)}})},handleSendMessageError:function(e){this.trigger(t.SEND_ERROR,{errorCode:e})},loadRecentMessages:function(s){var t=this,o=t.get("user"),i=t.get("network")||"yahoo",a=e.Messenger.Model.ContactList.getInstance(),g,u,m;if(s==="sms"){g=a.getContact(o,i);u=n.RECENT_MESSAGES_SMS;m=r.substitute(u.path,{number:encodeURIComponent(g.get("mobileno"))})}else{u=n.RECENT_MESSAGES_IM;m=r.substitute(u.path,{user:encodeURIComponent(o),network:encodeURIComponent(i)})}e.Messenger.Common.RequestManager.issueRequest({path:m,args:u.args,method:u.method})}})},"@VERSION@",{requires:["messenger-requestmanager","messenger-message","tictac-base-model","messenger-utils","messenger-contactlist","messenger-constants"]});YUI.add("messenger-conversationlist",function(e){"use strict";var s=e.Messenger.Common.RequestManager,t=e.Messenger.Model.Session,n=e.Messenger.Common.Utils,i;i=Backbone.Collection.extend({model:e.Messenger.Model.Conversation,initialize:function(){var n=this;s.addListeners([{id:"message",callback:e.bind(n.parseMessage,n)},{id:"rttIm",callback:e.bind(n.rttIm,n)},{id:"typing",callback:e.bind(n._typingNotificationReceived,n)},{id:"offlineMessage",callback:e.bind(this._processOfflineMessages,this)},{id:"sms",callback:e.bind(this._processIncomingSMS,this)},{id:"recentMessages",callback:e.bind(this._processRecentMessages,this)},{id:"imSession",callback:e.bind(function(e){e.sessioninfo=[{network:e.network||"yahoo",sender:e.sender,receiver:e.receiver,messageCount:e.messageCount}];this._processIMSessions(e)},this)},{id:"imSessions",callback:e.bind(this._processIMSessions,this)},{id:"stateTransfer",callback:e.bind(this._processStateXfer,this)}]);t.on("change:conversations",this.parseConversationsData,this)},newConversation:function(e){this.add(e);return this.get(e.id)},getConversation:function(e){return this.get(e.id)||this.newConversation(e)},_processIncomingSMS:function(e){e.type="sms";this.parseMessage(e)},_processRecentMessages:function(e){var s=e.messageList,n,i,r;if(e.errorCode){return}for(n=0,i=s.length;n<i;n++){r=s[n].message;r.echo=t.isMyself(r.sender)?true:false;r.type="recent";this.parseMessage(r)}},rttIm:function(s){if(s.cliData){s.cliData=e.JSON.parse(s.cliData)}if(s.hasOwnProperty("msg")){return this.parseMessage(s)}else if(s.hasOwnProperty("message")){s.msg=s.message;s.timeStamp=s.timeStamp/1e3;delete s.message;return this.parseMessage(s)}},parseMessage:function(s){s.echo|=s.fbecho;var t=e.Messenger.Model.ContactList.getInstance(),i=e.Messenger.Model.UserSettings,r,a,o,c,g=s.echo?s.sender:s.receiver,f=s.echo?s.receiver:s.sender,l=s.network||"yahoo",d,m;if(l==="facebook"){return}if(s.type==="sms"){r=t.where({normalizedNumber:f});if(!r.length){l="sms"}else if(r.length===1){a=r[0]}else{for(o=0,c=r.length;o<c;o++){if(this.get(n.getConversationId(g,r[o].get("user"),r[o].get("network")))){a=r[o];break}}a=a||r[0]}if(a){f=a.get("user");l=a.get("network");if(s.echo){s.receiver=f}else{s.sender=f}s.network=l}}d=n.getConversationId(g,f,l);s.user=f;s.network=l;s.alias=g;s.type=s.type||"im";if(!s.timeStamp){s.timeStamp=(new Date).getTime()/1e3}if(i.getPreference("mimBlockNonContacts")){a=t.getContact(f,l);if(a.get("type")==="unknown"){return}}m=this.getConversation({id:d,alias:g,user:f,network:l,timeStamp:s.timeStamp});if(s.type==="sms"&&s.errorCode&&m.handleError){m.handleError(s)}else{m.receiveMessage(s)}return m},_typingNotificationReceived:function(e){var s=n.getConversationId(e.receiver,e.sender,e.network),t=this.get(s);if(!t){return}t.handleTypingNotification(e)},_processOfflineMessages:function(e){var s=e.messages,t,n,i;for(t=0,n=s.length;t<n;t++){i=s[t].message;i.type="offline";this.parseMessage(i)}},_processStateXfer:function(e){var s=e.messageList,t,n,i;for(t=0,n=s.length;t<n;t++){if(s[t].message){i=s[t].message;i.type="transfer";this.parseMessage(i)}}},_processIMSessions:function(e){var s=e.sessionInfo,t,i=s.length,r,a,o,c,g,f;for(t=0;t<i;t++){c=s[t];a=c.sender;r=c.receiver;o=c.network||"yahoo";g=n.getConversationId(a,r,o);f=this.get(g);if(f){if(e.state===3){f.ackReceived()}else if(e.state===2){f.destroy()}}}}});e.namespace("Messenger.Model").ConversationList=new i},"@VERSION@",{requires:["messenger-conversation","messenger-session","messenger-usersettings","messenger-contactlist"]});YUI.add("tictac-mim-strings",function(e){e.namespace("Tictac.mim").strings={str_add_error_noval:"You must enter a Yahoo! Messenger ID or a phone number.",str_add_error_phone:"The phone number you entered is invalid.",str_branding_messenger:"Yahoo! Messenger",str_branding_messenger_generic:"Messenger",str_branding_messenger_generic_lower:"messenger",str_branding_messenger_generic_upper:"MESSENGER",str_click_to_hide_contacts:"Click to hide messenger contacts",str_click_to_show_contacts:"Click to show messenger contacts",str_comp_send_error:"Sorry, there was a problem sending your message. Please try again.",str_cont_add_contact_error_id_already_in_list:"{{user}} already exists in your Yahoo! Messenger List.",str_cont_add_contact_error_invalid_email:"Please enter a valid email address format: Name",str_cont_add_contact_error_invalid_id:"{{user}} is not a valid {{network}} ID.",str_cont_add_request_denied_body:"{{user}} has denied your request to add them to your Yahoo! Messenger List.",str_cont_add_request_denied_header:"Add to Yahoo! Messenger List Request Denied",str_cont_add_to_cont:"Add to Contacts",str_cont_edit_cont:"Edit Contact",str_cont_list_default_group_empty:"Send IM and SMS from Yahoo! Messenger. <a href",str_cont_list_default_group_sign_out_msg:"You are signed out of Yahoo! Messenger. Click the{{bttn_img}}to sign in.",str_cont_list_default_group_sign_out_msg_fresh:"You're signed out of Yahoo! Messenger. Click {{bttn_img}}to sign in.",str_cont_list_facebook_invalid_cred:"Link your Facebook account to Yahoo! and chat with your Facebook Friends from Yahoo! Messenger",str_cont_list_status_away:"Away",str_cont_list_status_be_right_back:"Be right back",str_cont_list_status_busy:"Busy",str_cont_list_status_idle:"Idle",str_cont_list_status_not_at_home:"Not at home",str_cont_list_status_not_at_my_desk:"Not at my desk",str_cont_list_status_not_in_the_office:"Not in the office",str_cont_list_status_on_the_phone:"On the phone",str_cont_list_status_on_vacation:"On holiday",str_cont_list_status_out_to_lunch:"Out to lunch",str_cont_list_status_stepped_out:"Stepped out",str_conv_accepted_add_req:"<strong>{{conversation_user}}</strong> has been added to your Messenger list.",str_conv_add_requests:"Add Requests",str_conv_add_requests_desc:"These people would like to add you to their {{str_msgr_messenger}} list.",str_conv_btn_accept:"Accept",str_conv_btn_accept_attr:"Allow {{conversation_yid}} to add me and see when I’m online.",str_conv_btn_add_to_contacts:"Add to Contacts",str_conv_btn_add_to_contacts_attr:"Add {{conversation_yid}} to your Contacts.",str_conv_btn_block_user:"Block User",str_conv_btn_block_user_attr:"Add to Block List (which you can manage in Options).",str_conv_btn_decline:"Decline",str_conv_btn_decline_attr:"Don't allow {{conversation_yid}} to add me or see when I'm online",str_conv_btn_decline_block:"Decline and Block",str_conv_btn_hide_recent_conv:"Hide Recent Conversations",str_conv_btn_show_recent_conv:"Show Recent Conversations",str_conv_btn_unblock_user:"Unblock User",str_conv_btn_unblock_user_attr:"Remove {{conversation_yid}} from your Blocked List",str_conv_close_confirm:"You have unread messages. Are you sure you want to close the window?",str_conv_default_group:"Friends",str_conv_enter_phone_number_label:"Enter {{conversation_user}}'s mobile phone number:",str_conv_enter_phone_number_label_no_user:"a mobile phone number for <b>{{conversation_user}}</b>:",str_conv_error_empty_general:"All fields are required.",str_conv_imconv_new_hint:"Enter a Messenger ID for this user.",str_conv_new_hint:"Start a new instant message or SMS message.<br>Enter a Messenger ID, email or mobile number.",str_conv_new_message_browser_title:"{{conversation_user}} sent you a new message.",str_conv_no_contact_add_request:"<b>{{conversation_yid}}</b> would like to add you to his or her Yahoo! Messenger List.",str_conv_prompt_tab:"View Yahoo! Messenger Conversations in a tab!",str_conv_report_abuse:"Report Abuse",str_conv_report_abuse_attr:"Report Abuse",str_conv_report_abuse_description:"Report this user for threats, harassment, harm to minors or indecent content.  The transcript of your conversation with this person will be included in your report.",str_conv_report_abuse_radio:"Report Threats or Harassment",str_conv_report_abuse_title:"Yahoo! Messenger Report Abuse",str_conv_report_spam_description:"Stop receiving messages with bad links, phishing attempts or any unwanted communication.",str_conv_report_spam_radio:"Report Spam",str_conv_self_objective:"Me",str_conv_show_all_history:"Show Full History",str_conv_signed_out_hint:"You are not signed in to Yahoo! Messenger. Please sign in to start a new conversation.",str_conv_sms_input_title:"Compose SMS",str_conv_spam_reported_description_bl:"To permanently block this Contact from sending you messages, add {{user}} to your Block List in Messenger Settings.",str_conv_spam_reported_description_bottom:"<strong>{{userid}}</strong> has also been blocked, and you will no longer receive messages from this user.",str_conv_spam_reported_description_top:"Thank you. Every IM you report as spam helps SpamGuard work better.",str_conv_tab_close_confirm:"You have unread messages, are you sure you want to close this conversation?",str_conv_typing:"{{conversation_user}} is typing...",str_conv_user_notification_ssa_button:"Open Yahoo! Messenger Settings",str_conv_user_notification_ssa_dismiss_button:"Dismiss",str_conv_user_offlineMessage_notice:"Messages sent to you while you were signed out:",str_conv_user_sms_edit_number:"Edit number",str_conv_user_sms_edit_number_attr:"Edit number",str_conv_user_sms_notice_error_failed_to_deliver:"SMS could not be sent to <b>{{number}}</b>. It may be an invalid mobile number, formatted incorrectly, or no longer in service.",str_conv_user_sms_notice_error_ration_breached:"<b>{{user}}</b> must reply to one of your messages before you can send any more.",str_conv_user_sms_notice_error_system_busy:"SMS could not be sent to {{number}}. The system is currently busy. Please try again later.",str_conv_user_statexfer_notice:"Your ongoing conversation with {{conversation_user}}...",str_conv_wrn_interop_add_request_pending:"To IM with {{user}}, they must first accept your request to add them to your Messenger List contacts. Your request is still pending.",str_conv_wrn_unblock_user:"<em>You have blocked <span><strong>{{userid}}</strong></span>.</em>  You cannot send and receive instant messages from blocked users.",str_conv_wrn_unknown_interop_user:"To send IM to {{user}}, they must first accept your request to add them to your Messenger List contacts.",str_conv_wrn_unknown_user:"<em><span><strong>{{userid}}</strong></span> is not in your contacts.</em>  Be careful when corresponding with people you don’t know. Never share private information with them.",str_country_argentina:"Argentina",str_country_australia:"Australia",str_country_brazil:"Brazil",str_country_canada:"Canada",str_country_chile:"Chile",str_country_china:"China",str_country_denmark:"Denmark",str_country_finland:"Finland",str_country_france:"France",str_country_germany:"Germany",str_country_greece:"Greece",str_country_hong_kong:"Hong Kong",str_country_india:"India",str_country_indonesia:"Indonesia",str_country_ireland:"Ireland",str_country_italy:"Italy",str_country_kuwait:"Kuwait",str_country_malaysia:"Malaysia",str_country_mexico:"Mexico",str_country_netherlands:"Netherlands",str_country_new_zealand:"New Zealand",str_country_norway:"Norway",str_country_pakistan:"Pakistan",str_country_peru:"Peru",str_country_philippines:"Philippines",str_country_poland:"Poland",str_country_romania:"Romania",str_country_singapore:"Singapore",str_country_south_korea:"South Korea",str_country_spain:"Spain",str_country_sweden:"Sweden",str_country_taiwan:"Taiwan",str_country_thailand:"Thailand",str_country_turkey:"Turkey",str_country_united_kingdom:"United Kingdom",str_country_united_states:"United States",str_country_venezuela:"Venezuela",str_country_vietnam:"Vietnam",str_custom_status_title:"Custom Status",str_del_contact_msg_ab_only_desc:"Are you sure you want to delete {{contact_highlighted}} from your Online Contacts?{{line_spacing}}This is a contact shared by Messenger and Mail. Deleting {{contact}} will also delete this contact from Mail.{{line_spacing}}Instead of deleting, you can change Online Contacts to show only Messenger List contacts in {{open_msg_link}}{{str_messenger_options}}{{close_msg_link}}.",str_del_contact_msg_header:"Delete Contact",str_del_contact_msg_messenger_desc:"Are you sure you want to delete {{contact_highlighted}} from your Messenger contacts?",str_del_contact_msg_not_deleted_ab:"Because {{contact_highlighted}} is a contact shared by Messenger and Mail, {{contact_highlighted}} may continue to show in Online Contacts.{{line_spacing}}You can change Online Contacts to show only Messenger List contacts in {{open_msg_link}}{{str_messenger_options}}{{close_msg_link}}.",str_error_disconnected_error:"You have been disconnected from Yahoo! Messenger.",str_error_recent_messages_empty:"You have no recent conversations with {{contact}}.",str_form_lbl_im_lotus:"Lotus Sametime",str_form_lbl_im_mslcs:"Microsoft LCS",str_label_sign_in_messenger:"Sign In To Yahoo! Messenger button",str_menu_appear_offline:"Appear Offline to {{contact_name}}",str_menu_appear_online:"Appear Online to {{contact_name}}",str_menu_available:"Available",str_menu_busy:"Busy",str_menu_idle:"Idle",str_menu_invisible:"Invisible",str_menu_messenger_options:"Messenger Settings",str_menu_offline:"Offline",str_menu_sign_in_messenger:"Sign In to Yahoo! Messenger",str_menu_sign_out_messenger:"Sign Out of Yahoo! Messenger",str_msgr_cl_sign_in:"Sign In to Messenger",str_msgr_cl_sign_in_who_is_online:"Sign in to Messenger to see who's online.",str_msgr_cl_sign_out:"Sign Out of Messenger",str_msgr_em_angel:"angel",str_msgr_em_angry:"angry",str_msgr_em_applause:"applause",str_msgr_em_batting_eyelashes:"batting eyelashes",str_msgr_em_big_grin:"big grin",str_msgr_em_big_hug:"big hug",str_msgr_em_blushing:"blushing",str_msgr_em_broken_heart:"broken heart",str_msgr_em_call_me:"call me",str_msgr_em_catch:"catch",str_msgr_em_cheer:"cheer",str_msgr_em_clown:"clown",str_msgr_em_cold:"cold",str_msgr_em_confused:"confused",str_msgr_em_cook:"cook",str_msgr_em_cool:"cool",str_msgr_em_cowboy:"cowboy",str_msgr_em_crying:"crying",str_msgr_em_daydreaming:"day dreaming",str_msgr_em_devilish:"devilish",str_msgr_em_dizzy:"dizzy",str_msgr_em_doh:"d'oh!",str_msgr_em_down_on_luck:"down on luck",str_msgr_em_drooling:"drooling",str_msgr_em_eat:"eat",str_msgr_em_exercise:"exercise",str_msgr_em_fight:"fight",str_msgr_em_gift:"gift",str_msgr_em_give_up:"give up",str_msgr_em_high_five:"high five",str_msgr_em_hot:"hot",str_msgr_em_hypnotized:"hypnotised",str_msgr_em_kiss:"kiss",str_msgr_em_label:"{{shortcut}} {{description}}",str_msgr_em_laughing:"laughing",str_msgr_em_liar:"liar",str_msgr_em_loser:"loser",str_msgr_em_lovestruck:"love-struck",str_msgr_em_music:"music",str_msgr_em_nail_biting:"nail biting",str_msgr_em_nerd:"nerd",str_msgr_em_not_talking:"not talking",str_msgr_em_on_the_phone:"on the phone",str_msgr_em_party:"party",str_msgr_em_phbbbt:"phbbbt",str_msgr_em_play_game:"play game",str_msgr_em_puke:"puke",str_msgr_em_raised_eyebrow:"raised eyebrow",str_msgr_em_rofl:"rolling on the floor laughing",str_msgr_em_rolling_eyes:"rolling eyes",str_msgr_em_sad:"sad",str_msgr_em_searching:"searching",str_msgr_em_shh:"don't tell anyone, shh!",str_msgr_em_sick:"sick",str_msgr_em_sigh:"sigh",str_msgr_em_silly:"silly",str_msgr_em_sing:"sing",str_msgr_em_sleepy:"sleepy",str_msgr_em_smile:"smile",str_msgr_em_smug:"smug",str_msgr_em_spooky:"spooky",str_msgr_em_straight_face:"straight face",str_msgr_em_studying:"studying",str_msgr_em_surprise:"surprise",str_msgr_em_talk_to_the_hand:"talk to the hand",str_msgr_em_thinking:"thinking",str_msgr_em_time_out:"time out",str_msgr_em_tongue:"tongue",str_msgr_em_tv:"tv",str_msgr_em_unlucky:"unlucky",str_msgr_em_waiting:"waiting",str_msgr_em_wave:"wave",str_msgr_em_whew:"whew!",str_msgr_em_wink:"wink",str_msgr_em_wits_end:"at wits' end",str_msgr_em_worried:"worried",str_msgr_em_yawn:"yawn",str_msgr_server_error_10:"The operation failed because you have reached the maximum number of ignored users.",str_msgr_server_error_12:"The operation failed because the user is in your Contact List.",str_msgr_server_error_1:"There was a problem handling your request, please retry the operation.",str_msgr_server_error_28:"Your session has expired, please log in and try again.",str_msgr_server_error_2:"The operation failed because the user already exists.",str_msgr_server_error_32:"The operation failed because the Group ID is invalid.",str_msgr_server_error_33:"The operation failed because the user is in your Ignore List.",str_msgr_server_error_3:"The operation failed because the user does not exist.",str_msgr_server_error_42:"The operation failed because you have reached the maximum number of pending Add Requests.",str_msgr_server_error_4:"Authentication failed.",str_msgr_server_error_53:"The login failed because you have reached the maximum number of simultaneous sessions.",str_msgr_server_error_59:"The operation failed because the user appears to be offline.",str_msgr_server_error_6:"The operation failed because you have reached the maximum number of contacts.",str_msgr_server_error_7:"The operation failed because you have reached the maximum number of groups.",str_msgr_server_error_8:"The operation failed because the group already exists.",str_msgr_server_error_self:"The operation failed because this is the signed in user.",str_nav_opt_msg_title:"Messenger Settings",str_opt_conv_win_style:"This is how your Yahoo! Messenger conversation window will be displayed.",str_opt_msg_blocked_ignorelist_offline:"You must be signed in to Yahoo! Messenger to manage your block list.",str_opt_msg_general_heading_history:"Conversation History",str_opt_msg_general_heading_logout:"Sign Out",str_opt_msg_general_history_description:"Yahoo! Messenger can keep a history of all your conversations. You can browse and search your history from any computer you sign in to.",str_opt_msg_list_show_buddyonly:"Show only Yahoo! Messenger List Contacts",str_opt_msg_phonecountry_label:"{{country_name}} (+{{country_code}})",str_session_display_name_order:"{{firstName}} {{lastName}}",str_session_title_order:"",str_signout_msg_general_description:"You are signed in to Yahoo! Messenger in multiple places. Where do you want to sign out?",str_unread_messages_plural:"You have {{count}} new messages.",str_unread_messages_single:"You have a new message.",str_urls_report_abuse_no_trans:"http://help.yahoo.com/l/us/yahoo/messenger/forms/abusetranscript.html",str_window_btn_popin:"Pop in conversation back to Yahoo! Messenger",str_window_title_addcontact:"Yahoo! Messenger Add Contact Dialogue",str_window_title_alert:"Yahoo! Messenger Confirm Dialogue",str_window_title_conversation:"Yahoo! Messenger Conversation Window",str_window_title_main:"Yahoo! Messenger Contact List",str_window_title_options:"Yahoo! Messenger Settings Dialogue",str_window_title_signout:"Yahoo! Messenger Sign Out Confirmation Dialogue",str_window_title_smsinput:"Yahoo! Messenger SMS Number Input Dialogue",last:null}},"1.0.0");/*
YUI 3.13.0 (build 3.13.0-ym3)
Copyright 2014 Yahoo! Inc. All rights reserved.
Licensed under the BSD License.
http://yuilibrary.com/license/
*/

YUI.add("handlebars-base",function(e,t){
/*!
Handlebars.js - Copyright (C) 2011 Yehuda Katz
https://raw.github.com/wycats/handlebars.js/master/LICENSE
*/
;var n=e.namespace("Handlebars");n.VERSION="1.0.0",n.COMPILER_REVISION=4,n.REVISION_CHANGES={1:"<= 1.0.rc.2",2:"== 1.0.0-rc.3",3:"== 1.0.0-rc.4",4:">= 1.0.0"},n.helpers={},n.partials={};var r=Object.prototype.toString,i="[object Function]",s="[object Object]";n.registerHelper=function(e,t,i){if(r.call(e)===s){if(i||t)throw new n.Exception("Arg not supported with multiple helpers");n.Utils.extend(this.helpers,e)}else i&&(t.not=i),this.helpers[e]=t},n.registerPartial=function(e,t){r.call(e)===s?n.Utils.extend(this.partials,e):this.partials[e]=t},n.registerHelper("helperMissing",function(e){if(arguments.length===2)return undefined;throw new Error("Missing helper: '"+e+"'")}),n.registerHelper("blockHelperMissing",function(e,t){var s=t.inverse||function(){},o=t.fn,u=r.call(e);return u===i&&(e=e.call(this)),e===!0?o(this):e===!1||e==null?s(this):u==="[object Array]"?e.length>0?n.helpers.each(e,t):s(this):o(e)}),n.K=function(){},n.createFrame=Object.create||function(e){n.K.prototype=e;var t=new n.K;return n.K.prototype=null,t},n.logger={DEBUG:0,INFO:1,WARN:2,ERROR:3,level:3,methodMap:{0:"debug",1:"info",2:"warn",3:"error"},log:function(e,t){if(n.logger.level<=e){var r=n.logger.methodMap[e];typeof console!="undefined"&&console[r]&&console[r].call(console,t)}}},n.log=function(e,t){n.logger.log(e,t)},n.registerHelper("each",function(e,t){var s=t.fn,o=t.inverse,u=0,a="",f,l=r.call(e);l===i&&(e=e.call(this)),t.data&&(f=n.createFrame(t.data));if(e&&typeof e=="object")if(e instanceof Array)for(var c=e.length;u<c;u++)f&&(f.index=u),a+=s(e[u],{data:f});else for(var h in e)e.hasOwnProperty(h)&&(f&&(f.key=h),a+=s(e[h],{data:f}),u++);return u===0&&(a=o(this)),a}),n.registerHelper("if",function(e,t){var s=r.call(e);return s===i&&(e=e.call(this)),!e||n.Utils.isEmpty(e)?t.inverse(this):t.fn(this)}),n.registerHelper("unless",function(e,t){return n.helpers["if"].call(this,e,{fn:t.inverse,inverse:t.fn})}),n.registerHelper("with",function(e,t){var s=r.call(e);s===i&&(e=e.call(this));if(!n.Utils.isEmpty(e))return t.fn(e)}),n.registerHelper("log",function(e,t){var r=t.data&&t.data.level!=null?parseInt(t.data.level,10):1;n.log(r,e)});var o=["description","fileName","lineNumber","message","name","number","stack"];n.Exception=function(e){var t=Error.prototype.constructor.apply(this,arguments);for(var n=0;n<o.length;n++)this[o[n]]=t[o[n]]},n.Exception.prototype=new Error,n.SafeString=function(e){this.string=e},n.SafeString.prototype.toString=function(){return this.string.toString()};var u={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},a=/[&<>"'`]/g,f=/[&<>"'`]/,l=function(e){return u[e]||"&amp;"};n.Utils={extend:function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},escapeExpression:function(e){return e instanceof n.SafeString?e.toString():e==null||e===!1?"":(e=e.toString(),f.test(e)?e.replace(a,l):e)},isEmpty:function(e){return!e&&e!==0?!0:r.call(e)==="[object Array]"&&e.length===0?!0:!1}},n.VM={template:function(e){var t={escapeExpression:n.Utils.escapeExpression,invokePartial:n.VM.invokePartial,programs:[],program:function(e,t,r){var i=this.programs[e];return r?i=n.VM.program(e,t,r):i||(i=this.programs[e]=n.VM.program(e,t)),i},merge:function(e,t){var r=e||t;return e&&t&&(r={},n.Utils.extend(r,t),n.Utils.extend(r,e)),r},programWithDepth:n.VM.programWithDepth,noop:n.VM.noop,compilerInfo:null};return function(r,i){i=i||{};var s=e.call(t,n,r,i.helpers,i.partials,i.data),o=t.compilerInfo||[],u=o[0]||1,a=n.COMPILER_REVISION;if(u!==a){if(u<a){var f=n.REVISION_CHANGES[a],l=n.REVISION_CHANGES[u];throw"Template was precompiled with an older version of Handlebars than the current runtime. Please update your precompiler to a newer version ("+f+") or downgrade your runtime to an older version ("+l+")."}throw"Template was precompiled with a newer version of Handlebars than the current runtime. Please update your runtime to a newer version ("+o[1]+")."}return s}},programWithDepth:function(e,t,n){var r=Array.prototype.slice.call(arguments,3),i=function(e,i){return i=i||{},t.apply(this,[e,i.data||n].concat(r))};return i.program=e,i.depth=r.length,i},program:function(e,t,n){var r=function(e,r){return r=r||{},t(e,r.data||n)};return r.program=e,r.depth=0,r},noop:function(){return""},invokePartial:function(e,t,r,i,s,o){var u={helpers:i,partials:s,data:o};if(e===undefined)throw new n.Exception("The partial "+t+" could not be found");if(e instanceof Function)return e(r,u);if(!n.compile)throw new n.Exception("The partial "+t+" could not be compiled when running in runtime-only mode");return s[t]=n.compile(e,{data:o!==undefined}),s[t](r,u)}},n.template=n.VM.template,n.VERSION+="-yui",n.revive=n.template,e.namespace("Template").Handlebars=n},"3.13.0",{requires:[]});
YUI.add("tictac-mim-rollups",function(e){e.namespace("Tictac.mim.rollups");e.Tictac.mim.rollups.logout_options=e.Handlebars.template(function(e,a,i,s,l){this.compilerInfo=[4,">= 1.0.0"];i=this.merge(i,e.helpers);l=l||{};return'<form class="logout-options-form">    <p>You are signed in to Yahoo! Messenger in multiple places. Where do you want to sign out?</p>    <input class="mim-option-radio" type="radio" title="Sign out here" name="mim-logoutType" value="local" id="mim-logoutLocal" checked="checked"/>    <label class="mim-radioLabel" for="mim-logoutLocal">Sign out here</label><br/>    <input class="mim-option-radio" type="radio" title="Sign out everywhere" name="mim-logoutType" value="global" id="mim-logoutGlobal"/>    <label class="mim-radioLabel" for="mim-logoutGlobal">Sign out everywhere</label><br/>        <br/>        <input type="checkbox" id="mim-rememberLogoutPref" class="mim-option-checkbox" title="Remember this preference" name="mim-rememberLogoutPref" />    <label  class="mim-checkboxLabel" for="mim-rememberLogoutPref">Remember this preference</label></form>'});e.Tictac.mim.rollups.newconversation=e.Handlebars.template(function(e,a,i,s,l){this.compilerInfo=[4,">= 1.0.0"];i=this.merge(i,e.helpers);l=l||{};var t="",o,n,r="function",c=this.escapeExpression,m=this,p=i.blockHelperMissing;function f(e,a){return"presenceUI"}function d(e,a){var s="",l;s+='id="mim-cl-view"  data-state="';if(l=i.stateName){l=l.call(e,{hash:{},data:a})}else{l=e.stateName;l=typeof l===r?l.apply(e):l}s+=c(l)+'" ';return s}function h(e,a){var s="",l,t;s+='    <div class="listnav-label"  ';t={hash:{},inverse:m.noop,fn:m.program(6,u,a),data:a};if(l=i.presenceUI){l=l.call(e,t)}else{l=e.presenceUI;l=typeof l===r?l.apply(e):l}if(!i.presenceUI){l=p.call(e,l,t)}if(l||l===0){s+=l}s+='>    <div class="mim-presence-state-full itemlist">        <button class="mim-presence-state btn" type="button" data-move="false"><i class="mim-presence-message" data-move="false">';if(l=i.presenceMessage){l=l.call(e,{hash:{},data:a})}else{l=e.presenceMessage;l=typeof l===r?l.apply(e):l}if(l||l===0){s+=l}s+='</i><span class="mim-dropdown-arrow" data-move="false"></span></button>        ';t={hash:{},inverse:m.program(8,y,a),fn:m.noop,data:a};if(l=i.presenceUI){l=l.call(e,t)}else{l=e.presenceUI;l=typeof l===r?l.apply(e):l}if(!i.presenceUI){l=p.call(e,l,t)}if(l||l===0){s+=l}s+='            </div>    <div id="mim-user-location" class="hidden">    </div></div>';return s}function u(e,a){return'data-mover="true"'}function y(e,a){return'        <button id="mim-show-conversations" class="btn restore small left right s-tp" type="button" title="Maximise">            <span class="mim-minmax-icon"></span>        </button>        '}function v(e,a){var s="",l;s+='        <div class="mim-user">            <div class="mim-user-opi">                <b class="mim-presence-state ';if(l=i.presenceClassName){l=l.call(e,{hash:{},data:a})}else{l=e.presenceClassName;l=typeof l===r?l.apply(e):l}s+=c(l)+'">';if(l=i.presenceName){l=l.call(e,{hash:{},data:a})}else{l=e.presenceName;l=typeof l===r?l.apply(e):l}s+=c(l)+'</b>                <span class="mim-presence-message mim-user-statusmsg">';if(l=i.presenceMessage){l=l.call(e,{hash:{},data:a})}else{l=e.presenceMessage;l=typeof l===r?l.apply(e):l}if(l||l===0){s+=l}s+="</span>            </div>        </div>        ";return s}function b(e,a){var s="",l,t;s+='        <li role="presentation" class="';if(l=i.className){l=l.call(e,{hash:{},data:a})}else{l=e.className;l=typeof l===r?l.apply(e):l}s+=c(l)+'" data-id="';if(l=i.id){l=l.call(e,{hash:{},data:a})}else{l=e.id;l=typeof l===r?l.apply(e):l}s+=c(l)+'" data-network="';if(l=i.network){l=l.call(e,{hash:{},data:a})}else{l=e.network;l=typeof l===r?l.apply(e):l}s+=c(l)+'" title="';if(l=i.displayName){l=l.call(e,{hash:{},data:a})}else{l=e.displayName;l=typeof l===r?l.apply(e):l}if(l||l===0){s+=l}s+='">    <a role="option" tabindex="0" href="#" title="';if(l=i.displayName){l=l.call(e,{hash:{},data:a})}else{l=e.displayName;l=typeof l===r?l.apply(e):l}if(l||l===0){s+=l}s+='">';if(l=i.mergedDisplayName){l=l.call(e,{hash:{},data:a})}else{l=e.mergedDisplayName;l=typeof l===r?l.apply(e):l}if(l||l===0){s+=l}s+="</a>    ";t={hash:{},inverse:m.noop,fn:m.program(13,g,a),data:a};if(l=i.has_overlay){l=l.call(e,t)}else{l=e.has_overlay;l=typeof l===r?l.apply(e):l}if(!i.has_overlay){l=p.call(e,l,t)}if(l||l===0){s+=l}s+="    ";t={hash:{},inverse:m.program(20,x,a),fn:m.noop,data:a};if(l=i.has_overlay){l=l.call(e,t)}else{l=e.has_overlay;l=typeof l===r?l.apply(e):l}if(!i.has_overlay){l=p.call(e,l,t)}if(l||l===0){s+=l}s+="  </li>        ";return s}function g(e,a){var s="",l,t;s+='    <div class="mim-newconversation-overlay cf">        ';t={hash:{},inverse:m.noop,fn:m.program(14,w,a),data:a};if(l=i.has_email){l=l.call(e,t)}else{l=e.has_email;l=typeof l===r?l.apply(e):l}if(!i.has_email){l=p.call(e,l,t)}if(l||l===0){s+=l}s+="        ";t={hash:{},inverse:m.noop,fn:m.program(16,I,a),data:a};if(l=i.has_im){l=l.call(e,t)}else{l=e.has_im;l=typeof l===r?l.apply(e):l}if(!i.has_im){l=p.call(e,l,t)}if(l||l===0){s+=l}s+="        ";t={hash:{},inverse:m.noop,fn:m.program(18,k,a),data:a};if(l=i.has_sms){l=l.call(e,t)}else{l=e.has_sms;l=typeof l===r?l.apply(e):l}if(!i.has_sms){l=p.call(e,l,t)}if(l||l===0){s+=l}s+="    </div>    ";return s}function w(e,a){return'<a class="mim-newconversation-overlay-btn mim-newconversation-overlay-email" data-action="email" title="New Email"></a>'}function I(e,a){return'<a class="mim-newconversation-overlay-btn mim-newconversation-overlay-im" data-action="im" title="New Instant Message"></a>'}function k(e,a){return'<a class="mim-newconversation-overlay-btn mim-newconversation-overlay-sms" data-action="sms" title="New SMS"></a>'}function x(e,a){return'    <div class="mim-newconversation-overlay cf">        <a class="mim-newconversation-overlay-btn mim-newconversation-overlay-more" data-action="moremenu" title="More actions for this contact"></a>    </div>        '}t+='<div class="mim-newconversation mim-conversation ';n={hash:{},inverse:m.noop,fn:m.program(1,f,l),data:l};if(o=i.presenceUI){o=o.call(a,n)}else{o=a.presenceUI;o=typeof o===r?o.apply(a):o}if(!i.presenceUI){o=p.call(a,o,n)}if(o||o===0){t+=o}t+='" ';n={hash:{},inverse:m.noop,fn:m.program(3,d,l),data:l};if(o=i.presenceUI){o=o.call(a,n)}else{o=a.presenceUI;o=typeof o===r?o.apply(a):o}if(!i.presenceUI){o=p.call(a,o,n)}if(o||o===0){t+=o}t+=">";n={hash:{},inverse:m.noop,fn:m.program(5,h,l),data:l};if(o=i.presenceUI){o=o.call(a,n)}else{o=a.presenceUI;o=typeof o===r?o.apply(a):o}if(!i.presenceUI){o=p.call(a,o,n)}if(o||o===0){t+=o}t+='<div class="mim-conversation-top-bar primary-bg" data-mover="true">        ';n={hash:{},inverse:m.program(10,v,l),fn:m.noop,data:l};if(o=i.presenceUI){o=o.call(a,n)}else{o=a.presenceUI;o=typeof o===r?o.apply(a):o}if(!i.presenceUI){o=p.call(a,o,n)}if(o||o===0){t+=o}t+='                <div class="mim-contact-input-wrapper">            <button class="mim-contact-input-clear" data-move="false"  data-search="true" disabled="disabled"></button>            <input type="text" placeholder="Start a conversation with..." class="mim-contact-input square" data-move="false"/>        </div>    </div>        <div class="mim-newconversation-area">        <ul id="mim-newconversation-contact-list" class="mim-contact-list" role="listbox" class="lg">        ';n={hash:{},inverse:m.noop,fn:m.program(12,b,l),data:l};if(o=i.contacts){o=o.call(a,n)}else{o=a.contacts;o=typeof o===r?o.apply(a):o}if(!i.contacts){o=p.call(a,o,n)}if(o||o===0){t+=o}t+="    </ul>   </div></div>";return t});e.Tictac.mim.rollups.options=e.Handlebars.template(function(e,a,i,s,l){this.compilerInfo=[4,">= 1.0.0"];i=this.merge(i,e.helpers);l=l||{};var t="",o,n,r="function",c=this.escapeExpression,m=this,p=i.blockHelperMissing;function f(e,a){return'selected="selected"'}function d(e,a){return'checked="checked"'}function h(e,a){var s="",l,t;s+='  <li class="cf">    <div class="options-label">        SMS Message Home Country    </div>    <div class="options-content">      <div class="custom-select">      <select name="mim-homeCountrySelect" id="mim-homeCountrySelect">      ';t={hash:{},inverse:m.noop,fn:m.program(6,u,a),data:a};if(l=i.countries){l=l.call(e,t)}else{l=e.countries;l=typeof l===r?l.apply(e):l}if(!i.countries){l=p.call(e,l,t)}if(l||l===0){s+=l}s+="      </select>      </div<    </div>  </li>  ";return s}function u(e,a){var s="",l,t;s+='      <option value="';if(l=i.val){l=l.call(e,{hash:{},data:a})}else{l=e.val;l=typeof l===r?l.apply(e):l}s+=c(l)+'" ';t={hash:{},inverse:m.noop,fn:m.program(1,f,a),data:a};if(l=i.selected){l=l.call(e,t)}else{l=e.selected;l=typeof l===r?l.apply(e):l}if(!i.selected){l=p.call(e,l,t)}if(l||l===0){s+=l}s+=">";if(l=i.label){l=l.call(e,{hash:{},data:a})}else{l=e.label;l=typeof l===r?l.apply(e):l}s+=c(l)+"</option>      ";return s}t+='<ul>  <li class="cf">    <div class="options-label">        Sign Out    </div>    <div class="options-content">    <p>If you are signed in to Yahoo! in multiple places, you can choose where to sign out.</p>      <div class="custom-select">      <select name="mim-logoutSelect" id="mim-logoutSelect">          <option value="local" ';n={hash:{},inverse:m.noop,fn:m.program(1,f,l),data:l};if(o=i.localSelected){o=o.call(a,n)}else{o=a.localSelected;o=typeof o===r?o.apply(a):o}if(!i.localSelected){o=p.call(a,o,n)}if(o||o===0){t+=o}t+='>Always sign out here</option>          <option value="global" ';n={hash:{},inverse:m.noop,fn:m.program(1,f,l),data:l};if(o=i.globalSelected){o=o.call(a,n)}else{o=a.globalSelected;o=typeof o===r?o.apply(a):o}if(!i.globalSelected){o=p.call(a,o,n)}if(o||o===0){t+=o}t+='>Always sign out everywhere</option>          <option value="prompt" ';n={hash:{},inverse:m.noop,fn:m.program(1,f,l),data:l};if(o=i.promptSelected){o=o.call(a,n)}else{o=a.promptSelected;o=typeof o===r?o.apply(a):o}if(!i.promptSelected){o=p.call(a,o,n)}if(o||o===0){t+=o}t+='>Ask every time</option>      </select>      </div>    </div>  </li>  <li class="cf">    <div class="options-label">        Sound Alerts    </div>    <div class="options-content">      <label class="cbox"><input type="checkbox" name="mim-enableSoundsCheckbox" id="mim-enableSoundsCheckbox" ';n={hash:{},inverse:m.noop,fn:m.program(3,d,l),data:l};if(o=i.enableSounds){o=o.call(a,n)}else{o=a.enableSounds;o=typeof o===r?o.apply(a):o}if(!i.enableSounds){o=p.call(a,o,n)}if(o||o===0){t+=o}t+='/>        Play a sound when a new chat or text message is received.        <span class="icon"></span>      </label>    </div>  </li>  <li class="cf">    <div class="options-label">        Visible Contacts    </div>    <div class="options-content">      <label class="cbox">    <input type="checkbox" name="mim-showOnlyBuddiesCheckbox" id="mim-showOnlyBuddiesCheckbox" ';n={hash:{},inverse:m.noop,fn:m.program(3,d,l),data:l};if(o=i.showOnlyBuddies){o=o.call(a,n)}else{o=a.showOnlyBuddies;o=typeof o===r?o.apply(a):o}if(!i.showOnlyBuddies){o=p.call(a,o,n)}if(o||o===0){t+=o}t+='/>    Show only Yahoo! Messenger List Contacts        <span class="icon"></span>    </label>    </div>  </li>  <li class="cf mim-options-ignore">    <div class="options-label">        Block Users    </div>    <div class="options-content">   <div>      <label class="rbtn">    <input class="mim-option-radio" type="radio" title="Click to ignore incoming messages from anyone who is not in my Contacts List" name="mim-blockPreference" id="mim-blockNonBuddies" value="nonBuddies"/>          <span class="icon"></span>    Block all users not in my Contact List. I will not be able to send or receive messages from users not in my Contact List.        </label>      </div>      <div>        <label class="rbtn">    <input class="mim-option-radio" type="radio" title="Click to allow incoming messages from anyone" name="mim-blockPreference" value="selectedUsers" id="mim-blockSelected" checked="checked"/>          <span class="icon"></span>    Block users in the Block list below. I will not be able to send or receive instant messages from users in this list.        </label>      </div>      <div>    <p id="mim-offlineError" class="mim-error hidden">You must be signed in to Yahoo! Messenger to manage your block list.</p>    </div>        <select id="mim-blocklist" name="mim-blocklist" multiple="multiple" size="6">    </select>    <div class="mim-blocklist-buttons">        <span class="btn btn-small left right">            <a href="#" title="Add" id="mim-addBlockedUserButton">Add</a>        </span>        <span class="btn btn-small left right">            <a href="#" title="Remove" id="mim-removeBlockedUserButton">Remove</a>        </span>   </div>   </div>  </li>  <li class="cf">    <div class="options-label">        Conversation History    </div>    <div class="options-content">    <label class="cbox">    <input type="checkbox" id="mim-enableSSACheckbox" title="Click to disable conversation archiving" checked="checked" disabled="disabled"/>    Keep a history of my conversations    <span class="icon"></span>    </label>    </div>  </li>  ';n={hash:{},inverse:m.noop,fn:m.program(5,h,l),data:l};if(o=i.smsEnabled){o=o.call(a,n)}else{o=a.smsEnabled;o=typeof o===r?o.apply(a):o}if(!i.smsEnabled){o=p.call(a,o,n)}if(o||o===0){t+=o}t+="</ul>";return t});e.Tictac.mim.rollups.report_abuse_spam=e.Handlebars.template(function(e,a,i,s,l){this.compilerInfo=[4,">= 1.0.0"];i=this.merge(i,e.helpers);l=l||{};var t="",o,n="function",r=this.escapeExpression;t+='<form class="report-abuse-form">    <label>        <input type="radio" id="mim-report-spam" title="';if(o=i.reportSpamText){o=o.call(a,{hash:{},data:l})}else{o=a.reportSpamText;o=typeof o===n?o.apply(a):o}t+=r(o)+'"               name="abuseType" value="spam" checked="checked">';if(o=i.reportSpamText){o=o.call(a,{hash:{},data:l})}else{o=a.reportSpamText;o=typeof o===n?o.apply(a):o}t+=r(o)+"    </label>    <p>";if(o=i.reportSpamDesc){o=o.call(a,{hash:{},data:l})}else{o=a.reportSpamDesc;o=typeof o===n?o.apply(a):o}t+=r(o)+'</p>    <label>        <input type="radio" id="mim-report-abuse" title="';if(o=i.reportAbuseText){o=o.call(a,{hash:{},data:l})}else{o=a.reportAbuseText;o=typeof o===n?o.apply(a):o}t+=r(o)+'"               name="abuseType" value="abuse">';if(o=i.reportAbuseText){o=o.call(a,{hash:{},data:l})}else{o=a.reportAbuseText;o=typeof o===n?o.apply(a):o}t+=r(o)+"    </label>    <p>";if(o=i.reportAbuseDesc){o=o.call(a,{hash:{},data:l})}else{o=a.reportAbuseDesc;o=typeof o===n?o.apply(a):o}t+=r(o)+"</p></form>";return t});e.Tictac.mim.rollups.contact_entries=e.Handlebars.template(function(e,a,i,s,l){this.compilerInfo=[4,">= 1.0.0"];i=this.merge(i,e.helpers);l=l||{};var t,o,n="function",r=this.escapeExpression,c=this,m=i.blockHelperMissing;function p(e,a){var s="",l;s+='<li role="presentation" class="';if(l=i.className){l=l.call(e,{hash:{},data:a})}else{l=e.className;l=typeof l===n?l.apply(e):l}s+=r(l)+'" data-id="';if(l=i.id){l=l.call(e,{hash:{},data:a})}else{l=e.id;l=typeof l===n?l.apply(e):l}s+=r(l)+'" data-network="';if(l=i.network){l=l.call(e,{hash:{},data:a})}else{l=e.network;l=typeof l===n?l.apply(e):l}s+=r(l)+'"><a role="option" tabindex="0" href="#">';if(l=i.displayName){l=l.call(e,{hash:{},data:a})}else{l=e.displayName;l=typeof l===n?l.apply(e):l}if(l||l===0){s+=l}s+="</a></li>";return s}o={hash:{},inverse:c.noop,fn:c.program(1,p,l),data:l};if(t=i.contacts){t=t.call(a,o)}else{t=a.contacts;t=typeof t===n?t.apply(a):t}if(!i.contacts){t=m.call(a,t,o)}if(t||t===0){return t}else{return""}});e.Tictac.mim.rollups.message=e.Handlebars.template(function(e,a,i,s,l){this.compilerInfo=[4,">= 1.0.0"];i=this.merge(i,e.helpers);l=l||{};var t="",o,n,r="function",c=this.escapeExpression,m=this,p=i.blockHelperMissing;function f(e,a){return"mim-message-self"}function d(e,a){return"mim-message-other"}function h(e,a){return"&rlm;"}function u(e,a){return"&lrm;"}function y(e,a){return'dir="ltr"'}function v(e,a){return'dir="rtl"'}t+='<li class="mim-message ';if(o=i.rtlClass){o=o.call(a,{hash:{},data:l})}else{o=a.rtlClass;o=typeof o===r?o.apply(a):o}t+=c(o)+" ";n={hash:{},inverse:m.noop,fn:m.program(1,f,l),data:l};if(o=i.fromSelf){o=o.call(a,n)}else{o=a.fromSelf;o=typeof o===r?o.apply(a):o}if(!i.fromSelf){o=p.call(a,o,n)}if(o||o===0){t+=o}n={hash:{},inverse:m.program(3,d,l),fn:m.noop,data:l};if(o=i.fromSelf){o=o.call(a,n)}else{o=a.fromSelf;o=typeof o===r?o.apply(a):o}if(!i.fromSelf){o=p.call(a,o,n)}if(o||o===0){t+=o}t+='" dir="';if(o=i.messageDir){o=o.call(a,{hash:{},data:l})}else{o=a.messageDir;o=typeof o===r?o.apply(a):o}t+=c(o)+'">    ';n={hash:{},inverse:m.noop,fn:m.program(5,h,l),data:l};if(o=i.isRTL){o=o.call(a,n)}else{o=a.isRTL;o=typeof o===r?o.apply(a):o}if(!i.isRTL){o=p.call(a,o,n)}if(o||o===0){t+=o}t+='<span class="mim-message-sender">';if(o=i.displayName){o=o.call(a,{hash:{},data:l})}else{o=a.displayName;o=typeof o===r?o.apply(a):o}if(o||o===0){t+=o}t+="</span>:";n={hash:{},inverse:m.program(7,u,l),fn:m.noop,data:l};if(o=i.isRTL){o=o.call(a,n)}else{o=a.isRTL;o=typeof o===r?o.apply(a):o}if(!i.isRTL){o=p.call(a,o,n)}if(o||o===0){t+=o}n={hash:{},inverse:m.noop,fn:m.program(5,h,l),data:l};if(o=i.isRTL){o=o.call(a,n)}else{o=a.isRTL;o=typeof o===r?o.apply(a):o}if(!i.isRTL){o=p.call(a,o,n)}if(o||o===0){t+=o}t+='<span class="mim-message-nameSeparator"></span>    ';n={hash:{},inverse:m.noop,fn:m.program(5,h,l),data:l};if(o=i.isRTL){o=o.call(a,n)}else{o=a.isRTL;o=typeof o===r?o.apply(a):o}if(!i.isRTL){o=p.call(a,o,n)}if(o||o===0){t+=o}t+='<span class="mim-message-content" ';n={hash:{},inverse:m.program(9,y,l),fn:m.noop,data:l};if(o=i.isTextRTL){o=o.call(a,n)}else{o=a.isTextRTL;o=typeof o===r?o.apply(a):o}if(!i.isTextRTL){o=p.call(a,o,n)}if(o||o===0){t+=o}n={hash:{},inverse:m.noop,fn:m.program(11,v,l),data:l};if(o=i.isTextRTL){o=o.call(a,n)}else{o=a.isTextRTL;o=typeof o===r?o.apply(a):o}if(!i.isTextRTL){o=p.call(a,o,n)}if(o||o===0){t+=o}t+=">";if(o=i.message){o=o.call(a,{hash:{},data:l})}else{o=a.message;o=typeof o===r?o.apply(a):o}if(o||o===0){t+=o}t+="</span>";n={hash:{},inverse:m.noop,fn:m.program(5,h,l),data:l};if(o=i.isRTL){o=o.call(a,n)}else{o=a.isRTL;o=typeof o===r?o.apply(a):o}if(!i.isRTL){o=p.call(a,o,n)}if(o||o===0){t+=o}t+='<span class="mim-message-timestamp ';if(o=i.rtlTimestampClass){o=o.call(a,{hash:{},data:l})}else{o=a.rtlTimestampClass;o=typeof o===r?o.apply(a):o}t+=c(o)+'">';if(o=i.timestamp){o=o.call(a,{hash:{},data:l})}else{o=a.timestamp;o=typeof o===r?o.apply(a):o}if(o||o===0){t+=o}t+="</span></li>";return t});e.Tictac.mim.rollups.contact_entry=e.Handlebars.template(function(e,a,i,s,l){this.compilerInfo=[4,">= 1.0.0"];i=this.merge(i,e.helpers);l=l||{};var t="",o,n="function",r=this.escapeExpression;t+='<li role="presentation" class="';if(o=i.className){o=o.call(a,{hash:{},data:l})}else{o=a.className;o=typeof o===n?o.apply(a):o}t+=r(o)+'" data-id="';if(o=i.id){o=o.call(a,{hash:{},data:l})}else{o=a.id;o=typeof o===n?o.apply(a):o}t+=r(o)+'" data-network="';if(o=i.network){o=o.call(a,{hash:{},data:l})}else{o=a.network;o=typeof o===n?o.apply(a):o}t+=r(o)+'"><a role="option" tabindex="0" href="#">';if(o=i.displayName){o=o.call(a,{hash:{},data:l})}else{o=a.displayName;o=typeof o===n?o.apply(a):o}if(o||o===0){t+=o}t+="</a></li>";return t});e.Tictac.mim.rollups.conv_notification=e.Handlebars.template(function(e,a,i,s,l){this.compilerInfo=[4,">= 1.0.0"];i=this.merge(i,e.helpers);l=l||{};var t="",o,n,r="function",c=this.escapeExpression,m=this,p=i.blockHelperMissing;function f(e,a){return"hidden"}t+='<li id="';if(o=i.notifyId){o=o.call(a,{hash:{},data:l})}else{o=a.notifyId;o=typeof o===r?o.apply(a):o}t+=c(o)+'" class="';if(o=i.notifyClass){o=o.call(a,{hash:{},data:l})}else{o=a.notifyClass;o=typeof o===r?o.apply(a):o}t+=c(o)+' mim-notification">    <span class="mim-notification-close ';n={hash:{},inverse:m.program(1,f,l),fn:m.noop,data:l};if(o=i.showClose){o=o.call(a,n)}else{o=a.showClose;o=typeof o===r?o.apply(a):o}if(!i.showClose){o=p.call(a,o,n)}if(o||o===0){t+=o}t+='"></span>    <span class="mim-notification-message">';if(o=i.messageText){o=o.call(a,{hash:{},data:l})}else{o=a.messageText;o=typeof o===r?o.apply(a):o}if(o||o===0){t+=o}t+='</span>    <div class="mim-notification-buttons hidden"></div></li>';return t});e.Tictac.mim.rollups.presence_menu=e.Handlebars.template(function(e,a,i,s,l){this.compilerInfo=[4,">= 1.0.0"];i=this.merge(i,e.helpers);l=l||{};var t="",o,n,r="function",c=this.escapeExpression,m=this,p=i.blockHelperMissing;function f(e,a){var s="",l;s+='    <li class="mim-menu-item mim-opi" data-state="';if(l=i.state){l=l.call(e,{hash:{},data:a})}else{l=e.state;l=typeof l===r?l.apply(e):l}s+=c(l)+'" data-message="';if(l=i.message){l=l.call(e,{hash:{},data:a})}else{l=e.message;l=typeof l===r?l.apply(e):l}s+=c(l)+'" data-action="setStateCustom">        <a href="#" tabindex="-1">';if(l=i.message){l=l.call(e,{hash:{},data:a})}else{l=e.message;l=typeof l===r?l.apply(e):l}s+=c(l)+'</a>        <i class="icon icon-checkmark"></i>    </li>    ';return s}function d(e,a){return'    <li class="mim-menu-item" id="mim-menu-signout" data-state="9999" data-action="setState"><a href="#" tabindex="-1">Sign Out of Messenger</a></li>    '}function h(e,a){return'    <li class="mim-menu-divider"></li>    <li class="mim-menu-item mim-contacts-filter" data-action="topContacts">        <a href="#" tabindex="-1">Favourites</a>        <i class="icon icon-checkmark"></i>    </li>    <li class="mim-menu-item mim-contacts-filter" data-action="onlineContacts">        <a href="#" tabindex="-1">Online Contacts</a>        <i class="icon icon-checkmark"></i>    </li>    '}t+='<ul id="mim-presence-menu" class="mim-menu optionMenu">    <li class="mim-menu-item mim-opi ymsg-available" data-state="0" data-action="setState">        <a href="#" tabindex="-1">Available</a>        <i class="icon icon-checkmark"></i>    </li>    <li class="mim-menu-item mim-opi ymsg-busy" data-state="2" data-action="setState">        <a href="#" tabindex="-1">Busy</a>        <i class="icon icon-checkmark"></i>    </li>    <li class="mim-menu-item mim-opi ymsg-invisible" data-state="-1" data-action="setState">        <a href="#" tabindex="-1">Invisible</a>        <i class="icon icon-checkmark"></i>    </li>    ';n={hash:{},inverse:m.noop,fn:m.program(1,f,l),data:l};if(o=i.customPresenceArr){o=o.call(a,n)}else{o=a.customPresenceArr;o=typeof o===r?o.apply(a):o}if(!i.customPresenceArr){o=p.call(a,o,n)}if(o||o===0){t+=o}t+='    <li class="mim-menu-item" id="mim-menu-custom" data-action="newCustomStatus"><a href="#" tabindex="-1">Custom Status...</a></li>    ';n={hash:{},inverse:m.noop,fn:m.program(3,d,l),data:l};if(o=i.isOnline){o=o.call(a,n)}else{o=a.isOnline;o=typeof o===r?o.apply(a):o}if(!i.isOnline){o=p.call(a,o,n)}if(o||o===0){t+=o}t+="    ";n={hash:{},inverse:m.noop,fn:m.program(5,h,l),data:l};if(o=i.hasTopContacts){o=o.call(a,n)}else{o=a.hasTopContacts;o=typeof o===r?o.apply(a):o}if(!i.hasTopContacts){o=p.call(a,o,n)}if(o||o===0){t+=o}t+='    <li class="mim-menu-divider"></li>    <li class="mim-menu-item mim-messenger-history" data-action="history"><a href="#" tabindex="-1">Conversation History</a></li>    <li class="mim-menu-item mim-messenger-options" data-action="messengeroptions"><a href="#" tabindex="-1">Messenger Settings</a></li></ul>';return t});e.Tictac.mim.rollups.conversation=e.Handlebars.template(function(e,a,i,s,l){this.compilerInfo=[4,">= 1.0.0"];i=this.merge(i,e.helpers);l=l||{};var t="",o,n,r="function",c=this.escapeExpression,m=this,p=i.blockHelperMissing;function f(e,a){return"&rlm;"}function d(e,a){var s="",l;s+='                <li unselectable="on" class="mim-emoticon" tabindex="0" title="';if(l=i.emoteSmiley){l=l.call(e,{hash:{},data:a})}else{l=e.emoteSmiley;l=typeof l===r?l.apply(e):l}s+=c(l)+" ";if(l=i.emoteLabel){l=l.call(e,{hash:{},data:a})}else{l=e.emoteLabel;l=typeof l===r?l.apply(e):l}s+=c(l)+'" data-emotekey="';if(l=i.emotekey){l=l.call(e,{hash:{},data:a})}else{l=e.emotekey;l=typeof l===r?l.apply(e):l}s+=c(l)+'"></li>                ';return s}t+='<div class="mim-conversation">    <div class="mim-conversation-top-bar primary-bg" data-mover="true">        <div class="mim-user">            <img class="mim-user-photo" alt="';if(o=i.displayName){o=o.call(a,{hash:{},data:l})}else{o=a.displayName;o=typeof o===r?o.apply(a):o}if(o||o===0){t+=o}t+='" src="';if(o=i.image){o=o.call(a,{hash:{},data:l})}else{o=a.image;o=typeof o===r?o.apply(a):o}t+=c(o)+'" width="32" height="32" />            <div class="mim-sms-icon"></div>            <div class="mim-user-opi">                ';n={hash:{},inverse:m.noop,fn:m.program(1,f,l),data:l};if(o=i.isRTL){o=o.call(a,n)}else{o=a.isRTL;o=typeof o===r?o.apply(a):o}if(!i.isRTL){o=p.call(a,o,n)}if(o||o===0){t+=o}t+='<b class="';if(o=i.presenceClassName){o=o.call(a,{hash:{},data:l})}else{o=a.presenceClassName;o=typeof o===r?o.apply(a):o}t+=c(o)+'">';if(o=i.displayName){o=o.call(a,{hash:{},data:l})}else{o=a.displayName;o=typeof o===r?o.apply(a):o}if(o||o===0){t+=o}t+="</b>                ";n={hash:{},inverse:m.noop,fn:m.program(1,f,l),data:l};if(o=i.isRTL){o=o.call(a,n)}else{o=a.isRTL;o=typeof o===r?o.apply(a):o}if(!i.isRTL){o=p.call(a,o,n)}if(o||o===0){t+=o}t+='<span class="mim-user-statusmsg">';if(o=i.presenceMessage){o=o.call(a,{hash:{},data:l})}else{o=a.presenceMessage;o=typeof o===r?o.apply(a):o}if(o||o===0){t+=o}t+="</span>                ";n={hash:{},inverse:m.noop,fn:m.program(1,f,l),data:l};if(o=i.isRTL){o=o.call(a,n)}else{o=a.isRTL;o=typeof o===r?o.apply(a):o}if(!i.isRTL){o=p.call(a,o,n)}if(o||o===0){t+=o}t+='<span class="mim-user-mobileno">';if(o=i.mobileno){o=o.call(a,{hash:{},data:l})}else{o=a.mobileno;o=typeof o===r?o.apply(a):o}t+=c(o)+'</span>            </div>        </div>    </div>    <div class="mim-conversation-area" aria-live="assertive">        <ul class="mim-notification-area hidden"></ul>        <div class="mim-message-area">            <ul class="mim-recent-message-list hidden">                <li class="mim-recent-message-spinner"></li>            </ul>            <ul class="mim-message-list"></ul>            <div class="mim-typing-notification">';if(o=i.typingMessage){o=o.call(a,{hash:{},data:l})}else{o=a.typingMessage;o=typeof o===r?o.apply(a):o}if(o||o===0){t+=o}t+='</div>        </div>    </div>    <div class="mim-conversation-input">    <div class="mim-conversation-input-toolbar">        <ul class="cf">            <li class="mim-character-counter"></li>                <li class="mim-format-link mim-rich-text-link mim-toolbar-item"><a data-action="format" class="s-tp" aria-label="Change fonts" role="button" href="#" title="Change fonts"><b class="mim-rich-text secondary">Format</b></a></li>            <li class="mim-emoticons-link mim-toolbar-item"><a data-action="emoticons" class="s-tp" aria-label="Insert emoticons" role="button" href="#" title="Insert emoticons"><b class="mim-emoticons secondary">Emoticons</b></a></li>                <li class="mim-mode-toggle mim-mode-sms hidden" style="display:none;"><a data-action="conv-mode" class="s-tp" data-mode="sms" href="#" title="Switch to SMS"><b class="mim-sms">Switch to SMS</b></a></li>            <li class="mim-mode-toggle mim-mode-im hidden" style="display:none;"><a data-action="conv-mode" class="s-tp" data-mode="im" href="#" title="Switch to Instant Message"><b class="mim-im">Switch to Instant Message</b></a></li>        </ul>    </div>    <div class="mim-rte-pane mim-emoticons-pane hidden">        <ul class="mim-emoticon-list">                ';n={hash:{},inverse:m.noop,fn:m.program(3,d,l),data:l};if(o=i.emoticons){o=o.call(a,n)}else{o=a.emoticons;o=typeof o===r?o.apply(a):o}if(!i.emoticons){o=p.call(a,o,n)}if(o||o===0){t+=o}t+='        </ul>    </div>    <div class="mim-rte-pane mim-format-pane hidden">     </div>    <div class="mim-conversation-rte">    </div>    </div></div>';return t});e.Tictac.mim.rollups.presence=e.Handlebars.template(function(e,a,i,s,l){this.compilerInfo=[4,">= 1.0.0"];i=this.merge(i,e.helpers);l=l||{};var t="",o,n,r=this,c="function",m=i.blockHelperMissing;function p(e,a){return'data-mover="true"'}function f(e,a){return'        <button id="mim-show-conversations" class="btn restore small left right s-tp" type="button" title="Maximise">            <span class="mim-minmax-icon"></span>        </button>        '}t+='<div class="listnav-label"  ';n={hash:{},inverse:r.noop,fn:r.program(1,p,l),data:l};if(o=i.presenceUI){o=o.call(a,n)}else{o=a.presenceUI;o=typeof o===c?o.apply(a):o}if(!i.presenceUI){o=m.call(a,o,n)}if(o||o===0){t+=o}t+='>    <div class="mim-presence-state-full itemlist">        <button class="mim-presence-state btn" type="button" data-move="false"><i class="mim-presence-message" data-move="false">';if(o=i.presenceMessage){o=o.call(a,{hash:{},data:l})}else{o=a.presenceMessage;o=typeof o===c?o.apply(a):o}if(o||o===0){t+=o}t+='</i><span class="mim-dropdown-arrow" data-move="false"></span></button>        ';n={hash:{},inverse:r.program(3,f,l),fn:r.noop,data:l};if(o=i.presenceUI){o=o.call(a,n)}else{o=a.presenceUI;o=typeof o===c?o.apply(a):o}if(!i.presenceUI){o=m.call(a,o,n)}if(o||o===0){t+=o}t+='            </div>    <div id="mim-user-location" class="hidden">    </div></div>';return t});e.Tictac.mim.rollups.badge=e.Handlebars.template(function(e,a,i,s,l){this.compilerInfo=[4,">= 1.0.0"];i=this.merge(i,e.helpers);l=l||{};return' <span class="mim-msg-badge"></span>'});e.Tictac.mim.rollups.contact_list_list=e.Handlebars.template(function(e,a,i,s,l){this.compilerInfo=[4,">= 1.0.0"];i=this.merge(i,e.helpers);l=l||{};var t,o,n="function",r=this.escapeExpression,c=this,m=i.blockHelperMissing;function p(e,a){var s="",l;s+='<li role="presentation" class="';if(l=i.className){l=l.call(e,{hash:{},data:a})}else{l=e.className;l=typeof l===n?l.apply(e):l}s+=r(l)+'" data-id="';if(l=i.id){l=l.call(e,{hash:{},data:a})}else{l=e.id;l=typeof l===n?l.apply(e):l}s+=r(l)+'" data-network="';if(l=i.network){l=l.call(e,{hash:{},data:a})}else{l=e.network;l=typeof l===n?l.apply(e):l}s+=r(l)+'"><a role="option" tabindex="0" href="#">';if(l=i.displayName){l=l.call(e,{hash:{},data:a})}else{l=e.displayName;l=typeof l===n?l.apply(e):l}if(l||l===0){s+=l}s+="</a></li>";return s}o={hash:{},inverse:c.noop,fn:c.program(1,p,l),data:l};if(t=i.contacts){t=t.call(a,o)}else{t=a.contacts;t=typeof t===n?t.apply(a):t}if(!i.contacts){t=m.call(a,t,o)}if(t||t===0){return t}else{return""}});e.Tictac.mim.rollups.conv_section_notification=e.Handlebars.template(function(e,a,i,s,l){this.compilerInfo=[4,">= 1.0.0"];i=this.merge(i,e.helpers);l=l||{};var t="",o,n="function",r=this.escapeExpression;t+='<li class="mim-notification mim-section-notification ';if(o=i.notifyClass){o=o.call(a,{hash:{},data:l})}else{o=a.notifyClass;o=typeof o===n?o.apply(a):o}t+=r(o)+'">    <span class="mim-notification-text">';if(o=i.message){o=o.call(a,{hash:{},data:l})}else{o=a.message;o=typeof o===n?o.apply(a):o}if(o||o===0){t+=o}t+="</span></li>";return t});e.Tictac.mim.rollups.contact_menu=e.Handlebars.template(function(e,a,i,s,l){this.compilerInfo=[4,">= 1.0.0"];i=this.merge(i,e.helpers);l=l||{};var t="",o,n,r="function",c=this,m=i.blockHelperMissing,p=this.escapeExpression;function f(e,a){var s="",l;s+='<li class="mim-menu-item mim-user-statusmsg mim-menu-item-noclick"><i>';if(l=i.presenceMessage){l=l.call(e,{hash:{},data:a})}else{l=e.presenceMessage;l=typeof l===r?l.apply(e):l}if(l||l===0){s+=l}s+="</i></li>";return s}function d(e,a){return'<li class="mim-menu-item" data-action="sms" title="New SMS">New SMS</li>'}function h(e,a){return'<li class="mim-menu-item" data-action="email" title="New Email">New Email</li>'}function u(e,a){var s="",l,t;s+='    <li class="mim-menu-divider"></li>    ';t={hash:{},inverse:c.program(8,y,a),fn:c.noop,data:a};if(l=i.isInvisible){l=l.call(e,t)}else{l=e.isInvisible;l=typeof l===r?l.apply(e):l}if(!i.isInvisible){l=m.call(e,l,t)}if(l||l===0){s+=l}s+="    ";t={hash:{},inverse:c.noop,fn:c.program(11,b,a),data:a};if(l=i.isInvisible){l=l.call(e,t)}else{l=e.isInvisible;l=typeof l===r?l.apply(e):l
}if(!i.isInvisible){l=m.call(e,l,t)}if(l||l===0){s+=l}s+="    ";return s}function y(e,a){var s="",l,t;s+='    <li class="mim-menu-item';t={hash:{},inverse:c.noop,fn:c.program(9,v,a),data:a};if(l=i.onInvisibleList){l=l.call(e,t)}else{l=e.onInvisibleList;l=typeof l===r?l.apply(e):l}if(!i.onInvisibleList){l=m.call(e,l,t)}if(l||l===0){s+=l}s+='" data-action="visibility">';if(l=i.appearOfflineMsg){l=l.call(e,{hash:{},data:a})}else{l=e.appearOfflineMsg;l=typeof l===r?l.apply(e):l}if(l||l===0){s+=l}s+="</li>    ";return s}function v(e,a){return" checked"}function b(e,a){var s="",l,t;s+='    <li class="mim-menu-item';t={hash:{},inverse:c.noop,fn:c.program(9,v,a),data:a};if(l=i.onVisibleList){l=l.call(e,t)}else{l=e.onVisibleList;l=typeof l===r?l.apply(e):l}if(!i.onVisibleList){l=m.call(e,l,t)}if(l||l===0){s+=l}s+='"  data-action="visibility">';if(l=i.appearOnlineMsg){l=l.call(e,{hash:{},data:a})}else{l=e.appearOnlineMsg;l=typeof l===r?l.apply(e):l}if(l||l===0){s+=l}s+="</li>    ";return s}function g(e,a){var s="",l,t;s+='            <li class="mim-menu-divider"></li>        ';t={hash:{},inverse:c.noop,fn:c.program(14,w,a),data:a};if(l=i.isFavorite){l=l.call(e,t)}else{l=e.isFavorite;l=typeof l===r?l.apply(e):l}if(!i.isFavorite){l=m.call(e,l,t)}if(l||l===0){s+=l}s+="        ";t={hash:{},inverse:c.program(16,I,a),fn:c.noop,data:a};if(l=i.isFavorite){l=l.call(e,t)}else{l=e.isFavorite;l=typeof l===r?l.apply(e):l}if(!i.isFavorite){l=m.call(e,l,t)}if(l||l===0){s+=l}s+="    ";return s}function w(e,a){return'        <li class="mim-menu-item" data-action="unfavorite">Remove from Favourites</li>        '}function I(e,a){return'        <li class="mim-menu-item" data-action="favorite">Add to Favourites</li>        '}t+='<ul id="mim-contact-menu" class="mim-menu optionMenu hidden" data-id="';if(o=i.id){o=o.call(a,{hash:{},data:l})}else{o=a.id;o=typeof o===r?o.apply(a):o}t+=p(o)+'">    <li class="mim-menu-item mim-user-opi mim-menu-item-noclick">';if(o=i.user){o=o.call(a,{hash:{},data:l})}else{o=a.user;o=typeof o===r?o.apply(a):o}if(o||o===0){t+=o}t+="</li>    ";n={hash:{},inverse:c.noop,fn:c.program(1,f,l),data:l};if(o=i.hasMessage){o=o.call(a,n)}else{o=a.hasMessage;o=typeof o===r?o.apply(a):o}if(!i.hasMessage){o=m.call(a,o,n)}if(o||o===0){t+=o}t+='    <li class="mim-menu-divider"></li>    <li class="mim-menu-item" data-action="im" title="New Instant Message">New Instant Message</li>    ';n={hash:{},inverse:c.noop,fn:c.program(3,d,l),data:l};if(o=i.hasSMS){o=o.call(a,n)}else{o=a.hasSMS;o=typeof o===r?o.apply(a):o}if(!i.hasSMS){o=m.call(a,o,n)}if(o||o===0){t+=o}t+="    ";n={hash:{},inverse:c.noop,fn:c.program(5,h,l),data:l};if(o=i.hasEmail){o=o.call(a,n)}else{o=a.hasEmail;o=typeof o===r?o.apply(a):o}if(!i.hasEmail){o=m.call(a,o,n)}if(o||o===0){t+=o}t+='    <li class="mim-menu-divider"></li>    <li class="mim-menu-item" data-action="edit">Edit...</li>    <li class="mim-menu-item" data-action="delete">Delete...</li>    ';n={hash:{},inverse:c.noop,fn:c.program(7,u,l),data:l};if(o=i.isBuddy){o=o.call(a,n)}else{o=a.isBuddy;o=typeof o===r?o.apply(a):o}if(!i.isBuddy){o=m.call(a,o,n)}if(o||o===0){t+=o}t+="    ";n={hash:{},inverse:c.noop,fn:c.program(13,g,l),data:l};if(o=i.hasFavorites){o=o.call(a,n)}else{o=a.hasFavorites;o=typeof o===r?o.apply(a):o}if(!i.hasFavorites){o=m.call(a,o,n)}if(o||o===0){t+=o}t+="</ul>";return t});e.Tictac.mim.rollups.sms_input=e.Handlebars.template(function(e,a,i,s,l){this.compilerInfo=[4,">= 1.0.0"];i=this.merge(i,e.helpers);l=l||{};var t="",o,n,r="function",c=this.escapeExpression,m=this,p=i.blockHelperMissing;function f(e,a){var s="",l,t;s+='            <option value="';if(l=i.val){l=l.call(e,{hash:{},data:a})}else{l=e.val;l=typeof l===r?l.apply(e):l}s+=c(l)+'" ';t={hash:{},inverse:m.noop,fn:m.program(2,d,a),data:a};if(l=i.selected){l=l.call(e,t)}else{l=e.selected;l=typeof l===r?l.apply(e):l}if(!i.selected){l=p.call(e,l,t)}if(l||l===0){s+=l}s+=">";if(l=i.label){l=l.call(e,{hash:{},data:a})}else{l=e.label;l=typeof l===r?l.apply(e):l}s+=c(l)+"</option>        ";return s}function d(e,a){return'selected="selected"'}t+='<form>    <label for="mim-mobileno-input">';if(o=i.sms_label){o=o.call(a,{hash:{},data:l})}else{o=a.sms_label;o=typeof o===r?o.apply(a):o}if(o||o===0){t+=o}t+='</label>    <br/>    <br/>    <select name="country" id="mim-phone-country">        ';n={hash:{},inverse:m.noop,fn:m.program(1,f,l),data:l};if(o=i.countries){o=o.call(a,n)}else{o=a.countries;o=typeof o===r?o.apply(a):o}if(!i.countries){o=p.call(a,o,n)}if(o||o===0){t+=o}t+='    </select>    <input name="mobileno" id="mim-mobileno-input" type="text" placeholder="" value="';if(o=i.mobileno){o=o.call(a,{hash:{},data:l})}else{o=a.mobileno;o=typeof o===r?o.apply(a):o}t+=c(o)+'"/></form>';return t});e.Tictac.mim.rollups.newconv_contact_entry=e.Handlebars.template(function(e,a,i,s,l){this.compilerInfo=[4,">= 1.0.0"];i=this.merge(i,e.helpers);l=l||{};var t="",o,n,r=this,c="function",m=i.blockHelperMissing,p=this.escapeExpression;function f(e,a){var s="",l,t;s+='    <div class="mim-newconversation-overlay cf">        ';t={hash:{},inverse:r.noop,fn:r.program(2,d,a),data:a};if(l=i.has_email){l=l.call(e,t)}else{l=e.has_email;l=typeof l===c?l.apply(e):l}if(!i.has_email){l=m.call(e,l,t)}if(l||l===0){s+=l}s+="        ";t={hash:{},inverse:r.noop,fn:r.program(4,h,a),data:a};if(l=i.has_im){l=l.call(e,t)}else{l=e.has_im;l=typeof l===c?l.apply(e):l}if(!i.has_im){l=m.call(e,l,t)}if(l||l===0){s+=l}s+="        ";t={hash:{},inverse:r.noop,fn:r.program(6,u,a),data:a};if(l=i.has_sms){l=l.call(e,t)}else{l=e.has_sms;l=typeof l===c?l.apply(e):l}if(!i.has_sms){l=m.call(e,l,t)}if(l||l===0){s+=l}s+="    </div>    ";return s}function d(e,a){return'<a class="mim-newconversation-overlay-btn mim-newconversation-overlay-email" data-action="email" title="New Email"></a>'}function h(e,a){return'<a class="mim-newconversation-overlay-btn mim-newconversation-overlay-im" data-action="im" title="New Instant Message"></a>'}function u(e,a){return'<a class="mim-newconversation-overlay-btn mim-newconversation-overlay-sms" data-action="sms" title="New SMS"></a>'}function y(e,a){return'    <div class="mim-newconversation-overlay cf">        <a class="mim-newconversation-overlay-btn mim-newconversation-overlay-more" data-action="moremenu" title="More actions for this contact"></a>    </div>        '}t+='<li role="presentation" class="';if(o=i.className){o=o.call(a,{hash:{},data:l})}else{o=a.className;o=typeof o===c?o.apply(a):o}t+=p(o)+'" data-id="';if(o=i.id){o=o.call(a,{hash:{},data:l})}else{o=a.id;o=typeof o===c?o.apply(a):o}t+=p(o)+'" data-network="';if(o=i.network){o=o.call(a,{hash:{},data:l})}else{o=a.network;o=typeof o===c?o.apply(a):o}t+=p(o)+'" title="';if(o=i.displayName){o=o.call(a,{hash:{},data:l})}else{o=a.displayName;o=typeof o===c?o.apply(a):o}if(o||o===0){t+=o}t+='">    <a role="option" tabindex="0" href="#" title="';if(o=i.displayName){o=o.call(a,{hash:{},data:l})}else{o=a.displayName;o=typeof o===c?o.apply(a):o}if(o||o===0){t+=o}t+='">';if(o=i.mergedDisplayName){o=o.call(a,{hash:{},data:l})}else{o=a.mergedDisplayName;o=typeof o===c?o.apply(a):o}if(o||o===0){t+=o}t+="</a>    ";n={hash:{},inverse:r.noop,fn:r.program(1,f,l),data:l};if(o=i.has_overlay){o=o.call(a,n)}else{o=a.has_overlay;o=typeof o===c?o.apply(a):o}if(!i.has_overlay){o=m.call(a,o,n)}if(o||o===0){t+=o}t+="    ";n={hash:{},inverse:r.program(8,y,l),fn:r.noop,data:l};if(o=i.has_overlay){o=o.call(a,n)}else{o=a.has_overlay;o=typeof o===c?o.apply(a):o}if(!i.has_overlay){o=m.call(a,o,n)}if(o||o===0){t+=o}t+="  </li>";return t});e.Tictac.mim.rollups.dialog_header=e.Handlebars.template(function(e,a,i,s,l){this.compilerInfo=[4,">= 1.0.0"];i=this.merge(i,e.helpers);l=l||{};var t="",o,n,r="function",c=this.escapeExpression,m=this,p=i.blockHelperMissing;function f(e,a){return"hidden"}function d(e,a){var s="",l;s+=' id="';if(l=i.formId){l=l.call(e,{hash:{},data:a})}else{l=e.formId;l=typeof l===r?l.apply(e):l}s+=c(l)+'"';return s}t+='<div class="modal mim-dialog mim-view">    <h2 class="modal-hd mim-dialog-header" data-mover="true">        <span class="mim-dialog-header-text">';if(o=i.title){o=o.call(a,{hash:{},data:l})}else{o=a.title;o=typeof o===r?o.apply(a):o}t+=c(o)+'</span>        <span class="close mim-button-cancel ';n={hash:{},inverse:m.noop,fn:m.program(1,f,l),data:l};if(o=i.hideCancel){o=o.call(a,n)}else{o=a.hideCancel;o=typeof o===r?o.apply(a):o}if(!i.hideCancel){o=p.call(a,o,n)}if(o||o===0){t+=o}t+='" data-action="cancel"              data-move="false" title="Close"></span>    </h2>    <div class="mim-dialog-body">    <form class="dialog-form"';n={hash:{},inverse:m.noop,fn:m.program(3,d,l),data:l};if(o=i.hasFormId){o=o.call(a,n)}else{o=a.hasFormId;o=typeof o===r?o.apply(a):o}if(!i.hasFormId){o=p.call(a,o,n)}if(o||o===0){t+=o}t+=">";return t});e.Tictac.mim.rollups.conv_notification_btn=e.Handlebars.template(function(e,a,i,s,l){this.compilerInfo=[4,">= 1.0.0"];i=this.merge(i,e.helpers);l=l||{};var t="",o,n="function",r=this.escapeExpression;t+='<button class="';if(o=i.buttonClass){o=o.call(a,{hash:{},data:l})}else{o=a.buttonClass;o=typeof o===n?o.apply(a):o}t+=r(o)+' mim-notification-button mim-button-small" type="button" data-autodestroy="';if(o=i.autoDestroy){o=o.call(a,{hash:{},data:l})}else{o=a.autoDestroy;o=typeof o===n?o.apply(a):o}t+=r(o)+'">';if(o=i.buttonLabel){o=o.call(a,{hash:{},data:l})}else{o=a.buttonLabel;o=typeof o===n?o.apply(a):o}t+=r(o)+"</button>";return t});e.Tictac.mim.rollups.addignore=e.Handlebars.template(function(e,a,i,s,l){this.compilerInfo=[4,">= 1.0.0"];i=this.merge(i,e.helpers);l=l||{};return'<form name="addIgnoreForm" id="addIgnoreForm">    <label id="userNameLabel" for="userNameInput" >Type the ID of the user you want to ignore.</label>        <div class="mim-addignore-inputs">      <input name="mim-ignore-user" id="mim-ignore-user" type="text" maxlength="100" value=""/>      <div class="custom-select">        <select name="mim-ignore-network" id="mim-ignore-network">          <option value="yahoo">Yahoo! Messenger</option>          <option value="lcs">Microsoft LCS</option>          <option value="ibm">Lotus Sametime</option>        </select>      </div>    </div></form>'});e.Tictac.mim.rollups.contact_list=e.Handlebars.template(function(e,a,i,s,l){this.compilerInfo=[4,">= 1.0.0"];i=this.merge(i,e.helpers);l=l||{};var t="",o,n,r="function",c=this.escapeExpression,m=this,p=i.blockHelperMissing;function f(e,a){return'<li role="presentation" id="messenger" class="mim openable">    <a href="#" class="btn-messenger btn" title="Messenger">        <i></i><span class="icon-text">Messenger</span>        <span class="mim-msg-badge"></span>    </a>'}function d(e,a){return'data-mover="true"'}function h(e,a){return'        <button id="mim-show-conversations" class="btn restore small left right s-tp" type="button" title="Maximise">            <span class="mim-minmax-icon"></span>        </button>        '}function u(e,a){var s="",l;s+='<li role="presentation" class="';if(l=i.className){l=l.call(e,{hash:{},data:a})}else{l=e.className;l=typeof l===r?l.apply(e):l}s+=c(l)+'" data-id="';if(l=i.id){l=l.call(e,{hash:{},data:a})}else{l=e.id;l=typeof l===r?l.apply(e):l}s+=c(l)+'" data-network="';if(l=i.network){l=l.call(e,{hash:{},data:a})}else{l=e.network;l=typeof l===r?l.apply(e):l}s+=c(l)+'"><a role="option" tabindex="0" href="#">';if(l=i.displayName){l=l.call(e,{hash:{},data:a})}else{l=e.displayName;l=typeof l===r?l.apply(e):l}if(l||l===0){s+=l}s+="</a></li>";return s}function y(e,a){return"</li>"}n={hash:{},inverse:m.noop,fn:m.program(1,f,l),data:l};if(o=i.renderContainer){o=o.call(a,n)}else{o=a.renderContainer;o=typeof o===r?o.apply(a):o}if(!i.renderContainer){o=p.call(a,o,n)}if(o||o===0){t+=o}t+='    <div class="listnav-container" id="mim-cl-view" aria-live="assertive" data-state="';if(o=i.stateName){o=o.call(a,{hash:{},data:l})}else{o=a.stateName;o=typeof o===r?o.apply(a):o}t+=c(o)+'" data-empty="';if(o=i.isEmpty){o=o.call(a,{hash:{},data:l})}else{o=a.isEmpty;o=typeof o===r?o.apply(a):o}t+=c(o)+'" data-mode="';if(o=i.mode){o=o.call(a,{hash:{},data:l})}else{o=a.mode;o=typeof o===r?o.apply(a):o}t+=c(o)+'">            <div class="listnav-label"  ';n={hash:{},inverse:m.noop,fn:m.program(3,d,l),data:l};if(o=i.presenceUI){o=o.call(a,n)}else{o=a.presenceUI;o=typeof o===r?o.apply(a):o}if(!i.presenceUI){o=p.call(a,o,n)}if(o||o===0){t+=o}t+='>    <div class="mim-presence-state-full itemlist">        <button class="mim-presence-state btn" type="button" data-move="false"><i class="mim-presence-message" data-move="false">';if(o=i.presenceMessage){o=o.call(a,{hash:{},data:l})}else{o=a.presenceMessage;o=typeof o===r?o.apply(a):o}if(o||o===0){t+=o}t+='</i><span class="mim-dropdown-arrow" data-move="false"></span></button>        ';n={hash:{},inverse:m.program(5,h,l),fn:m.noop,data:l};if(o=i.presenceUI){o=o.call(a,n)}else{o=a.presenceUI;o=typeof o===r?o.apply(a):o}if(!i.presenceUI){o=p.call(a,o,n)}if(o||o===0){t+=o}t+='            </div>    <div id="mim-user-location" class="hidden">    </div></div>        <ul id="mim-contact-list" class="itemlist">            ';n={hash:{},inverse:m.noop,fn:m.program(7,u,l),data:l};if(o=i.contacts){o=o.call(a,n)}else{o=a.contacts;o=typeof o===r?o.apply(a):o}if(!i.contacts){o=p.call(a,o,n)}if(o||o===0){t+=o}t+='        </ul>        <div class="mim-cl-msg mim-contacts-offline">All contacts are currently offline.</div>        <div class="mim-cl-msg mim-user-offline">Sign in to Messenger to see who\'s online.</div>        <div class="mim-cl-msg mim-nofavorites">Add contacts to your Favourites to see them here.</div>    </div>';n={hash:{},inverse:m.noop,fn:m.program(9,y,l),data:l};if(o=i.renderContainer){o=o.call(a,n)}else{o=a.renderContainer;o=typeof o===r?o.apply(a):o}if(!i.renderContainer){o=p.call(a,o,n)}if(o||o===0){t+=o}return t});e.Tictac.mim.rollups.flashaudio=e.Handlebars.template(function(e,a,i,s,l){this.compilerInfo=[4,">= 1.0.0"];i=this.merge(i,e.helpers);l=l||{};var t="",o,n="function",r=this.escapeExpression;t+='<object id="mimflashaudio" type="application/x-shockwave-flash" data="';if(o=i.src){o=o.call(a,{hash:{},data:l})}else{o=a.src;o=typeof o===n?o.apply(a):o}t+=r(o)+'" width="100%" height="100%">    <param name="allowFullScreen" value="true">    <param name="scale" value="noscale">    <param name="allowScriptAccess" value="always">    <param name="allowNetworking" value="all">    <param name="flashVars" value="allowedDomain=';if(o=i.domain){o=o.call(a,{hash:{},data:l})}else{o=a.domain;o=typeof o===n?o.apply(a):o}t+=r(o)+'&amp;autoplay=messagereceived"></object>';return t});e.Tictac.mim.rollups.form_dialog_header=e.Handlebars.template(function(e,a,i,s,l){this.compilerInfo=[4,">= 1.0.0"];i=this.merge(i,e.helpers);l=l||{};var t="",o,n="function",r=this.escapeExpression;t+='<div class="modal mim-form-dialog">    <h2 class="modal-hd mim-dialog-header">        <span class="mim-dialog-header-text">';if(o=i.title){o=o.call(a,{hash:{},data:l})}else{o=a.title;o=typeof o===n?o.apply(a):o}t+=r(o)+'</span>    </h2>    <div class="mim-dialog-body">';return t});e.Tictac.mim.rollups.dialog_footer=e.Handlebars.template(function(e,a,i,s,l){this.compilerInfo=[4,">= 1.0.0"];i=this.merge(i,e.helpers);l=l||{};var t="",o,n,r=this,c="function",m=i.blockHelperMissing;function p(e,a){return"        <br/>        "}function f(e,a){var s="",l,t;s+='    <div class="mim-dialog-buttons modal-ft">        <span class="btn left right default mim-button-ok">            <a href="#" title="OK" data-action="continue">OK</a>        </span>        <span class="btn left right mim-button-cancel ';t={hash:{},inverse:r.noop,fn:r.program(4,d,a),data:a};if(l=i.hideCancel){l=l.call(e,t)}else{l=e.hideCancel;l=typeof l===c?l.apply(e):l}if(!i.hideCancel){l=m.call(e,l,t)}if(l||l===0){s+=l}s+='">            <a href="#" title="Cancel" data-action="cancel">Cancel</a>        </span>    </div>    ';return s}function d(e,a){return"hidden"}n={hash:{},inverse:r.program(1,p,l),fn:r.noop,data:l};if(o=i.newDialogTheme){o=o.call(a,n)}else{o=a.newDialogTheme;o=typeof o===c?o.apply(a):o}if(!i.newDialogTheme){o=m.call(a,o,n)}if(o||o===0){t+=o}t+="    ";n={hash:{},inverse:r.noop,fn:r.program(3,f,l),data:l};if(o=i.showButtons){o=o.call(a,n)}else{o=a.showButtons;o=typeof o===c?o.apply(a):o}if(!i.showButtons){o=m.call(a,o,n)}if(o||o===0){t+=o}t+="</form>    </div></div>";return t});e.Tictac.mim.rollups.custom_status_dialog=e.Handlebars.template(function(e,a,i,s,l){this.compilerInfo=[4,">= 1.0.0"];i=this.merge(i,e.helpers);l=l||{};return'<form>    <textarea id="mim-custom-status-input" name="mim-custom-status-input" placeholder="What\'s on your mind?"></textarea>    <label class="mim-custom-status-label"><input type="checkbox" name="mim-custom-busy" id="mim-custom-busy" class="mim-option-checkbox"/>Appear Busy</label></form>'});e.Tictac.mim.rollups.audiotag=e.Handlebars.template(function(e,a,i,s,l){this.compilerInfo=[4,">= 1.0.0"];i=this.merge(i,e.helpers);l=l||{};var t="",o,n="function",r=this.escapeExpression;t+='<audio id="mim-messageReceivedAudioTag" hidden="hidden">    <source src="';if(o=i.mp3Source){o=o.call(a,{hash:{},data:l})}else{o=a.mp3Source;o=typeof o===n?o.apply(a):o}t+=r(o)+'" type="audio/mp3"/>    <source src="';if(o=i.wavSource){o=o.call(a,{hash:{},data:l})}else{o=a.wavSource;o=typeof o===n?o.apply(a):o}t+=r(o)+'" type="audio/wav"/></audio>';return t});e.Tictac.mim.rollups.conversationlist=e.Handlebars.template(function(e,a,i,s,l){this.compilerInfo=[4,">= 1.0.0"];i=this.merge(i,e.helpers);l=l||{};var t="",o,n,r=this,c="function",m=i.blockHelperMissing;function p(e,a){return'<div data-action="hideconversations" class="btn-hide-conversations" role="button">    <a class="s-tp secondary" href="#" title="Minimise" draggable="false" role="button" tabindex="0">Minimise</a></div>'}function f(e,a){return"closeconversations"}function d(e,a){return"hideconversations"}n={hash:{},inverse:r.noop,fn:r.program(1,p,l),data:l};if(o=i.hasMinimize){o=o.call(a,n)}else{o=a.hasMinimize;o=typeof o===c?o.apply(a):o}if(!i.hasMinimize){o=m.call(a,o,n)}if(o||o===0){t+=o}t+='<div data-action="';n={hash:{},inverse:r.noop,fn:r.program(3,f,l),data:l};if(o=i.hasMinimize){o=o.call(a,n)}else{o=a.hasMinimize;o=typeof o===c?o.apply(a):o}if(!i.hasMinimize){o=m.call(a,o,n)}if(o||o===0){t+=o}n={hash:{},inverse:r.program(5,d,l),fn:r.noop,data:l};if(o=i.hasMinimize){o=o.call(a,n)}else{o=a.hasMinimize;o=typeof o===c?o.apply(a):o}if(!i.hasMinimize){o=m.call(a,o,n)}if(o||o===0){t+=o}t+='" class="btn-close-conversations" role="button">    <a class="s-tp secondary" href="#" title="Close" draggable="false" role="button" tabindex="0">Close</a></div><ul class="mim-conversations-list mim-dialog-border"></ul><ul class="mim-conversations-tabs tt-toolbar-color cf"><li class="mim-new-tab tt-hover tt-inactive-tab-bg" data-id="new"><div class="secondary">&nbsp;</div></li><li class="mim-overflow-tab tt-hover tt-inactive-tab-bg"><div class="secondary">&nbsp;</div><div class="mim-msg-badge">0</div></li></ul><div class="mim-resizer" data-resizer="true"></div><ul class="mim-menu mim-overflow-tabs hidden"></ul>';return t});e.Tictac.mim.rollups.confirm_dialog=e.Handlebars.template(function(e,a,i,s,l){this.compilerInfo=[4,">= 1.0.0"];i=this.merge(i,e.helpers);l=l||{};var t="",o,n,r="function",c=this.escapeExpression,m=this,p=i.blockHelperMissing;function f(e,a){return"hidden"}function d(e,a){var s="",l;s+=' id="';if(l=i.formId){l=l.call(e,{hash:{},data:a})}else{l=e.formId;l=typeof l===r?l.apply(e):l}s+=c(l)+'"';return s}function h(e,a){var s="",l;s+='<div class="mim-alert-icon"><img src="';if(l=i.iconSrc){l=l.call(e,{hash:{},data:a})}else{l=e.iconSrc;l=typeof l===r?l.apply(e):l}s+=c(l)+'" alt="';if(l=i.iconAlt){l=l.call(e,{hash:{},data:a})}else{l=e.iconAlt;l=typeof l===r?l.apply(e):l}s+=c(l)+'"/></div>';return s}function u(e,a){return"        <br/>        "}function y(e,a){var s="",l,t;s+='    <div class="mim-dialog-buttons modal-ft">        <span class="btn left right default mim-button-ok">            <a href="#" title="OK" data-action="continue">OK</a>        </span>        <span class="btn left right mim-button-cancel ';t={hash:{},inverse:m.noop,fn:m.program(1,f,a),data:a};if(l=i.hideCancel){l=l.call(e,t)}else{l=e.hideCancel;l=typeof l===r?l.apply(e):l}if(!i.hideCancel){l=p.call(e,l,t)}if(l||l===0){s+=l}s+='">            <a href="#" title="Cancel" data-action="cancel">Cancel</a>        </span>    </div>    ';return s}t+='<div class="modal mim-dialog mim-view">    <h2 class="modal-hd mim-dialog-header" data-mover="true">        <span class="mim-dialog-header-text">';if(o=i.title){o=o.call(a,{hash:{},data:l})}else{o=a.title;o=typeof o===r?o.apply(a):o}t+=c(o)+'</span>        <span class="close mim-button-cancel ';n={hash:{},inverse:m.noop,fn:m.program(1,f,l),data:l};if(o=i.hideCancel){o=o.call(a,n)}else{o=a.hideCancel;o=typeof o===r?o.apply(a):o}if(!i.hideCancel){o=p.call(a,o,n)}if(o||o===0){t+=o}t+='" data-action="cancel"              data-move="false" title="Close"></span>    </h2>    <div class="mim-dialog-body">    <form class="dialog-form"';n={hash:{},inverse:m.noop,fn:m.program(3,d,l),data:l};if(o=i.hasFormId){o=o.call(a,n)}else{o=a.hasFormId;o=typeof o===r?o.apply(a):o}if(!i.hasFormId){o=p.call(a,o,n)}if(o||o===0){t+=o}t+=">    ";n={hash:{},inverse:m.noop,fn:m.program(5,h,l),data:l};if(o=i.iconSrc){o=o.call(a,n)}else{o=a.iconSrc;o=typeof o===r?o.apply(a):o}if(!i.iconSrc){o=p.call(a,o,n)}if(o||o===0){t+=o}t+='    <div class="mim-error hidden"></div>    <div class="mim-alert-text">';if(o=i.message){o=o.call(a,{hash:{},data:l})}else{o=a.message;o=typeof o===r?o.apply(a):o}if(o||o===0){t+=o}t+="</div>";n={hash:{},inverse:m.program(7,u,l),fn:m.noop,data:l};if(o=i.newDialogTheme){o=o.call(a,n)}else{o=a.newDialogTheme;o=typeof o===r?o.apply(a):o}if(!i.newDialogTheme){o=p.call(a,o,n)}if(o||o===0){t+=o}t+="    ";n={hash:{},inverse:m.noop,fn:m.program(9,y,l),data:l};if(o=i.showButtons){o=o.call(a,n)}else{o=a.showButtons;o=typeof o===r?o.apply(a):o}if(!i.showButtons){o=p.call(a,o,n)}if(o||o===0){t+=o}t+="</form>    </div></div>";return t});e.Tictac.mim.rollups.addrequests=e.Handlebars.template(function(e,a,i,s,l){this.compilerInfo=[4,">= 1.0.0"];i=this.merge(i,e.helpers);l=l||{};var t="",o,n,r="function",c=this.escapeExpression,m=this,p=i.blockHelperMissing;function f(e,a){var s="",l;s+='            <li data-id="';if(l=i.id){l=l.call(e,{hash:{},data:a})}else{l=e.id;l=typeof l===r?l.apply(e):l}s+=c(l)+'" class="mim-addreq-contact cf">                <div>';if(l=i.user){l=l.call(e,{hash:{},data:a})}else{l=e.user;l=typeof l===r?l.apply(e):l}s+=c(l)+'</div>                <ul class="cf">                    <li><button class="mim-accept-btn mim-notification-button mim-button-small" type="button" data-autodestroy="true">Accept</button></li>                    <li><button class="mim-decline-btn mim-notification-button mim-button-small" type="button" data-autodestroy="true">Decline</button></li>                    <li><button class="mim-block-btn mim-notification-button mim-button-small" type="button" data-autodestroy="true">Block</button></li>                    <li class="mim-right"><button class="mim-im-btn mim-notification-button mim-button-small" type="button" data-autodestroy="false">IM</button></li>                </ul>            </li>            ';return s}t+='<div class="mim-addrequestsview mim-conversation"><div class="mim-conversation-top-bar primary-bg" data-mover="true">        <div class="mim-addreq-title">Add Requests</div>    </div>    <div class="mim-grouped-requests">        <div class="mim-addreq-header">            <span>These people would like to add you to their ';if(o=i.str_msgr_messenger){o=o.call(a,{hash:{},data:l})}else{o=a.str_msgr_messenger;o=typeof o===r?o.apply(a):o}t+=c(o)+' list.</span>            <div><button class="mim-block-all-btn mim-notification-button mim-button-small" type="button" data-autodestroy="true">Block All</button></div>        </div>        <ul class="mim-addreq-container">            ';n={hash:{},inverse:m.noop,fn:m.program(1,f,l),data:l};if(o=i.contacts){o=o.call(a,n)}else{o=a.contacts;o=typeof o===r?o.apply(a):o}if(!i.contacts){o=p.call(a,o,n)}if(o||o===0){t+=o}t+="        </ul>            </div></div>";return t});e.Tictac.mim.rollups.newconvcorpcontlist=e.Handlebars.template(function(e,a,i,s,l){this.compilerInfo=[4,">= 1.0.0"];i=this.merge(i,e.helpers);l=l||{};var t="",o,n,r=this,c="function",m=i.blockHelperMissing,p=this.escapeExpression;function f(e,a){var s="",l,t;s+='<li role="presentation" class="';if(l=i.className){l=l.call(e,{hash:{},data:a})}else{l=e.className;l=typeof l===c?l.apply(e):l}s+=p(l)+'" data-id="';if(l=i.id){l=l.call(e,{hash:{},data:a})}else{l=e.id;l=typeof l===c?l.apply(e):l}s+=p(l)+'" data-network="';if(l=i.network){l=l.call(e,{hash:{},data:a})}else{l=e.network;l=typeof l===c?l.apply(e):l}s+=p(l)+'" title="';if(l=i.displayName){l=l.call(e,{hash:{},data:a})}else{l=e.displayName;l=typeof l===c?l.apply(e):l}if(l||l===0){s+=l}s+='">    <a role="option" tabindex="0" href="#" title="';if(l=i.displayName){l=l.call(e,{hash:{},data:a})}else{l=e.displayName;l=typeof l===c?l.apply(e):l}if(l||l===0){s+=l}s+='">';if(l=i.mergedDisplayName){l=l.call(e,{hash:{},data:a})}else{l=e.mergedDisplayName;l=typeof l===c?l.apply(e):l}if(l||l===0){s+=l}s+="</a>    ";t={hash:{},inverse:r.noop,fn:r.program(2,d,a),data:a};if(l=i.has_overlay){l=l.call(e,t)}else{l=e.has_overlay;l=typeof l===c?l.apply(e):l}if(!i.has_overlay){l=m.call(e,l,t)}if(l||l===0){s+=l}s+="    ";t={hash:{},inverse:r.program(9,v,a),fn:r.noop,data:a};if(l=i.has_overlay){l=l.call(e,t)}else{l=e.has_overlay;l=typeof l===c?l.apply(e):l}if(!i.has_overlay){l=m.call(e,l,t)}if(l||l===0){s+=l}s+="  </li>";return s}function d(e,a){var s="",l,t;s+='    <div class="mim-newconversation-overlay cf">        ';t={hash:{},inverse:r.noop,fn:r.program(3,h,a),data:a};if(l=i.has_email){l=l.call(e,t)}else{l=e.has_email;l=typeof l===c?l.apply(e):l}if(!i.has_email){l=m.call(e,l,t)}if(l||l===0){s+=l}s+="        ";t={hash:{},inverse:r.noop,fn:r.program(5,u,a),data:a};if(l=i.has_im){l=l.call(e,t)}else{l=e.has_im;l=typeof l===c?l.apply(e):l}if(!i.has_im){l=m.call(e,l,t)}if(l||l===0){s+=l}s+="        ";t={hash:{},inverse:r.noop,fn:r.program(7,y,a),data:a};if(l=i.has_sms){l=l.call(e,t)}else{l=e.has_sms;l=typeof l===c?l.apply(e):l}if(!i.has_sms){l=m.call(e,l,t)}if(l||l===0){s+=l}s+="    </div>    ";return s}function h(e,a){return'<a class="mim-newconversation-overlay-btn mim-newconversation-overlay-email" data-action="email" title="New Email"></a>'}function u(e,a){return'<a class="mim-newconversation-overlay-btn mim-newconversation-overlay-im" data-action="im" title="New Instant Message"></a>'}function y(e,a){return'<a class="mim-newconversation-overlay-btn mim-newconversation-overlay-sms" data-action="sms" title="New SMS"></a>'}function v(e,a){return'    <div class="mim-newconversation-overlay cf">        <a class="mim-newconversation-overlay-btn mim-newconversation-overlay-more" data-action="moremenu" title="More actions for this contact"></a>    </div>        '}t+='<li class="mim-corp-contacts-separator">    <span>Corporate Contacts</span></li>';n={hash:{},inverse:r.noop,fn:r.program(1,f,l),data:l};if(o=i.corpContacts){o=o.call(a,n)}else{o=a.corpContacts;o=typeof o===c?o.apply(a):o}if(!i.corpContacts){o=m.call(a,o,n)}if(o||o===0){t+=o}return t});e.Tictac.mim.rollups.form_dialog=e.Handlebars.template(function(e,a,i,s,l){this.compilerInfo=[4,">= 1.0.0"];i=this.merge(i,e.helpers);l=l||{};var t="",o,n,r="function",c=this.escapeExpression,m=this,p=i.blockHelperMissing;function f(e,a){var s="",l;s+='<div class="mim-alert-icon"><img src="';if(l=i.iconSrc){l=l.call(e,{hash:{},data:a})}else{l=e.iconSrc;l=typeof l===r?l.apply(e):l}s+=c(l)+'" alt="';if(l=i.iconAlt){l=l.call(e,{hash:{},data:a})}else{l=e.iconAlt;l=typeof l===r?l.apply(e):l}s+=c(l)+'"/></div>';return s}function d(e,a){return"        <br/>        "}function h(e,a){var s="",l,t;s+='    <div class="mim-dialog-buttons modal-ft">        <span class="btn left right default mim-button-ok">            <a href="#" title="OK" data-action="continue">OK</a>        </span>        <span class="btn left right mim-button-cancel ';t={hash:{},inverse:m.noop,fn:m.program(6,u,a),data:a};if(l=i.hideCancel){l=l.call(e,t)}else{l=e.hideCancel;l=typeof l===r?l.apply(e):l}if(!i.hideCancel){l=p.call(e,l,t)}if(l||l===0){s+=l}s+='">            <a href="#" title="Cancel" data-action="cancel">Cancel</a>        </span>    </div>    ';return s}function u(e,a){return"hidden"}t+='<div class="modal mim-form-dialog">    <h2 class="modal-hd mim-dialog-header">        <span class="mim-dialog-header-text">';if(o=i.title){o=o.call(a,{hash:{},data:l})}else{o=a.title;o=typeof o===r?o.apply(a):o}t+=c(o)+'</span>    </h2>    <div class="mim-dialog-body">    ';n={hash:{},inverse:m.noop,fn:m.program(1,f,l),data:l};if(o=i.iconSrc){o=o.call(a,n)}else{o=a.iconSrc;o=typeof o===r?o.apply(a):o}if(!i.iconSrc){o=p.call(a,o,n)}if(o||o===0){t+=o}t+="    ";if(o=i.form){o=o.call(a,{hash:{},data:l})}else{o=a.form;o=typeof o===r?o.apply(a):o}if(o||o===0){t+=o}n={hash:{},inverse:m.program(3,d,l),fn:m.noop,data:l};if(o=i.newDialogTheme){o=o.call(a,n)}else{o=a.newDialogTheme;o=typeof o===r?o.apply(a):o}if(!i.newDialogTheme){o=p.call(a,o,n)}if(o||o===0){t+=o}t+="    ";n={hash:{},inverse:m.noop,fn:m.program(5,h,l),data:l};if(o=i.showButtons){o=o.call(a,n)}else{o=a.showButtons;o=typeof o===r?o.apply(a):o}if(!i.showButtons){o=p.call(a,o,n)}if(o||o===0){t+=o}t+="</form>    </div></div>";return t});e.Tictac.mim.rollups.newconvcontlist=e.Handlebars.template(function(e,a,i,s,l){this.compilerInfo=[4,">= 1.0.0"];i=this.merge(i,e.helpers);l=l||{};var t="",o,n,r=this,c="function",m=i.blockHelperMissing,p=this.escapeExpression;function f(e,a){var s="",l,t;s+='        <li role="presentation" class="';if(l=i.className){l=l.call(e,{hash:{},data:a})}else{l=e.className;l=typeof l===c?l.apply(e):l}s+=p(l)+'" data-id="';if(l=i.id){l=l.call(e,{hash:{},data:a})}else{l=e.id;l=typeof l===c?l.apply(e):l}s+=p(l)+'" data-network="';if(l=i.network){l=l.call(e,{hash:{},data:a})}else{l=e.network;l=typeof l===c?l.apply(e):l}s+=p(l)+'" title="';if(l=i.displayName){l=l.call(e,{hash:{},data:a})}else{l=e.displayName;l=typeof l===c?l.apply(e):l}if(l||l===0){s+=l}s+='">    <a role="option" tabindex="0" href="#" title="';if(l=i.displayName){l=l.call(e,{hash:{},data:a})}else{l=e.displayName;l=typeof l===c?l.apply(e):l}if(l||l===0){s+=l}s+='">';if(l=i.mergedDisplayName){l=l.call(e,{hash:{},data:a})}else{l=e.mergedDisplayName;l=typeof l===c?l.apply(e):l}if(l||l===0){s+=l}s+="</a>    ";t={hash:{},inverse:r.noop,fn:r.program(2,d,a),data:a};if(l=i.has_overlay){l=l.call(e,t)}else{l=e.has_overlay;l=typeof l===c?l.apply(e):l}if(!i.has_overlay){l=m.call(e,l,t)}if(l||l===0){s+=l}s+="    ";t={hash:{},inverse:r.program(9,v,a),fn:r.noop,data:a};if(l=i.has_overlay){l=l.call(e,t)}else{l=e.has_overlay;l=typeof l===c?l.apply(e):l}if(!i.has_overlay){l=m.call(e,l,t)}if(l||l===0){s+=l}s+="  </li>        ";return s}function d(e,a){var s="",l,t;s+='    <div class="mim-newconversation-overlay cf">        ';t={hash:{},inverse:r.noop,fn:r.program(3,h,a),data:a};if(l=i.has_email){l=l.call(e,t)}else{l=e.has_email;l=typeof l===c?l.apply(e):l}if(!i.has_email){l=m.call(e,l,t)}if(l||l===0){s+=l}s+="        ";t={hash:{},inverse:r.noop,fn:r.program(5,u,a),data:a};if(l=i.has_im){l=l.call(e,t)}else{l=e.has_im;l=typeof l===c?l.apply(e):l}if(!i.has_im){l=m.call(e,l,t)}if(l||l===0){s+=l}s+="        ";t={hash:{},inverse:r.noop,fn:r.program(7,y,a),data:a};if(l=i.has_sms){l=l.call(e,t)}else{l=e.has_sms;l=typeof l===c?l.apply(e):l}if(!i.has_sms){l=m.call(e,l,t)}if(l||l===0){s+=l}s+="    </div>    ";return s}function h(e,a){return'<a class="mim-newconversation-overlay-btn mim-newconversation-overlay-email" data-action="email" title="New Email"></a>'}function u(e,a){return'<a class="mim-newconversation-overlay-btn mim-newconversation-overlay-im" data-action="im" title="New Instant Message"></a>'
}function y(e,a){return'<a class="mim-newconversation-overlay-btn mim-newconversation-overlay-sms" data-action="sms" title="New SMS"></a>'}function v(e,a){return'    <div class="mim-newconversation-overlay cf">        <a class="mim-newconversation-overlay-btn mim-newconversation-overlay-more" data-action="moremenu" title="More actions for this contact"></a>    </div>        '}t+='    <div class="mim-newconversation-area">        <ul id="mim-newconversation-contact-list" class="mim-contact-list" role="listbox" class="lg">        ';n={hash:{},inverse:r.noop,fn:r.program(1,f,l),data:l};if(o=i.contacts){o=o.call(a,n)}else{o=a.contacts;o=typeof o===c?o.apply(a):o}if(!i.contacts){o=m.call(a,o,n)}if(o||o===0){t+=o}t+="    </ul>   </div>";return t});e.Tictac.mim.rollups.conv_section_modechange=e.Handlebars.template(function(e,a,i,s,l){this.compilerInfo=[4,">= 1.0.0"];i=this.merge(i,e.helpers);l=l||{};var t="",o,n,r=this,c="function",m=i.blockHelperMissing;function p(e,a){return"   IM   "}function f(e,a){return"   SMS   "}function d(e,a){return"&rlm;"}t+='<span class="mim-notification-mode-change">   ';n={hash:{},inverse:r.noop,fn:r.program(1,p,l),data:l};if(o=i.IM){o=o.call(a,n)}else{o=a.IM;o=typeof o===c?o.apply(a):o}if(!i.IM){o=m.call(a,o,n)}if(o||o===0){t+=o}t+="   ";n={hash:{},inverse:r.program(3,f,l),fn:r.noop,data:l};if(o=i.IM){o=o.call(a,n)}else{o=a.IM;o=typeof o===c?o.apply(a):o}if(!i.IM){o=m.call(a,o,n)}if(o||o===0){t+=o}t+="</span>";n={hash:{},inverse:r.noop,fn:r.program(5,d,l),data:l};if(o=i.isRTL){o=o.call(a,n)}else{o=a.isRTL;o=typeof o===c?o.apply(a):o}if(!i.isRTL){o=m.call(a,o,n)}if(o||o===0){t+=o}t+='<span class="mim-notification-datetime">';if(o=i.dateTime){o=o.call(a,{hash:{},data:l})}else{o=a.dateTime;o=typeof o===c?o.apply(a):o}if(o||o===0){t+=o}t+="</span>";return t});e.Tictac.mim.rollups.conversationtab=e.Handlebars.template(function(e,a,i,s,l){this.compilerInfo=[4,">= 1.0.0"];i=this.merge(i,e.helpers);l=l||{};var t="",o,n="function",r=this.escapeExpression;t+='<li class="mim-menu-item mim-conv-tab tt-hover tt-inactive-tab-bg" data-id="';if(o=i.convId){o=o.call(a,{hash:{},data:l})}else{o=a.convId;o=typeof o===n?o.apply(a):o}t+=r(o)+'">    <div class="mim-contact-name" title="';if(o=i.displayTitle){o=o.call(a,{hash:{},data:l})}else{o=a.displayTitle;o=typeof o===n?o.apply(a):o}if(o||o===0){t+=o}t+='">';if(o=i.displayName){o=o.call(a,{hash:{},data:l})}else{o=a.displayName;o=typeof o===n?o.apply(a):o}if(o||o===0){t+=o}t+='</div>    <div class="mim-msg-badge">0</div>    <span data-action="closeconversation" class="btn-close-conversation">        <a title="Close this conversation window" draggable="false" role="button"></a>    </span></li>';return t});e.Tictac.mim.rollups.addcontact=e.Handlebars.template(function(e,a,i,s,l){this.compilerInfo=[4,">= 1.0.0"];i=this.merge(i,e.helpers);l=l||{};var t="",o,n,r=this,c="function",m=i.blockHelperMissing,p=this.escapeExpression;function f(e,a){var s="",l,t;s+='        <label for="mim-lastname" class="';t={hash:{},inverse:r.program(2,d,a),fn:r.noop,data:a};if(l=i.isIE){l=l.call(e,t)}else{l=e.isIE;l=typeof l===c?l.apply(e):l}if(!i.isIE){l=m.call(e,l,t)}if(l||l===0){s+=l}s+='">Last:</label>        <input type="text" name="lastName" id="mim-lastname" placeholder="Last" value="';if(l=i.lastName){l=l.call(e,{hash:{},data:a})}else{l=e.lastName;l=typeof l===c?l.apply(e):l}s+=p(l)+'"/>        <label for="mim-firstname" class="';t={hash:{},inverse:r.program(2,d,a),fn:r.noop,data:a};if(l=i.isIE){l=l.call(e,t)}else{l=e.isIE;l=typeof l===c?l.apply(e):l}if(!i.isIE){l=m.call(e,l,t)}if(l||l===0){s+=l}s+='">First:</label>    <input type="text" name="firstName" id="mim-firstname" placeholder="First" value="';if(l=i.firstName){l=l.call(e,{hash:{},data:a})}else{l=e.firstName;l=typeof l===c?l.apply(e):l}s+=p(l)+'"/>    ';return s}function d(e,a){return"offscreen"}function h(e,a){var s="",l,t;s+='        <label for="mim-firstname" class="';t={hash:{},inverse:r.program(2,d,a),fn:r.noop,data:a};if(l=i.isIE){l=l.call(e,t)}else{l=e.isIE;l=typeof l===c?l.apply(e):l}if(!i.isIE){l=m.call(e,l,t)}if(l||l===0){s+=l}s+='">First:</label>    <input type="text" name="firstName" id="mim-firstname" placeholder="First" value="';if(l=i.firstName){l=l.call(e,{hash:{},data:a})}else{l=e.firstName;l=typeof l===c?l.apply(e):l}s+=p(l)+'"/>    <label for="mim-lastname" class="';t={hash:{},inverse:r.program(2,d,a),fn:r.noop,data:a};if(l=i.isIE){l=l.call(e,t)}else{l=e.isIE;l=typeof l===c?l.apply(e):l}if(!i.isIE){l=m.call(e,l,t)}if(l||l===0){s+=l}s+='">Last:</label>    <input type="text" name="lastName" id="mim-lastname" placeholder="Last" value="';if(l=i.lastName){l=l.call(e,{hash:{},data:a})}else{l=e.lastName;l=typeof l===c?l.apply(e):l}s+=p(l)+'"/>    ';return s}function u(e,a){return'disabled="disabled" '}function y(e,a){return'disabled="disabled"'}t+='<form id="mim-edit-contact">    ';n={hash:{},inverse:r.noop,fn:r.program(1,f,l),data:l};if(o=i.lastNameFirst){o=o.call(a,n)}else{o=a.lastNameFirst;o=typeof o===c?o.apply(a):o}if(!i.lastNameFirst){o=m.call(a,o,n)}if(o||o===0){t+=o}t+="    ";n={hash:{},inverse:r.program(4,h,l),fn:r.noop,data:l};if(o=i.lastNameFirst){o=o.call(a,n)}else{o=a.lastNameFirst;o=typeof o===c?o.apply(a):o}if(!i.lastNameFirst){o=m.call(a,o,n)}if(o||o===0){t+=o}t+='    <label for="mim-email">Email:</label><input name="email" id="mim-email" value="';if(o=i.email){o=o.call(a,{hash:{},data:l})}else{o=a.email;o=typeof o===c?o.apply(a):o}t+=p(o)+'"/><br/>    <label for="mim-user">Instant Message:</label><input type="text" id="mim-user" name="user" ';n={hash:{},inverse:r.noop,fn:r.program(6,u,l),data:l};if(o=i.user){o=o.call(a,n)}else{o=a.user;o=typeof o===c?o.apply(a):o}if(!i.user){o=m.call(a,o,n)}if(o||o===0){t+=o}t+='value="';if(o=i.user){o=o.call(a,{hash:{},data:l})}else{o=a.user;o=typeof o===c?o.apply(a):o}t+=p(o)+'"/>    <select ';n={hash:{},inverse:r.noop,fn:r.program(8,y,l),data:l};if(o=i.user){o=o.call(a,n)}else{o=a.user;o=typeof o===c?o.apply(a):o}if(!i.user){o=m.call(a,o,n)}if(o||o===0){t+=o}t+=' name="network">        <option value="yahoo" selected="selected">Yahoo! Messenger</option>        <option value="ibm">Lotus Sametime</option>        <option value="lcs">Microsoft LCS</option>    </select><br/>    <label for="mim-mobileno">Mobile:</label><input name="mobileno" id="mim-mobileno" value="';if(o=i.mobileno){o=o.call(a,{hash:{},data:l})}else{o=a.mobileno;o=typeof o===c?o.apply(a):o}t+=p(o)+'"/></form>';return t});e.Tictac.mim.rollups.emoticon_item=e.Handlebars.template(function(e,a,i,s,l){this.compilerInfo=[4,">= 1.0.0"];i=this.merge(i,e.helpers);l=l||{};var t="",o,n="function",r=this.escapeExpression;t+='<li unselectable="on" class="mim-emoticon" tabindex="0" title="';if(o=i.emoteSmiley){o=o.call(a,{hash:{},data:l})}else{o=a.emoteSmiley;o=typeof o===n?o.apply(a):o}t+=r(o)+" ";if(o=i.emoteLabel){o=o.call(a,{hash:{},data:l})}else{o=a.emoteLabel;o=typeof o===n?o.apply(a):o}t+=r(o)+'" data-emotekey="';if(o=i.emotekey){o=o.call(a,{hash:{},data:l})}else{o=a.emotekey;o=typeof o===n?o.apply(a):o}t+=r(o)+'"></li>';return t})},"1.0.0",{requires:["handlebars-base"]});YUI.add("tictac-base-rollups",function(a){a.namespace("Tictac.base.rollups"),a.Tictac.base.rollups.rte_color=a.Handlebars.template(function(a,b,c,d,e){this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{};var f="",g,h="function",i=this.escapeExpression;return f+='<li unselectable="on" class="rte-color-selection" role="presentation" data-action="forecolor" data-value="',(g=c.color)?g=g.call(b,{hash:{},data:e}):(g=b.color,g=typeof g===h?g.apply(b):g),f+=i(g)+'" style="background-color: ',(g=c.color)?g=g.call(b,{hash:{},data:e}):(g=b.color,g=typeof g===h?g.apply(b):g),f+=i(g)+';">    <a unselectable="on" href="#" role="menuitem" tabindex="-1"></a></li>',f}),a.Tictac.base.rollups.dialog_header=a.Handlebars.template(function(a,b,c,d,e){function m(a,b){return'data-mover="true"'}function n(a,b){return"hidden"}function o(a,b){var d="",e;return d+='<p class="description">',(e=c.description)?e=e.call(a,{hash:{},data:b}):(e=a.description,e=typeof e===i?e.apply(a):e),d+=j(e)+"</p>",d}this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{};var f="",g,h,i="function",j=this.escapeExpression,k=this,l=c.blockHelperMissing;f+='<div class="modal xxl base-dialog hidden"><h2 class="modal-hd" ',h={hash:{},inverse:k.noop,fn:k.program(1,m,e),data:e},(g=c.movable)?g=g.call(b,h):(g=b.movable,g=typeof g===i?g.apply(b):g),c.movable||(g=l.call(b,g,h));if(g||g===0)f+=g;f+=">    ",(g=c.title)?g=g.call(b,{hash:{},data:e}):(g=b.title,g=typeof g===i?g.apply(b):g),f+=j(g)+'    <span class="icon close ',h={hash:{},inverse:k.noop,fn:k.program(3,n,e),data:e},(g=c.hideClose)?g=g.call(b,h):(g=b.hideClose,g=typeof g===i?g.apply(b):g),c.hideClose||(g=l.call(b,g,h));if(g||g===0)f+=g;f+='" data-action="cancel" data-move="false" title="Close"></span></h2>',h={hash:{},inverse:k.noop,fn:k.program(5,o,e),data:e},(g=c.hasDescription)?g=g.call(b,h):(g=b.hasDescription,g=typeof g===i?g.apply(b):g),c.hasDescription||(g=l.call(b,g,h));if(g||g===0)f+=g;return f+='<div class="modal-bd">',f}),a.Tictac.base.rollups.confirm_dialog=a.Handlebars.template(function(a,b,c,d,e){function m(a,b){return'data-mover="true"'}function n(a,b){return"hidden"}function o(a,b){var d="",e;return d+='<p class="description">',(e=c.description)?e=e.call(a,{hash:{},data:b}):(e=a.description,e=typeof e===i?e.apply(a):e),d+=j(e)+"</p>",d}function p(a,b){var d="",e;return d+='<div class="alert-icon"><img src="',(e=c.iconSrc)?e=e.call(a,{hash:{},data:b}):(e=a.iconSrc,e=typeof e===i?e.apply(a):e),d+=j(e)+'" alt="',(e=c.iconAlt)?e=e.call(a,{hash:{},data:b}):(e=a.iconAlt,e=typeof e===i?e.apply(a):e),d+=j(e)+'"/></div>',d}function q(a,b){var d="",e,f;d+='        <button type="button" class="left right default btn" data-action="continue">',(e=c.okLabel)?e=e.call(a,{hash:{},data:b}):(e=a.okLabel,e=typeof e===i?e.apply(a):e),d+=j(e)+'</button>        <button type="button" class="left right ',f={hash:{},inverse:k.noop,fn:k.program(3,n,b),data:b},(e=c.hideCancel)?e=e.call(a,f):(e=a.hideCancel,e=typeof e===i?e.apply(a):e),c.hideCancel||(e=l.call(a,e,f));if(e||e===0)d+=e;return d+=' btn" data-action="cancel">Cancel</button>    ',d}function r(a,b){return'    <div data-resizer="true"></div>    '}this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{};var f="",g,h,i="function",j=this.escapeExpression,k=this,l=c.blockHelperMissing;f+='<div class="modal xxl base-dialog hidden"><h2 class="modal-hd" ',h={hash:{},inverse:k.noop,fn:k.program(1,m,e),data:e},(g=c.movable)?g=g.call(b,h):(g=b.movable,g=typeof g===i?g.apply(b):g),c.movable||(g=l.call(b,g,h));if(g||g===0)f+=g;f+=">    ",(g=c.title)?g=g.call(b,{hash:{},data:e}):(g=b.title,g=typeof g===i?g.apply(b):g),f+=j(g)+'    <span class="icon close ',h={hash:{},inverse:k.noop,fn:k.program(3,n,e),data:e},(g=c.hideClose)?g=g.call(b,h):(g=b.hideClose,g=typeof g===i?g.apply(b):g),c.hideClose||(g=l.call(b,g,h));if(g||g===0)f+=g;f+='" data-action="cancel" data-move="false" title="Close"></span></h2>',h={hash:{},inverse:k.noop,fn:k.program(5,o,e),data:e},(g=c.hasDescription)?g=g.call(b,h):(g=b.hasDescription,g=typeof g===i?g.apply(b):g),c.hasDescription||(g=l.call(b,g,h));if(g||g===0)f+=g;f+='<div class="modal-bd">    ',h={hash:{},inverse:k.noop,fn:k.program(7,p,e),data:e},(g=c.iconSrc)?g=g.call(b,h):(g=b.iconSrc,g=typeof g===i?g.apply(b):g),c.iconSrc||(g=l.call(b,g,h));if(g||g===0)f+=g;f+='    <p class="error-msg hidden"></p>    <div class="confirm-body">',(g=c.message)?g=g.call(b,{hash:{},data:e}):(g=b.message,g=typeof g===i?g.apply(b):g);if(g||g===0)f+=g;f+='</div></div><div class="modal-ft">    ',h={hash:{},inverse:k.program(9,q,e),fn:k.noop,data:e},(g=c.hideButtons)?g=g.call(b,h):(g=b.hideButtons,g=typeof g===i?g.apply(b):g),c.hideButtons||(g=l.call(b,g,h));if(g||g===0)f+=g;f+="    ",h={hash:{},inverse:k.noop,fn:k.program(11,r,e),data:e},(g=c.resizable)?g=g.call(b,h):(g=b.resizable,g=typeof g===i?g.apply(b):g),c.resizable||(g=l.call(b,g,h));if(g||g===0)f+=g;return f+="</div></div>",f}),a.Tictac.base.rollups.rte_toolbar=a.Handlebars.template(function(a,b,c,d,e){function l(a,b){return'    <button aria-haspopup="true" class="small rte-color-back left right neo-tooltip"        title="Set text highlight colour" type="button" data-action="color-back"><span class="btn-text">Text highlight colour</span></button>    </li>    '}function m(a,b){return'    <li class="unselected rte-list-type">    <button aria-haspopup="true" class="small rte-bulleted left right neo-tooltip"        title="Bulleted List" type="button" data-action="bulleted"><span class="btn-text">Bulleted List</span></button>    </li>    <li class="unselected rte-list-type">    <button aria-haspopup="true" class="small rte-numbered left right neo-tooltip"        title="Numbered List" type="button" data-action="numbered"><span class="btn-text">Numbered List</span></button>    </li>    '}function n(a,b){return'    <li class="unselected rte-layout">    <button aria-haspopup="true" class="small rte-indent left right neo-tooltip"        title="Indent More" type="button" data-action="indent"><span class="btn-text">Indent More</span></button>    </li>    <li class="unselected rte-layout">    <button aria-haspopup="true" class="small rte-align-left left right neo-tooltip"        title="Align Left" type="button" data-action="align-left"><span class="btn-text">Align Left</span></button>    </li>      <li class="unselected rte-layout">    <button aria-haspopup="true" class="small rte-align-center left right neo-tooltip"        title="Align Centre" type="button" data-action="align-center"><span class="btn-text">Align Centre</span></button>    </li>      '}function o(a,b){return'    <li class="unselected">    <button aria-haspopup="true" class="small rte-link left right neo-tooltip"        title="Insert Link" type="button" data-action="link"><span class="btn-text">Insert Link</span></button>    </li>    '}this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{};var f="",g,h,i=this,j="function",k=c.blockHelperMissing;f+='<ul class="rte-toolbar">    <li class="unselected rte-font-select"></li>    <li class="unselected rte-fontsize-select"></li>    <li class="unselected">    <button class="small rte-bold left neo-tooltip" title="Bold" type="button"        data-action="bold"><span class="btn-text">Bold</span></button>    </li>    <li class="unselected">    <button class="small rte-italic neo-tooltip" title="Italicise" type="button"        data-action="italic"><span class="btn-text">Italic</span></button>    </li>    <li class="unselected">    <button aria-haspopup="true" class="small rte-color left right neo-tooltip"        title="Set text colour" type="button" data-action="color"><span class="btn-text">Text colour</span></button>    </li>    <li class="unselected">    ',h={hash:{},inverse:i.noop,fn:i.program(1,l,e),data:e},(g=c.showBackgroundColor)?g=g.call(b,h):(g=b.showBackgroundColor,g=typeof g===j?g.apply(b):g),c.showBackgroundColor||(g=k.call(b,g,h));if(g||g===0)f+=g;f+="    ",h={hash:{},inverse:i.noop,fn:i.program(3,m,e),data:e},(g=c.showLists)?g=g.call(b,h):(g=b.showLists,g=typeof g===j?g.apply(b):g),c.showLists||(g=k.call(b,g,h));if(g||g===0)f+=g;f+="    ",h={hash:{},inverse:i.noop,fn:i.program(5,n,e),data:e},(g=c.showLayout)?g=g.call(b,h):(g=b.showLayout,g=typeof g===j?g.apply(b):g),c.showLayout||(g=k.call(b,g,h));if(g||g===0)f+=g;f+="    ",h={hash:{},inverse:i.noop,fn:i.program(7,o,e),data:e},(g=c.showLink)?g=g.call(b,h):(g=b.showLink,g=typeof g===j?g.apply(b):g),c.showLink||(g=k.call(b,g,h));if(g||g===0)f+=g;return f+="</ul>",f}),a.Tictac.base.rollups.dialog_view=a.Handlebars.template(function(a,b,c,d,e){function m(a,b){return'data-mover="true"'}function n(a,b){return"hidden"}function o(a,b){var d="",e;return d+='<p class="description">',(e=c.description)?e=e.call(a,{hash:{},data:b}):(e=a.description,e=typeof e===i?e.apply(a):e),d+=j(e)+"</p>",d}function p(a,b){var d="",e,f;d+='        <button type="button" class="left right default btn" data-action="continue">',(e=c.okLabel)?e=e.call(a,{hash:{},data:b}):(e=a.okLabel,e=typeof e===i?e.apply(a):e),d+=j(e)+'</button>        <button type="button" class="left right ',f={hash:{},inverse:k.noop,fn:k.program(3,n,b),data:b},(e=c.hideCancel)?e=e.call(a,f):(e=a.hideCancel,e=typeof e===i?e.apply(a):e),c.hideCancel||(e=l.call(a,e,f));if(e||e===0)d+=e;return d+=' btn" data-action="cancel">Cancel</button>    ',d}function q(a,b){return'    <div data-resizer="true"></div>    '}this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{};var f="",g,h,i="function",j=this.escapeExpression,k=this,l=c.blockHelperMissing;f+='<div class="modal xxl base-dialog hidden"><h2 class="modal-hd" ',h={hash:{},inverse:k.noop,fn:k.program(1,m,e),data:e},(g=c.movable)?g=g.call(b,h):(g=b.movable,g=typeof g===i?g.apply(b):g),c.movable||(g=l.call(b,g,h));if(g||g===0)f+=g;f+=">    ",(g=c.title)?g=g.call(b,{hash:{},data:e}):(g=b.title,g=typeof g===i?g.apply(b):g),f+=j(g)+'    <span class="icon close ',h={hash:{},inverse:k.noop,fn:k.program(3,n,e),data:e},(g=c.hideClose)?g=g.call(b,h):(g=b.hideClose,g=typeof g===i?g.apply(b):g),c.hideClose||(g=l.call(b,g,h));if(g||g===0)f+=g;f+='" data-action="cancel" data-move="false" title="Close"></span></h2>',h={hash:{},inverse:k.noop,fn:k.program(5,o,e),data:e},(g=c.hasDescription)?g=g.call(b,h):(g=b.hasDescription,g=typeof g===i?g.apply(b):g),c.hasDescription||(g=l.call(b,g,h));if(g||g===0)f+=g;f+='<div class="modal-bd"></div><div class="modal-ft">    ',h={hash:{},inverse:k.program(7,p,e),fn:k.noop,data:e},(g=c.hideButtons)?g=g.call(b,h):(g=b.hideButtons,g=typeof g===i?g.apply(b):g),c.hideButtons||(g=l.call(b,g,h));if(g||g===0)f+=g;f+="    ",h={hash:{},inverse:k.noop,fn:k.program(9,q,e),data:e},(g=c.resizable)?g=g.call(b,h):(g=b.resizable,g=typeof g===i?g.apply(b):g),c.resizable||(g=l.call(b,g,h));if(g||g===0)f+=g;return f+="</div></div>",f}),a.Tictac.base.rollups.richselect_button=a.Handlebars.template(function(a,b,c,d,e){function k(a,b){return"neo-tooltip"}function l(a,b){return'<span class="arrow-down"></span>'}this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{};var f="",g,h="function",i=this.escapeExpression,j=this;f+='<button aria-haspopup="true" data-value="',(g=c.value)?g=g.call(b,{hash:{},data:e}):(g=b.value,g=typeof g===h?g.apply(b):g),f+=i(g)+'" data-name="',(g=c.name)?g=g.call(b,{hash:{},data:e}):(g=b.name,g=typeof g===h?g.apply(b):g),f+=i(g)+'" class="small richselect ',g=c["if"].call(b,b.tooltip,{hash:{},inverse:j.noop,fn:j.program(1,k,e),data:e});if(g||g===0)f+=g;f+='" type="button" title="',(g=c.tooltip)?g=g.call(b,{hash:{},data:e}):(g=b.tooltip,g=typeof g===h?g.apply(b):g),f+=i(g)+'">    <span class="btn-text">',(g=c.buttonText)?g=g.call(b,{hash:{},data:e}):(g=b.buttonText,g=typeof g===h?g.apply(b):g),f+=i(g)+"</span>    ",g=c["if"].call(b,b.showArrow,{hash:{},inverse:j.noop,fn:j.program(3,l,e),data:e});if(g||g===0)f+=g;return f+="</button>",f}),a.Tictac.base.rollups.richselect_menu=a.Handlebars.template(function(a,b,c,d,e){return this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{},'<div class="richselect-menu optionMenu hidden" tabindex="-1"></div>'}),a.Tictac.base.rollups.richselect_option=a.Handlebars.template(function(a,b,c,d,e){this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{};var f="",g,h="function",i=this.escapeExpression;return f+='<li class="richselect-option" unselectable="on" tabindex="0" data-index="',(g=c.index)?g=g.call(b,{hash:{},data:e}):(g=b.index,g=typeof g===h?g.apply(b):g),f+=i(g)+'" style="',(g=c.css)?g=g.call(b,{hash:{},data:e}):(g=b.css,g=typeof g===h?g.apply(b):g),f+=i(g)+'" data-value="',(g=c.value)?g=g.call(b,{hash:{},data:e}):(g=b.value,g=typeof g===h?g.apply(b):g),f+=i(g)+'">',(g=c.text)?g=g.call(b,{hash:{},data:e}):(g=b.text,g=typeof g===h?g.apply(b):g),f+=i(g)+"</li>",f}),a.Tictac.base.rollups.rte_storm_color=a.Handlebars.template(function(a,b,c,d,e){this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{};var f="",g,h="function",i=this.escapeExpression;return f+='<li unselectable="on" style="background-color: ',(g=c.color)?g=g.call(b,{hash:{},data:e}):(g=b.color,g=typeof g===h?g.apply(b):g),f+=i(g)+';" data-value="',(g=c.color)?g=g.call(b,{hash:{},data:e}):(g=b.color,g=typeof g===h?g.apply(b):g),f+=i(g)+'" role="presentation"><a href="#" role="menuitem" tabindex="-1"></a></li>',f}),a.Tictac.base.rollups.dialog_footer=a.Handlebars.template(function(a,b,c,d,e){function m(a,b){var d="",e,f;d+='        <button type="button" class="left right default btn" data-action="continue">',(e=c.okLabel)?e=e.call(a,{hash:{},data:b}):(e=a.okLabel,e=typeof e===i?e.apply(a):e),d+=j(e)+'</button>        <button type="button" class="left right ',f={hash:{},inverse:k.noop,fn:k.program(2,n,b),data:b},(e=c.hideCancel)?e=e.call(a,f):(e=a.hideCancel,e=typeof e===i?e.apply(a):e),c.hideCancel||(e=l.call(a,e,f));if(e||e===0)d+=e;return d+=' btn" data-action="cancel">Cancel</button>    ',d}function n(a,b){return"hidden"}function o(a,b){return'    <div data-resizer="true"></div>    '}this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{};var f="",g,h,i="function",j=this.escapeExpression,k=this,l=c.blockHelperMissing;f+='</div><div class="modal-ft">    ',h={hash:{},inverse:k.program(1,m,e),fn:k.noop,data:e},(g=c.hideButtons)?g=g.call(b,h):(g=b.hideButtons,g=typeof g===i?g.apply(b):g),c.hideButtons||(g=l.call(b,g,h));if(g||g===0)f+=g;f+="    ",h={hash:{},inverse:k.noop,fn:k.program(4,o,e),data:e},(g=c.resizable)?g=g.call(b,h):(g=b.resizable,g=typeof g===i?g.apply(b):g),c.resizable||(g=l.call(b,g,h));if(g||g===0)f+=g;return f+="</div></div>",f})},"1.0.0",{requires:["handlebars-base"]});YUI.add("comms-intl-bidi",function(A){A.mix(A.namespace("Intl"),{_rtlChars:"[\uD83A\uD83B][\uDC00-\uDFFF]|[\u0590\u05BE\u05C0\u05C3\u05C6\u05C8-\u05FF\u0604\u0605\u0608\u060B\u060D\u061B-\u064A\u065F\u066D-\u066F\u0671-\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u070E\u0710\u0712-\u072F\u074B-\u07A5\u07B1-\u07EA\u07F4\u07F5\u07FA-\u0815\u081A\u0824\u0828\u082E-\u08FF\u200F\uFB1D\uFB1F-\uFB28\uFB2A-\uFD3D\uFD40-\uFDCF\uFDF0-\uFDFC\uFDFE\uFDFF\uFE70-\uFEFE]|\uD803[\uDC00-\uDE5F\uDE7F-\uDFFF]|\uD802[\uDC00-\uDD1E\uDD20-\uDE00\uDE04\uDE07-\uDE0B\uDE10-\uDE37\uDE3B-\uDE3E\uDE40-\uDF38\uDF40-\uDFFF]",_neutralChars:"[\uDB40-\uDB43][\uDC00-\uDFFF]|\uD802[\uDD1F\uDE01-\uDE03\uDE05\uDE06\uDE0C-\uDE0F\uDE38-\uDE3A\uDE3F\uDF39-\uDF3F]|\uD804[\uDC80\uDC81\uDCB3-\uDCB6\uDCB9\uDCBA]|\uD803[\uDE60-\uDE7E]|\uD800[\uDD01\uDD40-\uDD8A\uDD90-\uDD9B\uDDFD]|[\uD83F\uD87F\uD8BF\uD8FF\uD93F\uD97F\uD9BF\uD9FF\uDA3F\uDA7F\uDABF\uDAFF\uDB3F\uDB7F\uDBBF\uDBFF][\uDFFE\uDFFF]|\uD83C[\uDC00-\uDC2B\uDC30-\uDC93\uDD00-\uDD0A]|[\u0000-\u0040\u005B-\u0060\u007B-\u00A9\u00AB-\u00B4\u00B6-\u00B9\u00BB-\u00BF\u00D7\u00F7\u02B9\u02BA\u02C2-\u02CF\u02D2-\u02DF\u02E5-\u02ED\u02EF-\u036F\u0374\u0375\u037E\u0384\u0385\u0387\u03F6\u0483-\u0489\u058A\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0600-\u0603\u0606\u0607\u0609\u060A\u060C\u060E-\u061A\u064B-\u065E\u0660-\u066C\u0670\u06D6-\u06E4\u06E7-\u06ED\u06F0-\u06F9\u070F\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u07F6-\u07F9\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0900-\u0902\u093C\u0941-\u0948\u094D\u0951-\u0955\u0962\u0963\u0981\u09BC\u09C1-\u09C4\u09CD\u09E2\u09E3\u09F2\u09F3\u09FB\u0A01\u0A02\u0A3C\u0A41\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A70\u0A71\u0A75\u0A81\u0A82\u0ABC\u0AC1-\u0AC5\u0AC7\u0AC8\u0ACD\u0AE2\u0AE3\u0AF1\u0B01\u0B3C\u0B3F\u0B41-\u0B44\u0B4D\u0B56\u0B62\u0B63\u0B82\u0BC0\u0BCD\u0BF3-\u0BFA\u0C3E-\u0C40\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C78-\u0C7E\u0CBC\u0CCC\u0CCD\u0CE2\u0CE3\u0CF1\u0CF2\u0D41-\u0D44\u0D4D\u0D62\u0D63\u0DCA\u0DD2-\u0DD4\u0DD6\u0E31\u0E34-\u0E3A\u0E3F\u0E47-\u0E4E\u0EB1\u0EB4-\u0EB9\u0EBB\u0EBC\u0EC8-\u0ECD\u0F18\u0F19\u0F35\u0F37\u0F39-\u0F3D\u0F71-\u0F7E\u0F80-\u0F84\u0F86\u0F87\u0F90-\u0F97\u0F99-\u0FBC\u0FC6\u102D-\u1030\u1032-\u1037\u1039\u103A\u103D\u103E\u1058\u1059\u105E-\u1060\u1071-\u1074\u1082\u1085\u1086\u108D\u109D\u135F\u1390-\u1399\u1400\u1680\u169B\u169C\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17B7-\u17BD\u17C6\u17C9-\u17D3\u17DB\u17DD\u17F0-\u17F9\u1800-\u180E\u18A9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193B\u1940\u1944\u1945\u19DE-\u19FF\u1A17\u1A18\u1A56\u1A58-\u1A5E\u1A60\u1A62\u1A65-\u1A6C\u1A73-\u1A7C\u1A7F\u1B00-\u1B03\u1B34\u1B36-\u1B3A\u1B3C\u1B42\u1B6B-\u1B73\u1B80\u1B81\u1BA2-\u1BA5\u1BA8\u1BA9\u1C2C-\u1C33\u1C36\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE0\u1CE2-\u1CE8\u1CED\u1DC0-\u1DE6\u1DFD-\u1DFF\u1FBD\u1FBF-\u1FC1\u1FCD-\u1FCF\u1FDD-\u1FDF\u1FED-\u1FEF\u1FFD\u1FFE\u2000-\u200D\u2010-\u2070\u2074-\u207E\u2080-\u208E\u20A0-\u20B8\u20D0-\u20F0\u2100\u2101\u2103-\u2106\u2108\u2109\u2114\u2116-\u2118\u211E-\u2123\u2125\u2127\u2129\u212E\u213A\u213B\u2140-\u2144\u214A-\u214D\u2150-\u215F\u2189\u2190-\u2335\u237B-\u2394\u2396-\u23E8\u2400-\u2426\u2440-\u244A\u2460-\u249B\u24EA-\u26AB\u26AD-\u26CD\u26CF-\u26E1\u26E3\u26E8-\u26FF\u2701-\u2704\u2706-\u2709\u270C-\u2727\u2729-\u274B\u274D\u274F-\u2752\u2756-\u275E\u2761-\u2794\u2798-\u27AF\u27B1-\u27BE\u27C0-\u27CA\u27CC\u27D0-\u27FF\u2900-\u2B4C\u2B50-\u2B59\u2CE5-\u2CEA\u2CEF-\u2CF1\u2CF9-\u2CFF\u2DE0-\u2E31\u2E80-\u2E99\u2E9B-\u2EF3\u2F00-\u2FD5\u2FF0-\u2FFB\u3000-\u3004\u3008-\u3020\u302A-\u3030\u3036\u3037\u303D-\u303F\u3099-\u309C\u30A0\u30FB\u31C0-\u31E3\u321D\u321E\u3250-\u325F\u327C-\u327E\u32B1-\u32BF\u32CC-\u32CF\u3377-\u337A\u33DE\u33DF\u33FF\u4DC0-\u4DFF\uA490-\uA4C6\uA60D-\uA60F\uA66F-\uA673\uA67C-\uA67F\uA6F0\uA6F1\uA700-\uA721\uA788\uA802\uA806\uA80B\uA825\uA826\uA828-\uA82B\uA838\uA839\uA874-\uA877\uA8C4\uA8E0-\uA8F1\uA926-\uA92D\uA947-\uA951\uA980-\uA982\uA9B3\uA9B6-\uA9B9\uA9BC\uAA29-\uAA2E\uAA31\uAA32\uAA35\uAA36\uAA43\uAA4C\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uABE5\uABE8\uABED\uFB1E\uFB29\uFD3E\uFD3F\uFDD0-\uFDEF\uFDFD\uFE00-\uFE19\uFE20-\uFE26\uFE30-\uFE52\uFE54-\uFE66\uFE68-\uFE6B\uFEFF\uFF01-\uFF20\uFF3B-\uFF40\uFF5B-\uFF65\uFFE0-\uFFE6\uFFE8-\uFFEE\uFFF0-\uFFFF]|\uD835[\uDEDB\uDF15\uDF4F\uDF89\uDFC3\uDFCE-\uDFFF]|\uD834[\uDD67-\uDD69\uDD73-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD\uDE00-\uDE45\uDF00-\uDF56]",_initializeBidiPatterns:function(){this._rtlPattern=new RegExp("^(?:"+this._neutralChars+")*(?:"+this._rtlChars+")");this._neturalPattern=new RegExp("^(?:"+this._neutralChars+")*$");},setBidiChars:function(B,C){if(B!==undefined){this._rtlChars=B;}if(C!==undefined){this._neutralChars=C;}this._initializeBidiPatterns();},detectDirection:function(C,B){if(this._rtlPattern.test(C)){return"rtl";}else{if(B==="ltr"){return"ltr";}else{if(this._neturalPattern.test(C)){if(B==="rtl"){return"rtl";}else{return"";}}else{return"ltr";}}}}});A.Intl._initializeBidiPatterns();A.mix(A.namespace("Intl"),{bidiDirection:A.Intl.detectDirection});},"1.0.0");YUI.add("comms-node-setdir",function(B){var A={ltr:"rtl",rtl:"ltr"};B.Node.addMethod("setDirection",function(E,F){var D,C;if(F==="ltr"||F==="rtl"){D=B.one(E);C=D.getStyle("direction");D.setAttribute("dir",F);D.setStyle("direction","");D.removeClass(B.ClassNameManager.getClassName(A[F]));D.addClass(B.ClassNameManager.getClassName(F));if(F!==C){B.fire("directionChange",{target:D,dir:F});}}return D;});},"1.0.0",{requires:["classnamemanager","node-base","node-style"]});YUI.add("comms-bidi-textentry",function(B){function A(){A.superclass.constructor.apply(this,arguments);}A.NS="bidiTextEntry";A.NAME="bidiTextEntry";B.extend(A,B.Plugin.Base,{initializer:function(C){var E=this.get("host"),D;E.BIDI_DISABLED=false;E.PREVIOUS_DIRECTION=E.getStyle("direction");if(!E.PREVIOUS_DIRECTION){E.PREVIOUS_DIRECTION=E.getAttribute("dir");}E.DETECT_DEFAULT_DIRECTION=(C&&C.detect_default_direction===true);if(!E.DETECT_DEFAULT_DIRECTION){E.setDirection(E.PREVIOUS_DIRECTION);}else{D=B.Intl.detectDirection(E.get("value"));E.setDirection(D);E.PREVIOUS_DIRECTION=D;}this.afterHostEvent("valueChange",function(H){var G=this.get("host"),J,I=G.BIDI_DISABLED,F=G.PREVIOUS_DIRECTION,K;if(I){return;}K=G.getAttribute("dir");if(F!==K){G.BIDI_DISABLED=true;return;}J=B.Intl.detectDirection(H.newVal);if(J==="rtl"||J==="ltr"){G.PREVIOUS_DIRECTION=J;}G.setDirection(J);});}});B.namespace("Plugin");B.Plugin.BidiTextEntry=A;B.Plugin.BidiTextInput=A;},"1.0.0",{requires:["plugin","event-valuechange","comms-intl-bidi","comms-node-setdir"]});YUI.add("tictac-base-viewutils",function(a){var b=a.Tictac.base.rollups,c=a.Tictac.base.strings,d=a.one("html");a.namespace("Tictac.base").ViewUtils={alert:function(a){return a.hideCancel=!0,a.title=typeof a.title=="undefined"?c.str_conv_dialog_alert:a.title,this.confirm(a)},confirm:function(d){function r(){a.Array.each(m,function(a){a&&a.detach&&a.detach()}),d&&d.refocusNode?d.refocusNode.focus():q&&q.focus()}function s(b){a.later(0,null,function(){h=f.one("input[value='']"),h||(h=f.one("textarea")),h?h.focus():b&&b.focus()})}function t(b){var c;d&&d.focusNodeSelector?(c=a.one(d.focusNodeSelector),c&&c.focus()):s(b)}function u(a){var b=f.one(".error-msg");a?(b.setHTML(a),b.removeClass("hidden")):(e.hideModalBacker(),r(),f.remove(!0))}function v(a){if(a.keyCode!==9)return;var b=f.one("input, textarea, button, a"),c=f.one('.modal-ft [data-action="cancel"]')||f.one('.modal-ft [data-action="continue"]');document.activeElement===c.getDOMNode()&&!a.shiftKey?((b||f).focus(),a.halt()):document.activeElement===b.getDOMNode()&&a.shiftKey&&((c||f).focus(),a.halt())}function w(a){var b,g,h=f.one(".error-msg");h.addClass("hidden");if(d.callback){b=f.one("form"),b&&(b=e.serializeForm(b));try{d.async?(e.showModalBacker(),d.callback(b,function(a){u(a),e.hideModalBacker()})):u(d.callback(b))}catch(i){g=c.str_msgr_server_error_1}}else u();a.preventDefault()}var e=this,f,g,h,i,j,k,l,m=[],n,o,p,q=document.activeElement;return d.title=typeof d.title=="undefined"?c.str_conv_dialog_confirm:d.title,d.showButtons=!0,d.okLabel=d.okLabel||c.str_ok,f=a.Node.create(b.confirm_dialog(d)),f.all("input.bidi-auto-detection").each(function(b){b.plug(a.Plugin.BidiTextEntry).setAttribute("dir",a.Intl.detectDirection(b.get("value")))}),d.movable=!0,d.cssClass&&f.addClass(d.cssClass),j=f.one('button[data-action="continue"]'),k=f.one('button[data-action="cancel"]'),n=f.one(".modal-ft").all("button"),m.push(f.on("keydown",v)),m.push(a.on("resize",function(){e.limitToViewport(f)},window)),m.push(j.on("click",w)),m.push(f.delegate("keydown",function(b){b.keyCode===13&&a.later(0,null,function(){e.focusOnPresenceStateMenu()})},".base-dialog-buttons span")),m.push(f.all('[data-action="cancel"]').on("click",function(a){r(),d.cancelCallback&&d.cancelCallback(),e.hideModalBacker(),f.remove(!0),a.preventDefault()})),o=this.showModalBacker()+1,f.setStyle("zIndex",o),f.removeClass("hidden"),p=a.one("div.modal"),p&&!p.hasClass("hidden")&&f.addClass("opaque"),f.addClass("confirm-dialog"),a.one(document.body).append(f),g=f.getDOMNode(),d.left?a.Tictac.base.isRTL?f.setStyle("right",d.left):f.setStyle("left",d.left):(i=-g.offsetWidth/2,a.Tictac.base.isRTL?f.setStyle("marginRight",i+"px"):f.setStyle("marginLeft",i+"px")),d.top?f.setStyle("top",d.top):(l=-g.offsetHeight/2,f.setStyle("marginTop",l+"px")),d.rearrangeCallback&&d.rearrangeCallback(),m.push(f.on("keydown",function(b){b.keyCode===13&&a.later(0,null,function(){w(b)})})),m.push(f.on("keydown",function(a){a.keyCode===27&&(r(),d.cancelCallback&&d.cancelCallback(),e.hideModalBacker(),f.remove(!0),a.preventDefault(),a.halt())})),this.limitToViewport(f),t(j),f},limitToViewport:function(a){if(a.hasClass("hidden"))return;var b,c=this.getWindowSize(),d,e,f,g;f=a.one("div.base-dialog-body"),f&&f.setStyle("height","auto"),b=a.get("region"),b.left<0?d="0px":b.right>c.width&&(d=c.width-b.width+"px"),c.height-b.height<=50?(e="25px",f&&(g=f.get("region"),f.setStyle("height",c.height-(b.height-g.height)-50+"px"))):b.top<c.scrollTop?e="0px":b.bottom>c.height+c.scrollTop&&(e=c.height-b.height+"px"),a.setStyle("maxHeight",c.height-50+"px"),d&&(a.setStyle("left",d),a.setStyle("marginLeft","0px"),a.setStyle("marginRight","0px")),e&&(a.setStyle("top",e),a.setStyle("marginTop","0px"))},getWindowSize:function(){var a,b,c=document.body.scrollTop,d=document.body.scrollHeight;return a=window,b="inner","innerWidth"in window||(b="client",a=document.documentElement||document.body),{height:a[b+"Height"],width:a[b+"Width"],scrollTop:c,scrollHeight:d}},showModalBacker:function(){var b=a.Node.create("<div class='modal-backing-div'></div>");return b.on("click",function(a){a.halt()}),b.on("mousedown",function(a){a.halt()}),b.on("mouseup",function(a){a.halt()}),a.one(".modal-backing-div")&&b.addClass("stacked"),a.one(document.body).append(b),d.addClass("dlg-show"),this.bringToFront(b)},hideModalBacker:function(){var b=a.all(".modal-backing-div"),c,e,f=null;if(b.size()){for(c=0,e=b.size();c<e;c++)f?b.item(c).getComputedStyle("zIndex")>f.getComputedStyle("zIndex")&&(f=b.item(c)):f=b.item(c);f.remove(!0),b.size()===1&&d.removeClass("dlg-show")}},bringToFront:function(b){var c=a.all(".base-dialog, .modal-backing-div, #yucs-top-bar"),d=29e3;return c.each(function(a){if(b===a)return;var c=+a.getStyle("zIndex");!isNaN(c)&&c>=d&&(d=c+1)}),b.setStyle("zIndex",d),d},serializeForm:function(b){var c,d={};if(!b.one){c=document.forms[b]||document.getElementById(b);if(!c)return null;c=a.Node(c)}else c=b;return c.get("elements").each(function(a){var b=a.get("name")||a.getAttribute("data-name"),c=a.get("type").toLowerCase();switch(c){case"text":case"hidden":case"textarea":case"password":d[b]=a.get("value");break;case"radio":case"checkbox":a.get("checked")===!0&&(d[b]=a.get("value"));break;case"select-one":a.all("option").each(function(a){a.get("selected")&&(d[b]=a.get("value"))});break;case"button":a.hasClass("richselect")&&b&&(d[b]=a.getAttribute("data-value"))}}),d},disableSelection:function(b){var c=b.getDOMNode();b.setStyle("WebkitUserSelect","none"),b.setStyle("MozUserSelect","none"),b.setStyle("msUserSelect","none"),b.setStyle("userSelect","none"),a.UA.ie&&a.UA.ie<=8&&(c.__onselectstart__=c.onselectstart,c.__ondragstart__=c.ondragstart,c.onselectstart=function(){return!1},c.ondragstart=function(){return!1})},enableSelection:function(b){var c=b.getDOMNode();b.setStyle("WebkitUserSelect","text"),b.setStyle("MozUserSelect","text"),b.setStyle("msUserSelect","text"),b.setStyle("userSelect","text"),a.UA.ie&&a.UA.ie<=8&&(c.onselectstart=c.__onselectstart__,c.ondragstart=c.__ondragstart__)}}},"1.0.0",{requires:["tictac-base-rollups","tictac-base-strings","comms-bidi-textentry","comms-intl-bidi","base-viewutils-css"]});YUI.add("tictac-base-view",function(a){function b(b){var c=this;c.options=b||{},c.attributes={},c._previous={},b.parent?(c.parent=b.parent,typeof c.parent=="string"?c.parent=a.one(c.parent):c.parent.one||(c.parent=a.one(c.parent))):!b.nextSibling&&!b.prevSibling&&(c.parent=a.one("body")),b.model?c.model=b.model:c.collection=b.collection,c._listeners=[],_.extend(c,Backbone.Events),c.initialize&&c.initialize(b),c.constructor.plugins&&_.each(c.constructor.plugins,function(a){a.initialize(c)}),c._destroyed=!1}"use strict",b.prototype={events:{},template:"<div></div>",get:function(a){return this.attributes[a]},set:function(a,b){b!==this.attributes[a]&&(this._previous[a]=this.attributes[a],this.attributes[a]=b,this.trigger("change:"+a,this))},previous:function(a){return this._previous[a]},createDOMNode:function(){return a.Node.create(this.template)},render:function(){var b,c=this;if(c.rendered)throw new Error("Render called twice for view object");c.node=c.createDOMNode(),c.options.container&&(typeof c.options.container=="string"?b=a.Node.create(c.options.container):b=c.options.container,b.append(c.node),c.node=b),a.UA.ie>0&&c.node.setAttribute("unselectable","on"),c.options.attributes&&c.node.setAttrs(c.options.attributes),c.node.addClass("base-view"),a.Tictac.base.isRTL&&c.node.addClass("base-bidi"),a.UA.ie>0?(c.node.addClass("IE"),a.UA.ie===7&&navigator.userAgent.indexOf("Trident/")>0?(c.node.addClass("IE8"),c.node.addClass("IE8Compat")):c.node.addClass("IE"+a.UA.ie)):a.UA.gecko>0?c.node.addClass("FF"):a.UA.webkit>0&&c.node.addClass("Webkit"),c.parent?c.options.index?c.parent.insert(c.node,c.options.index):c.parent.append(c.node):c.options.prevSibling?c.options.prevSibling.insert(c.node,"after"):c.options.nextSibling.insert(c.node,"before"),c._attachEvents(),c.postRender&&c.postRender(),c.visible=!c.node.hasClass("hidden"),c.rendered=!0,c.trigger("render",c)},_attachEvents:function(){var b,c,d,e,f=this;for(b in f.events)if(f.events.hasOwnProperty(b)){d=f.events[b];if(!d||!f[d])continue;b=b.split(" "),e=b.shift(),c=b.join(" "),f._listeners.push(f.node.delegate(e,a.bind(f[d],f),c))}f._listeners.push(f.node.on("focus",f._onFocus)),f._listeners.push(f.node.on("blur",f._onBlur));if(a.UA.ie&&a.UA.ie<9){var g='input[type="checkbox"], input[type="radio"]';f._listeners.push(f.node.delegate("click",f._ie8ChangeEvtWorkaround,g))}},show:function(){var a=this;a.node&&a.node.removeClass("hidden"),a.visible=!0,a.trigger("show",a)},hide:function(){this.isVisible()&&(this.node.addClass("hidden"),this.visible=!1,this.trigger("hide",this))},isVisible:function(){return this.visible},destroy:function(){this.onDestroy&&this.onDestroy(),this.node&&(this.node.remove(!0),delete this.node);while(this._listeners.length)this._listeners.pop().detach();this.trigger("destroy",this),this.off(),this._destroyed=!0},_ie8ChangeEvtWorkaround:function(a){a.target.blur(),a.target.focus()},_onFocus:function(b){var c=b.target.getDOMNode(),d=c.parentNode;d.nodeName==="LABEL"&&a.one(d).addClass("focus")},_onBlur:function(b){var c=b.target.getDOMNode(),d=c.parentNode;d.nodeName==="LABEL"&&a.one(d).removeClass("focus")}},b.extend=Backbone.Model.extend,a.namespace("Tictac.base").View=b},"@VERSION@",{requires:["node","tictac-base-css","tictac-base-viewutils","backbone"]});YUI.add("messenger-viewutils",function(e){"use strict";var t=e.Messenger.Common.Constants,s=e.Messenger.Common.Utils,a=e.Messenger.Model.SystemSettings,i=e.Messenger.Model.UserSettings,n=e.Messenger.Common.Stats,r=e.Tictac.mim.rollups,o=e.Tictac.mim.strings,u;u={replaceBuddyIcon:function(t,s){e.Array.each(["ymsg-offline","ymsg-away","ymsg-available","ymsg-busy"],function(e){t.removeClass(e)});t.addClass(this.getBuddyIconClass(s))},getBuddyIconClass:function(e){var s=t.STATE,a;if(e===s.OFFLINE||e===s.INVISIBLE){a="ymsg-offline"}else if(e===s.AWAY||e===s.IDLE){a="ymsg-away"}else if(e===s.AVAILABLE){a="ymsg-available"}else{a="ymsg-busy"}return a},getDefaultPresenceMessage:function(e){var t={"-1":"str_menu_invisible",0:"str_menu_available",1:"str_cont_list_status_be_right_back",2:"str_cont_list_status_busy",3:"str_cont_list_status_not_at_home",4:"str_cont_list_status_not_at_my_desk",5:"str_cont_list_status_not_in_the_office",6:"str_cont_list_status_on_the_phone",7:"str_cont_list_status_on_vacation",8:"str_cont_list_status_out_to_lunch",9:"str_cont_list_status_stepped_out",10:"str_cont_list_status_away",999:"str_cont_list_status_idle",9999:"str_menu_offline"},s="";if(t[e]){s=o[t[e]]||""}return s},getPresenceName:function(e){var t={0:"str_menu_available",2:"str_menu_busy","-1":"str_menu_invisible",999:"str_menu_idle",9999:"str_menu_offline"},s="";if(t[e]){s=o[t[e]]||""}return s},getStateName:function(e){var s=t.STATE,a;switch(e){case s.OFFLINE:a="offline";break;case s.PENDING:a="pending";break;case s.AVAILABLE:a="available";break;case s.INVISIBLE:a="invisible";break;case s.IDLE:case s.AWAY:a="away";break;default:a="busy";break}return a},convertErrorCodeToMessage:function(e){var t="str_msgr_server_error_"+e;if(o[t]){return o[t]}else{return o.str_msgr_server_error_1}},triggerAds:function(e){var t={type:"a",name:"VISIBLE",evt:{sp:e,npv:false,trace:"messenger",pageView:false}};if(window.yui&&window.yui.fire){window.yui.fire("darlaEvent",{action:t});n.stat("ad_rotation")}},flashWindow:function(){var t,s=false,a;return function(i){if(t){t.cancel();if(a){window.document.title=a}s=false}if(i){a=window.document.title;t=e.later(1e3,window,function(){window.document.title=s?a:i;s=!s},null,true)}}}(),showNewMsgNotification:function(t,s){var a,i,n=t.get("unreadCount");if(n){a=s.one(".mim-msg-badge");if(!a){a=e.Node.create(r.badge());i=s.one(".nav-label");i.get("parentNode").append(a)}a.setHTML(n);s.addClass("mim-has-msg")}else{s.removeClass("mim-has-msg")}},handleConvMinMax:function(e,t){if(e.get("minimized")){t.addClass("mim-minimized")}else{t.removeClass("mim-minimized")}},getWindowHeight:function(){return this.getWindowSize().height},focusOnPresenceStateMenu:function(t){var s=e.one(".mim-presence-state-full button.mim-presence-state");if(s&&s.focus){s.focus();if(t&&t.halt){t.halt()}}},validateContactForm:function(t){if(!t.user&&!t.mobileno){return o.str_add_error_noval}if(t.user&&t.user.length<4||t.user.length>32){return s.substitute(o.str_cont_add_contact_error_invalid_id,{user:e.Escape.html(t.user),network:t.network==="yahoo"?o.str_branding_messenger:t.network==="lcs"?o.str_form_lbl_im_mslcs:o.str_form_lbl_im_lotus})}if(t.email&&!this.validateEmailAddress(t.email)){return o.str_cont_add_contact_error_invalid_email}if(t.mobileno&&!this.validatePhoneNumber(t.mobileno)){return o.str_add_error_phone}},validateEmailAddress:function(e){var t=/^[A-Z0-9\._%\+\-]+@[A-Z0-9\.\-]+\.[A-Z]{2,4}$/i;return t.test(e)},validatePhoneNumber:function(e,t){var s=/^[0-9\(\) \.\-\+]+$/i;t=t||5;if(e.length<t){return false}return s.test(e)},showSpamConfirm:function(t){var s="<div><p>"+o.str_conv_spam_reported_description_top+"</p><p>"+e.Messenger.Common.Utils.substitute(o.str_conv_spam_reported_description_bottom,{userid:t})+"</p></div>";this.alert({message:s,callback:function(){}})},openReportAbuseWindow:function(t,a){var i=[],n="\r\n{{userid}} ({{time}}): {{message}}",r=a&&a.length>0?a[0].sender:"",o=e.Messenger.Neo.core,u,l;e.Array.each(a,function(e){l=o.dateFormatter(new Date(e.timeStamp),o.getDateFormat(e.timeStamp));i.push(s.substitute(n,{userid:e.sender,time:l,message:e.yml()}))});u=["abuserYID="+r,"select_48176=0","textarea_21702="+i.join(encodeURIComponent("\n"))];window.open(t+"?"+u.join("&"))},getHtml5AudioSupport:function(){var e={audioObjectSupported:false,audioPlaySupported:false,oggSupported:false,wavSupported:false,mp3Supported:false,aacSupported:false},t;try{t=new Audio("");if(t.canPlayType){e.audioObjectSupported=true;if(t.play){e.audioPlaySupported=true}if(t.canPlayType('audio/ogg; codecs="vorbis"').replace(/no/,"")!==""){e.oggSupported=true}if(t.canPlayType("audio/wav").replace(/no/,"")!==""){e.wavSupported=true}if(t.canPlayType("audio/mp3").replace(/no/,"")!==""){e.mp3Supported=true}if(t.canPlayType('audio/mp4; codecs="mp4a.40.2"').replace(/no/,"")!==""){e.mp3Supported=true}}}catch(s){}return e},playAudioNotification:function(){var t=null,s=this,a=e.one("body"),i,n=s.getHtml5AudioSupport(),o,u=e.Tictac.base.getBase()+e.Tictac.base.getAssetURL("audio/","tictac-mim");if(n.audioObjectSupported&&n.audioPlaySupported&&(n.wavSupported||n.mp3Supported)){t=e.one("#mim-messageReceivedAudioTag");if(!t){t=e.Node.create(r.audiotag({mp3Source:u+"receiveim.mp3",wavSource:u+"receiveim.wav"}));a.append(t)}t.getDOMNode().play()}else{if(!s._flashPlayer){i=a.one("#flashplayerContainer");if(!i){i=e.Node.create("<div id='flashplayerContainer' style='height:0px;width:0px'></div>");a.append(i);o=u+"audionotifier.swf";i.append(r.flashaudio({src:o,domain:window.location.host}));try{s._flashPlayer=a.one("#flashplayerContainer #mimflashaudio")}catch(l){}}}else{s._playFlashAudioNotification()}}},_playFlashAudioNotification:function(t){t=t||0;if(t>10){return}try{this._flashPlayer.getDOMNode().playNotificationMessageSound()}catch(s){e.later(250,this,this._playFlashAudioNotification,[++t])}},isInputNode:function(e){var t={input:1,textarea:1,select:1},s=e.get("tagName").toLowerCase();return s in t},getPhoneCountries:function(){var t=e.Messenger.Common.SMSUtils,n=t.getCountries(),r=i.getPreference("mimHomeCountryPref")||t.getIntlCode(a.get("intl"))||"";return _.map(n,function(e){return{val:e.key,selected:r===e.key,label:s.substitute(o.str_opt_msg_phonecountry_label,{country_name:o["str_country_"+e.name],country_code:e.code})}})}};e.mix(u,e.Tictac.base.ViewUtils);e.namespace("Messenger.View").ViewUtils=u},"1.0.0",{requires:["messenger-constants","tictac-mim-strings","tictac-mim-rollups","tictac-base","messenger-stats","messenger-utils","messenger-smsutils","messenger-usersettings","messenger-systemsettings","tictac-base-viewutils"]});YUI.add("messenger-contactlist-view",function(e){"use strict";var t,n=e.Messenger.Common.Constants,i=n.EVENTS,o=e.Tictac.mim.rollups,s=e.Messenger.Model.UserSettings,a=e.Messenger.Model.SystemSettings,r=e.Messenger.Common.Stats,c=e.Messenger.View.ViewUtils,l=600;t=e.Tictac.base.View.extend({createDOMNode:function(){var t=this,n=this.options.session,i=n.get("presenceState"),r=this.getContactsArray(),l,d=n.get("presenceMessage")||c.getDefaultPresenceMessage(i),h=true;t.minimizedHeight=32;t._collapsed=h;if(a.get("triPaneView")){l=h?t.minimizedHeight:s.getPreference("mimCLHeightPref");l+="px"}else{l="auto"}return e.Node.create(o.contact_list({renderContainer:!t.parent,contacts:r,stateName:c.getStateName(i),presenceMessage:d,mode:t.useTopContacts?"favorites":"online",isEmpty:!r.length,collapsed:h,paneHeight:l}))},_rerender:function(){var e=this,t=e.getContactsArray();e._mimContactList.all(".btn-contact").remove(true);e._mimContactList.setHTML(o.contact_list_list({contacts:t}));if(t.length>0){e._clNode.setAttribute("data-empty",false)}else{e._clNode.setAttribute("data-empty",true)}if(e.useTopContacts){e._clNode.setAttribute("data-mode","favorites")}else{e._clNode.setAttribute("data-mode","online")}},onDestroy:function(){var e=this;e.options.session.off("change:presenceState change:presenceMessage",e.updateContactListState,e);e.options.session.off("change:mpopInfo",e._handleMPOPStateChange,e);e.collection.off("change:presenceState add",e.updateContactState,e);e.collection.off("change:displayName",e._handleDisplayNameChange,e);e.collection.off(i.ADD_REQUEST_RECEIVED,e._handleAddRequest,e);e.off("notification",this._handleNotification,this);e.collection.off("remove",e._handleContactRemoval,e);if(e._mpopClickListener){e._mpopClickListener.detach()}s.off("change:mimUseTopContacts",e._rerender,e);a.off("change:topContactsEnabled",e._rerender,e);e.collection.off("change:topContact",e._rerender,e)},_getContactObj:function(t){return e.merge(t.attributes,{className:c.getBuddyIconClass(t.get("presenceState"))})},_toggleHideRec:function(){var e=this;if(e._recNode){if(e.winHeight<=l&&e._recHeight){e._recHeight=0;e._recNode.setStyle("display","none");e.node.removeClass("mim-has-ad");e.node.setStyle("bottom","0px");return true}else if(e._recHeight===0&&e.winHeight>l){e._recHeight=170;e._recNode.setStyle("display","block");e.node.addClass("mim-has-ad");e.node.setStyle("bottom","170px");return true}}},checkWinSize:function(){var e=this,t;e.winHeight=c.getWindowHeight();if(e._toggleHideRec()){e._resizePane(e._collapsed?e.minimizedHeight:e._height,e._collapsed)}else if(!e._collapsed){if(e._height+e._recHeight>=e.winHeight-e._topSpacing){t=e.winHeight-e._recHeight-e._topSpacing;if(t>e.minHeight){e._resizePane(t)}}}},getContactsArray:function(){var t=this,i,o=s.getPreference("mimUseTopContacts"),r=e.Messenger.Model.ContactScoring();if(!a.get("topContactsEnabled")){o=false}else if(typeof o==="undefined"){o=r.getTopContacts().length>=5}t.useTopContacts=o;if(t.collection){i=_.map(t.collection.filter(function(e){return o?e.get("topContact"):e.get("presenceState")!==n.STATE.OFFLINE}),function(e){return t._getContactObj(e)});i=_.sortBy(i,function(e){return e.displayName.toLowerCase()});t._buddyArr=_.map(i,function(e){return e.displayName.toLowerCase()});return i}return null},toggleMaximize:function(t){var n=e.Messenger.View.ConversationListView.convListView;if(n){if(n.get("minimized")){r.stat("window_maximize");n.maximize()}else{r.stat("window_minimize");n.minimize()}}if(t&&t.halt){t.halt();return false}},_toggleVisibility:function(e){var t="addClass",n=this;if(e&&e.type){switch(e.type){case"messagepane":case"messagelist":case"author":case"convlist":case"convpane":t="removeClass";break}n.node[t]("disabled")}},_resizePane:function(e,t){if(a.get("triPaneView")){var n=e+this._recHeight;if(!t){this._height=e;s.setPreference("mimCLHeightPref",e)}this.node.setStyle("height",e+"px");this._shellNavPane.setStyle("bottom",n+"px")}},postRender:function(){var t=e.UA.ie?document:window,n=window.NeoConfig,o=e.Messenger.Neo.yui,r=this;r.node=r.node.ancestor("#messenger",true);r.options.session.on("change:presenceState change:presenceMessage",r.updateContactListState,r);r.collection.on("change:presenceState add",r.updateContactState,r);r.collection.on("change:displayName",r._handleDisplayNameChange,r);r.collection.on(i.ADD_REQUEST_RECEIVED,r._handleAddRequest,r);r.collection.on("remove",r._handleContactRemoval,r);r.options.session.on("change:mpopInfo",r._handleMPOPStateChange,r);r._handleMPOPStateChange(r.options.session);s.on("change:mimUseTopContacts",r._rerender,r);a.on("change:topContactsEnabled",r._rerender,r);r.collection.on("change:topContact",r._rerender,r);r._clNode=r.node.one("#mim-cl-view");r._mimContactList=r.node.one("#mim-contact-list");r._tempHeightListeners=[];if(a.get("triPaneView")){o.on("tabChange",r._toggleVisibility,r);r._shellNavPane=e.one("#shellnavigation");r._recNode=e.one("#slot_REC");r._topSpacing=200;r.minHeight=54;r._height=+s.getPreference("mimCLHeightPref");r._recHeight=0;if(n&&!(n.isMailPlus&&!n.isInternal)&&!n.disableREC&&r._recNode){r._recNode.setStyles({position:"fixed",bottom:"0",background:"#f5f5f5",width:"180px",height:"170px",zIndex:"1000"});r.node.addClass("mim-has-ad");r._recHeight=170;r.node.setStyle("bottom",r._recHeight+"px")}r._resizePane(r._collapsed?r.minimizedHeight:r._height,true);if(r._shellNavPane.one("#shellnavigation-inner")){r._shellNavPane.setStyle("overflowY","hidden");r._shellNavPane=r._shellNavPane.one("#shellnavigation-inner")}if(r._shellNavPane){r._listeners.push(e.on("mouseover",e.bind(r._tempReduceHeight,r),r._shellNavPane))}r.checkWinSize();r._listeners.push(e.on("windowresize",e.bind(r.checkWinSize,r),t));if(e.one("body.fullpage")){e.one("#shellcontent").setStyle("width","100%")}}if(r.options.conversationWindow){r.options.conversationWindow.on("change:minimized",this._handleConvMinMax,this);r.options.conversationWindow.on("change:unreadCount",this._handleNotification,this);r._handleNotification(this.options.conversationWindow)}if(!r._collapsed){r._calcButtonWidth()}else{r._pendingButtonCalc=true}e.Messenger.logPerfStats("t_done");if(o){o.fire("mim.changestate",{args:{state:"loaded"}})}r._hoverOver={};r._listeners.push(r.node.delegate("hover",r._hoverContactOver,r._hoverContactOut,"#mim-contact-list > li",r));r._listeners.push(r.node.one(".btn-messenger").on("mousedown",r.handleNavClick,r))},handleNavClick:function(t){var n=this;if(n.node.hasClass("mim-has-msg")&&n.node.hasClass("mim-minimized")){n.toggleMaximize();t.halt()}if(n._pendingButtonCalc){delete n._pendingButtonCalc;e.later(0,n,n._calcButtonWidth)}},_calcButtonWidth:function(){var t=this,n=t.node.one(".mim-presence-state-full button.mim-presence-state .mim-presence-message"),i=t.node.one(".listnav-container").get("offsetWidth")-52,o=e.DOM.getScrollbarWidth();i-=o>0?o:9;if(e.UA.gecko>0){i-=3}i+="px";if(n.getStyle("maxWidth")!==i){n.setStyle("maxWidth",i)}},_handleNotification:function(e){c.showNewMsgNotification(e,this.node)},_handleConvMinMax:function(e){c.handleConvMinMax(e,this.node)},_getInjectPos:function(e){var t,n=e.toLowerCase();this._buddyArr=this._buddyArr||[];t=_.sortedIndex(this._buddyArr,n);if(t===0){this._buddyArr=[n].concat(this._buddyArr)}else if(t===this._buddyArr.length){this._buddyArr.push(n)}else{this._buddyArr=this._buddyArr.slice(0,t).concat(n,this._buddyArr.slice(t))}return t},_removeBuddy:function(e){var t,n=e.toLowerCase();this._buddyArr=this._buddyArr||[];t=_.indexOf(this._buddyArr,n);if(t!==-1){this._buddyArr.splice(t,1)}},events:{"click #mim-show-conversations":"toggleMaximize","click #mim-contact-list > li":"openConversation","mouseleave #mim-contact-list":"_hoverContactListOut","keydown .mim-contact-input":"_handleContactInput","keydown .btn-contact":"_handleKeyContact","keydown #mim-show-conversations":"_handleKeyShowConv","keydown .mim-presence-state-full button.mim-presence-state":"_handleKeyPresenceMenu"},_handleKeyShowConv:function(e){if(e.keyCode===40){c.focusOnPresenceStateMenu(e)}},_handleKeyPresenceMenu:function(t){var n=t.currentTarget.ancestor("#mim-pane"),i=n.one("h2 span[role=button]"),o=n.one("li.btn-contact a"),s;if(t.keyCode===38){if(i!==null){i.focus();t.halt()}}else if(t.keyCode===40){s=e.one("#mim-presence-menu");if(s){s.one("li a").focus();t.halt()}else if(o!==null){o.focus();t.halt()}}},_handleKeyContact:function(e){var t=e.currentTarget.ancestor("#mim-pane");if(e.keyCode===40){if(e.currentTarget.next()!==null){e.currentTarget.next().one("a").focus();e.halt()}else{if(t.next()!==null&&t.next().one("h2 span[role=button]")!==null){t.next().one("h2 span[role=button]").focus();e.halt()}}}else if(e.keyCode===38){if(e.currentTarget.previous()!==null){e.currentTarget.previous().one("a").focus();e.halt()}else{c.focusOnPresenceStateMenu(e)}}else if(e.shiftKey){if(e.keyCode===9){c.focusOnPresenceStateMenu(e)}}else if(e.keyCode===9){if(t.next()!==null&&t.next().one("h2 span[role=button]")!==null){t.next().one("h2 span[role=button]").focus();e.halt()}}},_handleContactInput:function(t){var n,i,o,s;if(t.keyCode===13){n=this.node.one(".mim-contact-input");i=n.get("value");if(i){s=this.options.session.get("loggedInId");o=e.Messenger.View.ConversationListView.convListView;if(o){o.showConversation(i,"yahoo",s)}n.set("value","")}}},openConversation:function(t){if(this.noDblClick){return}var n=this,i=t.currentTarget,o=i.getAttribute("data-id"),s=this.collection.get(o),a=s&&s.get("user"),c=s&&s.get("network"),l=this.options.session.get("loggedInId"),d=e.Messenger.View.ConversationListView.convListView;r.stat("im",{type:"contactlist"});r.stat("frnd");if(d){d.showConversation(a,c,l)}this.noDblClick=true;setTimeout(function(){n.noDblClick=false},300)},showContactMenu:function(t){var n=this,i=n.node.one('li[data-id="'+t+'"]'),o=n.collection.get(t),s=e.one("#shellnavigation").get("offsetWidth");if(n.contactPlugin){n.contactPlugin.showContactMenu({contact:o,item:i,id:t,leftPos:s,hover:true,favorites:true})}},_hoverContactOver:function(t){var n=this,i=t.currentTarget,o=i.getAttribute("data-id");n._hoverOver[o]=true;n._menuTimer=e.later(300,n,function(){if(n._hoverOver[o]){n.showContactMenu(o);n._hoverOver[o]=false}})},_hoverContactOut:function(e){var t=this,n=e.currentTarget,i=n.getAttribute("data-id");if(t._menuTimer){t._menuTimer.cancel()}t._hoverOver[i]=false},_hoverContactListOut:function(){var t=this;e.later(250,t,function(){if(t.contactPlugin&&!t.contactPlugin._contactMenuFocused){t.contactPlugin._hideContactMenu()}})},updateContactState:function(e){var t=e.id,i=this._mimContactList.one('li[data-id="'+t+'"]'),r=e.get("presenceState"),l=this._buddyArr.length,d=s.getPreference("mimUseTopContacts")&&a.get("topContactsEnabled"),h=e.get("topContact"),u,g,m;if(i){if(r===n.STATE.OFFLINE){if(d&&h){c.replaceBuddyIcon(i,r)}else{this._removeBuddy(e.get("displayName"));i.remove()}}else{c.replaceBuddyIcon(i,r)}}else if(!d&&r!==n.STATE.OFFLINE||d&&h){m=o.contact_entry(this._getContactObj(e));g=this._getInjectPos(e.get("displayName"));this._mimContactList.insert(m,g+1)}u=this._buddyArr.length;if(l>0&&u===0){this._clNode.setAttribute("data-empty",true)}else if(l===0&&u>0){this._clNode.setAttribute("data-empty",false)}},updateContactListState:function(e){var t=this,i=e.get("presenceState"),o;if(t.presencePlugin){t.presencePlugin.updateContactListState(e)}o=t._clNode.one("#mim-contact-list").get("children");if(o.size()===0&&i!==n.STATE.OFFLINE){t._clNode.setAttribute("data-empty",true)}else{t._clNode.setAttribute("data-empty",false)}},_handleContactRemoval:function(e){var t=this.node.one('#mim-cl-view li[data-id="'+e.get("id")+'"]');t.remove(true);this._removeBuddy(e.get("displayName"))},_handleDisplayNameChange:function(e){var t;if(e.get("presenceState")===n.STATE.OFFLINE&&!s.getPreference("mimUseTopContacts")){return}t=this.node.one('#mim-cl-view li[data-id="'+e.get("id")+'"]');if(t){t.remove(true)}this._removeBuddy(e.previous("displayName"));this.updateContactState(e)},_handleAddRequest:function(t){var n=e.Messenger.View.ConversationListView.convListView;n.handleAddRequest(t)},_handleMPOPStateChange:function(e){var t=this;if(!e.isPrimary()){t._mpopClickListener=t.node.on("mousedown",function(){e.becomePrimary()},e)}else if(t._mpopClickListener){t._mpopClickListener.detach();delete t._mpopClickListener}}});e.namespace("Messenger.View").ContactListView=t},"@VERSION@",{requires:["messenger-contactlist-css","tictac-mim-rollups","tictac-base-view","messenger-constants","messenger-conversation","messenger-conversationlist","tictac-mim-strings","messenger-usersettings","messenger-viewutils","messenger-utils","messenger-stats","messenger-systemsettings","event-hover","messenger-base-css"]});YUI.add("tictac-base-mailpreferences",function(a){a.namespace("Tictac.base").mailpreferences=function(){var b=window.yui.mail.persist.MetaData;return{get:function(c,d){c=d?d+c:c;var e=b.get(c);return e==="false"?!1:e==="true"?!0:(typeof e=="object"&&e.json&&(e=a.JSON.parse(e.json)),e)},set:function(c,d,e){return c=e?e+c:c,typeof d!="undefined"&&(d===!1?d="false":d===!0?d="true":d instanceof Array&&(d={json:a.JSON.stringify(d)})),b.set(c,d),this},save:function(a){return b.save(a)}}}()},"@VERSION@",{requires:["mail-persist-meta-data","json"]});YUI.add("messenger-msdb-user-preferences",function(e){"use strict";e.Messenger.Common.MSDBUserPreferences=function(){var n=yui.mail.persist.MetaData,r=e.Messenger.Common.Constants,s=e.Tictac.base.mailpreferences;return{get:function(e){var n=s.get(e);if(e==="cg.pref.im.loginpref"){n=this._decodeLoginPref(n)}return n},set:function(e,r){if(e==="cg.pref.im.loginpref"){r=this._encodeLoginPref(r);if(typeof n.get("cg")==="undefined"){n.addAttr("cg",{pref:{im:{}}})}s.set("cg",{pref:{im:{loginpref:r+""}}})}else{s.set(e,r)}return this},save:function(e){return s.save(e)},_decodeLoginPref:function(e){e=parseInt(e,10);if(isNaN(e)){e=r.STATE.OFFLINE}else if(e===12){e=r.STATE.INVISIBLE}return e},_encodeLoginPref:function(e){e=parseInt(e,10);if(isNaN(e)){e=r.STATE.OFFLINE}else if(e===r.STATE.INVISIBLE){e=12}return e}}}()},"@VERSION@",{requires:["mail-persist-meta-data","messenger-constants","tictac-base-mailpreferences"]});YUI.add("tictac-base-dialogview",function(a){"use strict";var b=a.Tictac.base.View,c=a.Tictac.base.ViewUtils,d=a.Tictac.base.rollups,e=a.Tictac.base.strings,f;f=b.extend({render:function(){var d=this;b.prototype.render.apply(d,arguments),typeof d.options.limitToViewport=="undefined"&&(d.options.limitToViewport=!0),d.options.resizable&&(d.minHeight=d.options.minHeight||100,d.minWidth=d.options.minWidth||100,d._enableResize()),d.options.movable&&d._enableMove(),typeof d.options.modal=="undefined"&&(typeof d.modal=="undefined"?d.options.modal=!0:d.options.model=d.modal),typeof d.options.centerOnShow=="undefined"&&(d.options.centerOnShow=!0),d._listeners.push(d.node.on("mousedown",function(){d.onActivate()})),d._listeners.push(d.node.on("keydown",function(a){a.keyCode===27&&(d.hide(),a.halt()),a.stopPropagation()})),d.options.limitToViewport&&d._listeners.push(a.on("resize",function(){d.visible&&c.limitToViewport(d.node)},window))},createDOMNode:function(){var b=this,c={title:b.title||"",hideClose:b.hideClose||!1,description:b.description||"",hasDescription:!!b.description,hideButtons:b.hideButtons||!1,hideCancel:b.hideCancel||!1,okLabel:b.okLabel||e.str_ok,resizable:b.options.resizable,movable:b.options.movable},f=a.Node.create(d.dialog_view(c));return b.renderContent(f.one(".modal-bd")),b._listeners.push(f.all('[data-action="cancel"]').on("click",function(){b.trigger("cancel",b),b.hide()})),b._listeners.push(f.all('[data-action="continue"]').on("click",function(){b.trigger("continue",b),b.hide()})),b._listeners.push(f.on("keydown",b._jailFocus,b)),f.setAttribute("tabindex",0),f},renderContent:function(){},show:function(){var d,e,f=this;f._refocusNode=document.activeElement,b.prototype.show.apply(f,arguments),f.options.centerOnShow&&(d=-f.node.get("offsetWidth")/2,e=-f.node.get("offsetHeight")/2,f.node.setStyle("marginTop",e+"px"),a.Tictac.base.isRTL?(f.node.setStyle("marginRight",d+"px"),f.node.setStyle("right","50%")):(f.node.setStyle("marginLeft",d+"px"),f.node.setStyle("left","50%")),f.node.setStyle("top","50%")),f.options.limitToViewport&&c.limitToViewport(f.node),f.options.modal&&c.showModalBacker(),f.onActivate(),f.focusOnFirstTextNode()},hide:function(){var a=this;b.prototype.hide.call(a),a.options.modal&&c.hideModalBacker(),a._refocusNode&&a._refocusNode.focus()},_showBackingDiv:function(){var b;f._backingDiv||(b=a.Node.create("<div class='mim-backing-div'></div>"),a.one(document.body).append(b),f._backingDiv=b.getDOMNode()),f._backingDiv.style.display="block"},_hideBackingDiv:function(){f._backingDiv.style.display="none"},_enableResize:function(){this.viewResizing=!1,this._listeners.push(this.node.delegate("mousedown",a.bind(this._startResize,this),"[data-resizer]"))},_startResize:function(b){var d=this,e,f;d.viewResizing||(e=d.node.getDOMNode(),f=a.UA.ie?document:window,d.viewResizing=!0,d._showBackingDiv(),c.disableSelection(a.one(document.body)),d.node.addClass("mim-disable-selection"),d.viewInitialX=b.clientX,d.viewInitialY=b.clientY,d.viewInitialWidth=e.offsetWidth,d.viewInitialHeight=e.offsetHeight,d.viewMoveListener=a.on("mousemove",a.bind(d._resize,d),f),d.viewUpListener=a.on("mouseup",a.bind(d._stopResize,d),f),d.winWidth=e.parentElement&&e.parentElement.offsetWidth,d.winHeight=e.parentElement&&e.parentElement.offsetHeight,e.style.opacity=.8)},_resize:function(b){var c=this,d=c.node.getDOMNode(),e=c.node.get("region"),f=b.clientX-c.viewInitialX,g=b.clientY-c.viewInitialY,h=a.Tictac.base.isRTL?c.viewInitialWidth-f:c.viewInitialWidth+f,i=c.viewInitialHeight+g,j=a.Tictac.base.isRTL?e.right:c.winWidth-e.left,k=c.winHeight-e.top;h=Math.max(Math.min(h,j),c.minWidth),i=Math.max(Math.min(i,k),c.minHeight),d.style.width=h+"px",d.style.height=i+"px",c.trigger("resize",{width:h,height:i})},_stopResize:function(){var b=this,d=b.node.getDOMNode();b._hideBackingDiv(),c.enableSelection(a.one(document.body)),b.node.removeClass("mim-disable-selection"),b.viewMoveListener.detach(),b.viewUpListener.detach(),c.limitToViewport(b.node),d.style.opacity=1,b.viewResizing=!1,b.trigger("stopResize")},_enableMove:function(){this.viewMoving=!1,this._listeners.push(this.node.delegate("mousedown",a.bind(this._startMove,this),"[data-mover]"))},_startMove:function(b){var d=this;if(!d.viewMoving&&b.target.getAttribute("data-move")!=="false"){var e=d.node.getDOMNode(),f=a.UA.ie?document:window,g=d.node.get("region");if(b.target.get("nodeName").toLowerCase()==="a")return;d.viewMoving=!0,d._showBackingDiv(),c.disableSelection(a.one(document.body)),d.node.addClass("mim-disable-selection"),d.moveViewPrevX=b.clientX,d.moveViewPrevY=b.clientY,d.moveListener=a.on("mousemove",a.bind(d._move,d),f),d.upListener=a.on("mouseup",a.bind(d._stopMove,d),f),e.style.opacity=.8,e.style.top=g.top-document.body.scrollTop+"px",e.style.left=g.left+"px",e.style.right="auto",e.style.bottom="auto",e.style.marginLeft=0,e.style.marginTop=0,d.winWidth=e.parentElement&&e.parentElement.offsetWidth,d.winHeight=e.parentElement&&e.parentElement.offsetHeight}},_move:function(a){var b=a.clientX-this.moveViewPrevX,c=a.clientY-this.moveViewPrevY,d=this.node.getDOMNode(),e=d.offsetLeft+b,f=d.offsetTop+c;a.clientX>=0&&(!this.winWidth||a.clientX<this.winWidth)&&(this.moveViewPrevX=a.clientX,d.style.left=e+"px"),a.clientY>=0&&(!this.winHeight||a.clientY<this.winHeight)&&(d.style.top=f+"px",this.moveViewPrevY=a.clientY),this.trigger("move")},_stopMove:function(){var b=this.node.getDOMNode();c.limitToViewport(this.node),this._hideBackingDiv(),c.enableSelection(a.one(document.body)),this.node.removeClass("mim-disable-selection"),this.moveListener.detach(),this.upListener.detach(),b.style.opacity=1,this.viewMoving=!1,this.trigger("stopMove")},focusOnFirstTextNode:function(){var a=this.node.one(this.options.focusNodeSelector)||this.node.one("a, button, input, textarea")||this.node;a.focus()},onActivate:function(){var a=this;typeof this.options.zindex=="undefined"?c.bringToFront(a.node):a.node.setStyle("zIndex",this.options.zindex)},_jailFocus:function(a){if(a.keyCode!==9)return;var b=this.node.one("input, textarea, button, a"),c=this.node.one('.modal-ft [data-action="cancel"]')||this.node.one('.modal-ft [data-action="continue"]');c&&document.activeElement===c.getDOMNode()&&!a.shiftKey?((b||this.node).focus(),a.halt()):b&&document.activeElement===b.getDOMNode()&&a.shiftKey&&((c||this.node).focus(),a.halt())}}),a.Tictac.base.DialogView=f},"@VERSION@",{requires:["tictac-base-view","tictac-base-viewutils","tictac-base-rollups","tictac-base-strings"]});/***********************************************************************

 Data model code for fetching attachments

***********************************************************************/YUI.add("tictac-base-formatter",function(a){var b={"default":{decimal:".",delimiter:","},ar:{decimal:",",delimiter:"."},"ar-AE":{decimal:",",delimiter:"."},"ar-BH":{decimal:",",delimiter:"."},"ar-DZ":{decimal:",",delimiter:"."},"ar-EG":{decimal:",",delimiter:"."},"ar-IQ":{decimal:",",delimiter:"."},"ar-JO":{decimal:",",delimiter:"."},"ar-KW":{decimal:",",delimiter:"."},"ar-LB":{decimal:",",delimiter:"."},"ar-LY":{decimal:",",delimiter:"."},"ar-MA":{decimal:",",delimiter:"."},"ar-OM":{decimal:",",delimiter:"."},"ar-QA":{decimal:",",delimiter:"."},"ar-SA":{decimal:",",delimiter:"."},"ar-SD":{decimal:",",delimiter:"."},"ar-SY":{decimal:",",delimiter:"."},"ar-TN":{decimal:",",delimiter:"."},"ar-YE":{decimal:",",delimiter:"."},bg:{decimal:",",delimiter:" "},"bg-BG":{decimal:",",delimiter:" "},bn:{decimal:".",delimiter:","},"bn-BD":{decimal:".",delimiter:","},"bn-IN":{decimal:".",delimiter:","},cs:{decimal:",",delimiter:" "},"cs-CZ":{decimal:",",delimiter:" "},da:{decimal:",",delimiter:"."},"da-DK":{decimal:",",delimiter:"."},de:{decimal:",",delimiter:"."},"de-AT":{decimal:",",delimiter:"."},"de-CH":{decimal:",",delimiter:"."},"de-DE":{decimal:",",delimiter:"."},el:{decimal:",",delimiter:"."},"el-GR":{decimal:",",delimiter:"."},en:{decimal:".",delimiter:","},"en-AU":{decimal:".",delimiter:","},"en-CA":{decimal:".",delimiter:","},"en-GB":{decimal:".",delimiter:","},"en-IE":{decimal:".",delimiter:","},"en-IN":{decimal:".",delimiter:","},"en-JO":{decimal:".",delimiter:","},"en-MY":{decimal:".",delimiter:","},"en-NZ":{decimal:".",delimiter:","},"en-PH":{decimal:".",delimiter:","},"en-SG":{decimal:".",delimiter:","},"en-US":{decimal:".",delimiter:","},"en-ZA":{decimal:".",delimiter:","},es:{decimal:",",delimiter:"."},"es-AR":{decimal:",",delimiter:"."},"es-CL":{decimal:",",delimiter:"."},"es-CO":{decimal:",",delimiter:"."},"es-ES":{decimal:",",delimiter:"."},"es-MX":{decimal:",",delimiter:"."},"es-PE":{decimal:",",delimiter:"."},"es-US":{decimal:",",delimiter:"."},"es-VE":{decimal:",",delimiter:"."},et:{decimal:",",delimiter:" "},"et-EE":{decimal:",",delimiter:" "},fi:{decimal:",",delimiter:" "},"fi-FI":{decimal:",",delimiter:" "},fil:{decimal:".",delimiter:","},"fil-PH":{decimal:".",delimiter:","},fr:{decimal:",",delimiter:" "},"fr-BE":{decimal:",",delimiter:" "},"fr-CA":{decimal:",",delimiter:" "},"fr-CH":{decimal:",",delimiter:" "},"fr-FR":{decimal:",",delimiter:" "},gu:{decimal:".",delimiter:","},"gu-IN":{decimal:".",delimiter:","},he:{decimal:".",delimiter:","},"he-IL":{decimal:".",delimiter:","},hi:{decimal:".",delimiter:","},"hi-IN":{decimal:".",delimiter:","},hr:{decimal:",",delimiter:"."},"hr-HR":{decimal:",",delimiter:"."},hu:{decimal:",",delimiter:" "},"hu-HU":{decimal:",",delimiter:" "},id:{decimal:",",delimiter:"."},"id-ID":{decimal:",",delimiter:"."},it:{decimal:",",delimiter:"."},"it-CH":{decimal:",",delimiter:"."},"it-IT":{decimal:",",delimiter:"."},kn:{decimal:".",delimiter:","},"kn-IN":{decimal:".",delimiter:","},ko:{decimal:".",delimiter:","},"ko-KR":{decimal:".",delimiter:","},lt:{decimal:".",delimiter:","},"lt-LT":{decimal:".",delimiter:","},lv:{decimal:",",delimiter:" "},"lv-LV":{decimal:",",delimiter:" "},ml:{decimal:".",delimiter:","},"ml-IN":{decimal:".",delimiter:","},mr:{decimal:".",delimiter:","},"mr-IN":{decimal:".",delimiter:","},ms:{decimal:".",delimiter:","},"ms-MY":{decimal:".",delimiter:","},nb:{decimal:",",delimiter:" "},"nb-NO":{decimal:",",delimiter:" "},nl:{decimal:",",delimiter:"."},"nl-BE":{decimal:",",delimiter:"."},"nl-NL":{decimal:",",delimiter:"."},pl:{decimal:",",delimiter:" "},"pl-PL":{decimal:",",delimiter:" "},pt:{decimal:",",delimiter:"."},"pt-BR":{decimal:",",delimiter:"."},"pt-PT":{decimal:",",delimiter:"."},ro:{decimal:",",delimiter:"."},"ro-RO":{decimal:",",delimiter:"."},ru:{decimal:",",delimiter:" "},"ru-RU":{decimal:",",delimiter:" "},sk:{decimal:",",delimiter:" "},"sk-SK":{decimal:",",delimiter:" "},sl:{decimal:",",delimiter:"."},"sl-SI":{decimal:",",delimiter:"."},sr:{decimal:",",delimiter:"."},"sr-Cyrl":{decimal:",",delimiter:"."},"sr-Cyrl-RS":{decimal:",",delimiter:"."},sv:{decimal:",",delimiter:" "},"sv-SE":{decimal:",",delimiter:" "},ta:{decimal:".",delimiter:","},"ta-IN":{decimal:".",delimiter:","},te:{decimal:".",delimiter:","},"te-IN":{decimal:".",delimiter:","},th:{decimal:".",delimiter:","},"th-TH":{decimal:".",delimiter:","},tr:{decimal:",",delimiter:"."},"tr-TR":{decimal:",",delimiter:"."},uk:{decimal:",",delimiter:" "},"uk-UA":{decimal:",",delimiter:" "},ur:{decimal:".",delimiter:","},"ur-PK":{decimal:".",delimiter:","},vi:{decimal:",",delimiter:"."},"vi-VN":{decimal:",",delimiter:"."},zh:{decimal:".",delimiter:","},"zh-Hans":{decimal:".",delimiter:","},"zh-Hans-CN":{decimal:".",delimiter:","},"zh-Hant":{decimal:".",delimiter:","},"zh-Hant-HK":{decimal:".",delimiter:","},"zh-Hant-TW":{decimal:".",delimiter:","},last:null},c={"default":"%m/%d/%Y",ar:"%Y/%m/%d","ar-AE":"%Y/%m/%d","ar-BH":"%Y/%m/%d","ar-DZ":"%Y/%m/%d","ar-EG":"%Y/%m/%d","ar-IQ":"%Y/%m/%d","ar-JO":"%Y/%m/%d","ar-KW":"%Y/%m/%d","ar-LB":"%Y/%m/%d","ar-LY":"%Y/%m/%d","ar-MA":"%Y/%m/%d","ar-OM":"%Y/%m/%d","ar-QA":"%Y/%m/%d","ar-SA":"%Y/%m/%d","ar-SD":"%Y/%m/%d","ar-SY":"%Y/%m/%d","ar-TN":"%Y/%m/%d","ar-YE":"%Y/%m/%d",bg:"%d.%m.%Y","bg-BG":"%d.%m.%Y",bn:"%d/%m/%Y","bn-BD":"%d/%m/%Y","bn-IN":"%d/%m/%Y",cs:"%d.%m.%Y","cs-CZ":"%d.%m.%Y",da:"%d/%m/%Y","da-DK":"%d/%m/%Y",de:"%d.%m.%Y","de-AT":"%d.%m.%Y","de-CH":"%d.%m.%Y","de-DE":"%d.%m.%Y",el:"%d/%m/%Y","el-GR":"%d/%m/%Y",en:"%m/%d/%Y","en-AU":"%d/%m/%Y","en-CA":"%Y-%m-%d","en-GB":"%d/%m/%Y","en-IE":"%d/%m/%Y","en-IN":"%d/%m/%Y","en-JO":"%d/%m/%Y","en-MY":"%d/%m/%Y","en-NZ":"%d/%m/%Y","en-PH":"%m/%d/%Y","en-SG":"%d/%m/%Y","en-US":"%m/%d/%Y","en-ZA":"%Y/%m/%d",es:"%d/%m/%Y","es-AR":"%d/%m/%Y","es-CL":"%d-%m-%Y","es-CO":"%d/%m/%Y","es-ES":"%d/%m/%Y","es-MX":"%d/%m/%Y","es-PE":"%d/%m/%Y","es-US":"%m/%d/%Y","es-VE":"%d/%m/%Y",et:"%d.%m.%Y","et-EE":"%d.%m.%Y",fi:"%d.%m.%Y","fi-FI":"%d.%m.%Y",fil:"%m/%d/%Y","fil-PH":"%m/%d/%Y",fr:"%d/%m/%Y","fr-BE":"%d/%m/%Y","fr-CA":"%Y-%m-%d","fr-CH":"%d.%m.%Y","fr-FR":"%d/%m/%Y",gu:"%d-%m-%Y","gu-IN":"%d-%m-%Y",he:"%d/%m/%Y","he-IL":"%d/%m/%Y",hi:"%d-%m-%Y","hi-IN":"%d-%m-%Y",hr:"%d. %m. %Y.","hr-HR":"%d. %m. %Y.",hu:"%Y.%m.%d.","hu-HU":"%Y.%m.%d.",id:"%d/%m/%Y","id-ID":"%d/%m/%Y",it:"%d/%m/%Y","it-CH":"%d.%m.%Y","it-IT":"%d/%m/%Y",kn:"%d-%m-%Y","kn-IN":"%d-%m-%Y",ko:"%Y. %m. %d.","ko-KR":"%Y. %m. %d.",lt:"%Y-%m-%d","lt-LT":"%Y-%m-%d",lv:"%d.%m.%Y","lv-LV":"%d.%m.%Y",ml:"%d/%m/%Y","ml-IN":"%d/%m/%Y",mr:"%d-%m-%Y","mr-IN":"%d-%m-%Y",ms:"%Y-%m-%d","ms-MY":"%Y-%m-%d",nb:"%d.%m.%Y","nb-NO":"%d.%m.%Y",nl:"%d-%m-%Y","nl-BE":"%d/%m/%Y","nl-NL":"%d-%m-%Y",pl:"%d-%m-%Y","pl-PL":"%d-%m-%Y",pt:"%d/%m/%Y","pt-BR":"%d/%m/%Y","pt-PT":"%d/%m/%Y",ro:"%d.%m.%Y","ro-RO":"%d.%m.%Y",ru:"%d.%m.%Y","ru-RU":"%d.%m.%Y",sk:"%d.%m.%Y","sk-SK":"%d.%m.%Y",sl:"%d. %m. %Y","sl-SI":"%d. %m. %Y",sr:"%d.%m.%Y.","sr-Cyrl":"%d.%m.%Y.","sr-Cyrl-RS":"%d.%m.%Y.",sv:"%Y-%m-%d","sv-SE":"%Y-%m-%d",ta:"%d-%m-%Y","ta-IN":"%d-%m-%Y",te:"%d-%m-%Y","te-IN":"%d-%m-%Y",th:"%d/%m/%Y","th-TH":"%d/%m/%Y",tr:"%d.%m.%Y","tr-TR":"%d.%m.%Y",uk:"%d.%m.%Y","uk-UA":"%d.%m.%Y",ur:"%d/%m/%Y","ur-PK":"%d/%m/%Y",vi:"%d/%m/%Y","vi-VN":"%d/%m/%Y",zh:"%Y-%m-%d","zh-Hans":"%Y-%m-%d","zh-Hans-CN":"%Y-%m-%d","zh-Hant":"%Y/%m/%d","zh-Hant-HK":"%Y/%m/%d","zh-Hant-TW":"%Y/%m/%d",last:null};a.namespace("Tictac.base").formatter={getNumberConfig:function(a){return b.hasOwnProperty(a)?b[a]:b["default"]},getDateConfig:function(a){return c.hasOwnProperty(a)?c[a]:c["default"]},getFormattedDate:function(a,b,c,d){var e;return b=b.toString(),c=c.toString(),b.length===1&&(b="0"+b),c.length===1&&(c="0"+c),e=this.getDateConfig(d),e.replace("%Y",a).replace("%m",b).replace("%d",c)}}});YUI.add("tictac-base-utils",function(a){a.namespace("Tictac.base").utils={deentitize:function(a){var b=a.replace(/&gt;/g,">");return b=b.replace(/&lt;/g,"<"),b=b.replace(/&quot;/g,'"'),b=b.replace(/&apos;/g,"'"),b=b.replace(/&amp;/g,"&"),b},subs:function(){var a=arguments[0],b;if(arguments.length===2){var c=arguments[1];for(b in c)c.hasOwnProperty(b)&&(a=a.replace("{{"+b+"}}",c[b]))}else if(arguments.length===3){var d=arguments[2];b=arguments[1],a=a.replace("{{"+b+"}}",d)}return a},getPrettySize:function(b,c){var d=b,e=0,f="str_tictac_att_size_bytes",g=a.Tictac.base,h=g.formatter,i=NeoConfig.lang||"en-US",j;j=g.isRTL?h.getNumberConfig("en-US"):h.getNumberConfig(i);while(d>=1024&&e<3)d/=1024,e++;d=d.toFixed(1).toString();var k=d.split(".");if(k[1]&&k[1]==="0"||c)d=k[0];d=d.replace(".","%dec%").replace(",","%del%"),d=d.replace("%del%",j.delimiter),d=d.replace("%dec%",j.decimal);switch(e){case 1:f="str_tictac_att_size_kb";break;case 2:f="str_tictac_att_size_mb";break;case 3:f="str_tictac_att_size_gb"}return{value:d,label:f}},getWindowSize:function(){var a,b,c=document.body.scrollTop,d=document.body.scrollHeight;return a=window,b="inner","innerWidth"in window||(b="client",a=document.documentElement||document.body),{height:a[b+"Height"],width:a[b+"Width"],scrollTop:c,scrollHeight:d}},getSize:function(b,c){var d=this.getPrettySize(b,c);return this.subs(a.Tictac.base.strings[d.label.replace("_tictac_att_","_")],{size:d.value})},getVal:function(a,b,c){var d=b.split(".");for(var e=0,f=d.length;e<f;e++){var g=d[e];if(!(a!==null&&typeof a=="object"&&g in a))return c;a=a[g]}return a},hasTictacModule:function(b){var c=a.Tictac.base.utils,d="config.groups.tictacs.modules."+b;return c.getVal(a,d)?!0:!1},log:function(){(!window.console||!window.console.log)&&a.each(arguments,function(a){})},parseJSON:function(b){var c=a.Tictac.base.utils.log;if(!b)return c("parseJSON got null str"),null;try{return a.JSON.parse(b)}catch(d){return c("JSON parse failure",d,b),null}},verify:function(b,c){if(!b)throw a.Tictac.base.utils.log(c),c}}},"1.0.0",{requires:["tictac-base-formatter","json","tictac-base-strings"]});YUI.add("base-bidi",function(A){A.mix(A.namespace("Tictac.base.bidi"),{_rtlChars:"[\uD83A\uD83B][\uDC00-\uDFFF]|[\u0590\u05BE\u05C0\u05C3\u05C6\u05C8-\u05FF\u0604\u0605\u0608\u060B\u060D\u061B-\u064A\u065F\u066D-\u066F\u0671-\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u070E\u0710\u0712-\u072F\u074B-\u07A5\u07B1-\u07EA\u07F4\u07F5\u07FA-\u0815\u081A\u0824\u0828\u082E-\u08FF\u200F\uFB1D\uFB1F-\uFB28\uFB2A-\uFD3D\uFD40-\uFDCF\uFDF0-\uFDFC\uFDFE\uFDFF\uFE70-\uFEFE]|\uD803[\uDC00-\uDE5F\uDE7F-\uDFFF]|\uD802[\uDC00-\uDD1E\uDD20-\uDE00\uDE04\uDE07-\uDE0B\uDE10-\uDE37\uDE3B-\uDE3E\uDE40-\uDF38\uDF40-\uDFFF]",_neutralChars:"[\uDB40-\uDB43][\uDC00-\uDFFF]|\uD802[\uDD1F\uDE01-\uDE03\uDE05\uDE06\uDE0C-\uDE0F\uDE38-\uDE3A\uDE3F\uDF39-\uDF3F]|\uD804[\uDC80\uDC81\uDCB3-\uDCB6\uDCB9\uDCBA]|\uD803[\uDE60-\uDE7E]|\uD800[\uDD01\uDD40-\uDD8A\uDD90-\uDD9B\uDDFD]|[\uD83F\uD87F\uD8BF\uD8FF\uD93F\uD97F\uD9BF\uD9FF\uDA3F\uDA7F\uDABF\uDAFF\uDB3F\uDB7F\uDBBF\uDBFF][\uDFFE\uDFFF]|\uD83C[\uDC00-\uDC2B\uDC30-\uDC93\uDD00-\uDD0A]|[\u0000-\u0040\u005B-\u0060\u007B-\u00A9\u00AB-\u00B4\u00B6-\u00B9\u00BB-\u00BF\u00D7\u00F7\u02B9\u02BA\u02C2-\u02CF\u02D2-\u02DF\u02E5-\u02ED\u02EF-\u036F\u0374\u0375\u037E\u0384\u0385\u0387\u03F6\u0483-\u0489\u058A\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0600-\u0603\u0606\u0607\u0609\u060A\u060C\u060E-\u061A\u064B-\u065E\u0660-\u066C\u0670\u06D6-\u06E4\u06E7-\u06ED\u06F0-\u06F9\u070F\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u07F6-\u07F9\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0900-\u0902\u093C\u0941-\u0948\u094D\u0951-\u0955\u0962\u0963\u0981\u09BC\u09C1-\u09C4\u09CD\u09E2\u09E3\u09F2\u09F3\u09FB\u0A01\u0A02\u0A3C\u0A41\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A70\u0A71\u0A75\u0A81\u0A82\u0ABC\u0AC1-\u0AC5\u0AC7\u0AC8\u0ACD\u0AE2\u0AE3\u0AF1\u0B01\u0B3C\u0B3F\u0B41-\u0B44\u0B4D\u0B56\u0B62\u0B63\u0B82\u0BC0\u0BCD\u0BF3-\u0BFA\u0C3E-\u0C40\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C78-\u0C7E\u0CBC\u0CCC\u0CCD\u0CE2\u0CE3\u0CF1\u0CF2\u0D41-\u0D44\u0D4D\u0D62\u0D63\u0DCA\u0DD2-\u0DD4\u0DD6\u0E31\u0E34-\u0E3A\u0E3F\u0E47-\u0E4E\u0EB1\u0EB4-\u0EB9\u0EBB\u0EBC\u0EC8-\u0ECD\u0F18\u0F19\u0F35\u0F37\u0F39-\u0F3D\u0F71-\u0F7E\u0F80-\u0F84\u0F86\u0F87\u0F90-\u0F97\u0F99-\u0FBC\u0FC6\u102D-\u1030\u1032-\u1037\u1039\u103A\u103D\u103E\u1058\u1059\u105E-\u1060\u1071-\u1074\u1082\u1085\u1086\u108D\u109D\u135F\u1390-\u1399\u1400\u1680\u169B\u169C\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17B7-\u17BD\u17C6\u17C9-\u17D3\u17DB\u17DD\u17F0-\u17F9\u1800-\u180E\u18A9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193B\u1940\u1944\u1945\u19DE-\u19FF\u1A17\u1A18\u1A56\u1A58-\u1A5E\u1A60\u1A62\u1A65-\u1A6C\u1A73-\u1A7C\u1A7F\u1B00-\u1B03\u1B34\u1B36-\u1B3A\u1B3C\u1B42\u1B6B-\u1B73\u1B80\u1B81\u1BA2-\u1BA5\u1BA8\u1BA9\u1C2C-\u1C33\u1C36\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE0\u1CE2-\u1CE8\u1CED\u1DC0-\u1DE6\u1DFD-\u1DFF\u1FBD\u1FBF-\u1FC1\u1FCD-\u1FCF\u1FDD-\u1FDF\u1FED-\u1FEF\u1FFD\u1FFE\u2000-\u200D\u2010-\u2070\u2074-\u207E\u2080-\u208E\u20A0-\u20B8\u20D0-\u20F0\u2100\u2101\u2103-\u2106\u2108\u2109\u2114\u2116-\u2118\u211E-\u2123\u2125\u2127\u2129\u212E\u213A\u213B\u2140-\u2144\u214A-\u214D\u2150-\u215F\u2189\u2190-\u2335\u237B-\u2394\u2396-\u23E8\u2400-\u2426\u2440-\u244A\u2460-\u249B\u24EA-\u26AB\u26AD-\u26CD\u26CF-\u26E1\u26E3\u26E8-\u26FF\u2701-\u2704\u2706-\u2709\u270C-\u2727\u2729-\u274B\u274D\u274F-\u2752\u2756-\u275E\u2761-\u2794\u2798-\u27AF\u27B1-\u27BE\u27C0-\u27CA\u27CC\u27D0-\u27FF\u2900-\u2B4C\u2B50-\u2B59\u2CE5-\u2CEA\u2CEF-\u2CF1\u2CF9-\u2CFF\u2DE0-\u2E31\u2E80-\u2E99\u2E9B-\u2EF3\u2F00-\u2FD5\u2FF0-\u2FFB\u3000-\u3004\u3008-\u3020\u302A-\u3030\u3036\u3037\u303D-\u303F\u3099-\u309C\u30A0\u30FB\u31C0-\u31E3\u321D\u321E\u3250-\u325F\u327C-\u327E\u32B1-\u32BF\u32CC-\u32CF\u3377-\u337A\u33DE\u33DF\u33FF\u4DC0-\u4DFF\uA490-\uA4C6\uA60D-\uA60F\uA66F-\uA673\uA67C-\uA67F\uA6F0\uA6F1\uA700-\uA721\uA788\uA802\uA806\uA80B\uA825\uA826\uA828-\uA82B\uA838\uA839\uA874-\uA877\uA8C4\uA8E0-\uA8F1\uA926-\uA92D\uA947-\uA951\uA980-\uA982\uA9B3\uA9B6-\uA9B9\uA9BC\uAA29-\uAA2E\uAA31\uAA32\uAA35\uAA36\uAA43\uAA4C\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uABE5\uABE8\uABED\uFB1E\uFB29\uFD3E\uFD3F\uFDD0-\uFDEF\uFDFD\uFE00-\uFE19\uFE20-\uFE26\uFE30-\uFE52\uFE54-\uFE66\uFE68-\uFE6B\uFEFF\uFF01-\uFF20\uFF3B-\uFF40\uFF5B-\uFF65\uFFE0-\uFFE6\uFFE8-\uFFEE\uFFF0-\uFFFF]|\uD835[\uDEDB\uDF15\uDF4F\uDF89\uDFC3\uDFCE-\uDFFF]|\uD834[\uDD67-\uDD69\uDD73-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD\uDE00-\uDE45\uDF00-\uDF56]",_initializeBidiPatterns:function(){this._rtlPattern=new RegExp("^(?:"+this._neutralChars+")*(?:"+this._rtlChars+")");this._neturalPattern=new RegExp("^(?:"+this._neutralChars+")*$");},setBidiChars:function(B,C){if(B!==undefined){this._rtlChars=B;}if(C!==undefined){this._neutralChars=C;}this._initializeBidiPatterns();},detectDirection:function(C,B){if(this._rtlPattern.test(C)){return"rtl";}else{if(B==="ltr"){return"ltr";}else{if(this._neturalPattern.test(C)){if(B==="rtl"){return"rtl";}else{return"";}}else{return"ltr";}}}}});A.Tictac.base.bidi._initializeBidiPatterns();A.mix(A.namespace("Tictac.base.bidi"),{bidiDirection:A.Tictac.base.bidi.detectDirection});},"1.0.0");
YUI.add("tictac-base-richselect",function(a){function b(){b.superclass.constructor.apply(this,arguments)}var c=a.Tictac.base.rollups,d=a.Tictac.base.ViewUtils;b.NAME="tt-richselect",b.ATTRS={showArrow:!0,classes:"",name:"",items:{value:[]},selectedIndex:{value:0,setter:function(b){var c,d,e;if(this._rendered)if(a.Array.test(b))for(d=0,e=b.length;d<e;d++)b[d]=b[d]===undefined?0:b[d],c=this.get("items")[d][b[d]],this._buttonNode.one(".btn-text").setContent(c.text),this._buttonNode.setAttribute("data-value",c.value);else c=this.get("items")[b],this._buttonNode.one(".btn-text").setContent(c.text),this._buttonNode.setAttribute("data-value",c.value);return b}},tooltip:{value:""}},a.extend(b,a.Base,{initializer:function(){this._listeners=[],this._deferOpenMenuListeners=null,this._closeListener=null,this._rendered=!1,this.publish("change",{emitFacade:!1})},destructor:function(){while(this._listeners.length)this._listeners.pop().detach();this._deferOpenMenuListeners&&this._deferOpenMenuListeners.cancel(),this._closeListener&&this._closeListener.detach(),this._buttonNode&&this._buttonNode.remove(!0),this._menuNode&&this._menuNode.remove(!0)},render:function(b,d){var e=this,f=e.get("items"),g=e.get("name"),h=e.get("selectedIndex"),i=e.get("classes"),j,k,l,m,n,o,p,q,r;if(!f||!f.length)throw new Error("Cannot call render without first populating the menu with at least one item");b.one||(b=a.one(b)),e._multiple=a.Array.test(f[0])!==0,r=b.get("ownerDocument").getDOMNode(),e._buttonNode=a.Node.create(c.richselect_button({buttonText:f[h].text,tooltip:e.get("tooltip"),value:f[h].value,name:g,showArrow:e.get("showArrow")}),r),e._menuNode=a.Node.create(c.richselect_menu(),r),e._multiple?e.set("selectedIndex",new Array(f.length)):f=[f];for(k=0,l=f.length;k<l;k++){p=f[k],q=a.Node.create("<ul data-index='"+k+"'></ul>"),e._menuNode.append(q);for(j=0,m=p.length;j<m;j++)o=p[j],n=a.Node.create(c.richselect_option({text:o.text,value:o.value,css:o.css||"",index:j,tab:k}),r),q.append(n)}typeof d=="undefined"?b.append(e._buttonNode):b.insert(e._buttonNode,d),i&&(e._buttonNode.getDOMNode().className+=" "+i),a.one(r.body).append(e._menuNode),e._listeners.push(e._buttonNode.on("mousedown",function(){e._menuNode.hasClass("hidden")?e._showMenu():e._hideMenu()},e)),e._listeners.push(e._buttonNode.on("keypress",a.bind(function(a){if(a.keyCode===13||a.keyCode===32)a.halt(),e._menuNode.hasClass("hidden")?e._showMenu():e._hideMenu()},e))),e._listeners.push(e._menuNode.delegate("click",a.bind(e._handleMenuClick,e),"li")),e._listeners.push(e._menuNode.delegate("keydown",a.bind(function(a){var b=!0;switch(a.keyCode){case 37:e._moveLeft();break;case 38:e._moveUp();break;case 39:e._moveRight();break;case 40:e._moveDown();break;case 13:case 32:e._handleMenuClick(a);break;default:b=!1}b&&a.halt()},e),"li")),e._listeners.push(e._menuNode.delegate("mousemove",a.bind(e._handleMousemove,e),"li")),e._rendered=!0,e._pendingValueSelection&&e.setSelected(e._pendingValueSelection)},setSelected:function(a){if(!this._rendered)this._pendingValueSelection=a;else{var b=this._menuNode.one('li[data-value="'+a+'"]');b&&this._selectNode(b)}},getSelected:function(){var a=this.get("selectedIndex"),b=this.get("items");return b[a].value},_showMenu:function(){var b=this,c=b._buttonNode.get("region"),e,f,g,h,i,j,k,l,m,n=b.get("selectedIndex");f=b._menuNode.get("ownerDocument").getDOMNode(),e=f.defaultView?f.defaultView:f.parentWindow,this._menuNode.setStyle("left","-10000px"),this._menuNode.removeClass("hidden"),l=this._menuNode.get("offsetWidth"),m=this._menuNode.get("offsetHeight"),j=e.innerWidth?e.innerWidth:f.documentElement.clientWidth,k=e.innerHeight?e.innerHeight:f.documentElement.clientHeight,b._menuNode.setStyle("minWidth",b._buttonNode.get("offsetWidth")),k<c.bottom+m?b._menuNode.setStyle("top",c.top-m+"px"):b._menuNode.setStyle("top",c.bottom+"px"),j<c.left+l?b._menuNode.setStyle("left",c.right-l+"px"):b._menuNode.setStyle("left",c.left+"px"),g=a.UA.ie?a.one(f):a.one(e),b._deferOpenMenuListeners=a.later(1,b,function(){b._closeListener=g.on("mousedown",function(a){a.target.ancestor(".richselect-menu",!0)||(b._hideMenu(),a.halt())})}),d.bringToFront(b._menuNode),b._multiple?b._menuNode.all("ul").each(function(a){for(h=0;h<n.length;h++)parseInt(a.getAttribute("data-index"),10)===h&&(i=n[h]);a.all("li").each(function(a){parseInt(a.getAttribute("data-index"),10)===i&&b._focusElement(a)})}):b._menuNode.all("li").each(function(a,c){c===n&&b._focusElement(a)})},_hideMenu:function(){var a=this;a._menuNode&&a._menuNode.one&&(a._menuNode.addClass("hidden"),a._deferOpenMenuListeners&&a._deferOpenMenuListeners.cancel(),a._closeListener&&(a._closeListener.detach(),a._closeListener=null))},_clearFocusedElements:function(){this._menuNode.all("li").removeClass("focus")},_focusElement:function(a){a&&!a.hasClass("focus")&&(this._clearFocusedElements(),a.focus(),a.addClass("focus"))},_moveUp:function(){var a=this._menuNode.one(".focus");while(a&&a.previous()){a=a.previous();if(a.getComputedStyle("display")!=="none")break}this._focusElement(a||this._menuNode.one("li"))},_moveDown:function(){var a=this._menuNode.one(".focus");while(a&&a.next()){a=a.next();if(a.getComputedStyle("display")!=="none")break}this._focusElement(a||this._menuNode.one("li"))},_moveRight:function(){var a=this._menuNode.one(".focus"),b=a?a.ancestor("ul"):null,c=b?b.next():null,d=c?c.one("li"):null;d&&this._focusElement(d)},_moveLeft:function(){var a=this._menuNode.one(".focus"),b=a?a.ancestor("ul"):null,c=b?b.previous():null,d=c?c.one("li"):null;d&&this._focusElement(d)},_handleMenuClick:function(a){this._selectNode(a.target)},_handleMousemove:function(a){this._focusElement(a.target)},_selectNode:function(a){var b=this,c=parseInt(a.getAttribute("data-index"),10),d=parseInt(a.ancestor("ul").getAttribute("data-index"),10),e,f;b._multiple?(e=b.get("selectedIndex"),e[d]=c,b.set("selectedIndex",e),f=b.get("items")[d][c]):(b.set("selectedIndex",c),f=b.get("items")[c]),b.fire("change",f),b._hideMenu()}}),a.Tictac.base.RichSelect=b},"1.0.0",{requires:["base","node","tictac-base-rollups","tictac-base-viewutils","tictac-richselect-css"]});YUI.add("tictac-base-richtexteditor",function(a){function b(){b.superclass.constructor.apply(this,arguments)}var c=a.Tictac.base.strings,d=a.Tictac.base.rollups,e=a.Tictac.base.utils,f=a.Tictac.base.ViewUtils,g=a.Tictac.base.mailutils;b.NAME="tt-richtexteditor",b.ATTRS={fontSizes:{value:[{name:c.str_rte_font_tiny,value:"1"},{name:c.str_rte_font_small,value:"2"},{name:c.str_rte_font_medium,value:"3"},{name:c.str_rte_font_large,value:"4"},{name:c.str_rte_font_xlarge,value:"5"},{name:c.str_rte_font_huge,value:"6"}]},fontFamilies:{value:g.getFontFamilies()},defaultFontSize:{value:"2"},defaultBgColor:{value:"#ffffff"},defaultFontColor:{value:"#000000"},defaultFontFamily:{value:"Arial"},defaultBold:{value:!1},defaultItalic:{value:!1},defaultUnderline:{value:!1},defaultBulletedList:{value:!1},defaultNumberedList:{value:!1},defaultJustifyLeft:{value:!1},defaultJustifyRight:{value:!1},defaultJustifyCenter:{value:!1},toolbarContainer:{value:null},rteHeight:{value:"200px"},rteWidth:{value:"100%"},defaultDirection:{value:"ltr"},detectBidi:{value:!1},initialCSS:{value:""},showBackgroundColor:{value:!0},showLists:{value:!0},showLayout:{value:!0},showLink:{value:!0}},b.COLOR_PICKER_STORM_HTML='<div class="colorPickerMenu storm"><div class="rte-color-picker groupie" role="menu presentation"></div></div>',b.SUPPORTED_STORM_TEXT_COLORS=[["#000000","#808080","#d0d0d0"],["#9d1811","#cd232c","#d36a53"],["#a46016","#dd902f","#e4ac64"],["#ac9e19","#fdef2b","#fdf869"],["#5b8828","#8fca40","#add773"],["#4c76a2","#70aced","#7dbef1"],["#440062","#652191","#845aa7"],["#9c005c","#cb008e","#d264aa"]],b.SUPPORTED_STORM_BACKGROUND_COLORS=[["#000000","#808080","#ffffff"],["#9d1811","#cd232c","#d36a53"],["#a46016","#dd902f","#e4ac64"],["#ac9e19","#fdef2b","#fdf869"],["#5b8828","#8fca40","#add773"],["#4c76a2","#70aced","#7dbef1"],["#440062","#652191","#845aa7"],["#9c005c","#cb008e","#d264aa"]],b.BODY_CSS_TEMPLATE="body {font-size: {{fontSize}};font-family: {{fontFamily}}; color: {{fontColor}};",b.DOM_EVENTS=["click","mouseup","keyup","paste","keypress","keydown","focus","blur","cut","selectstart"],b.CMD_INSERT_HTML="inserthtml",a.extend(b,a.Base,{initializer:function(){var b=this;b._rendered=!1,b._currentState={bold:b.get("defaultBold"),italic:b.get("defaultItalic"),underline:b.get("defaultUnderline"),bulletedList:b.get("defaultBulletedList"),numberedList:b.get("defaultNumberedList"),justifyLeft:b.get("defaultJustifyLeft"),justifyCenter:b.get("defaultJustifyCenter"),justifyRight:b.get("defaultJustifyRight"),fontSize:b.get("defaultFontSize"),bgColor:b.get("defaultBgColor"),fontColor:b.get("defaultFontColor"),fontFamily:b.get("defaultFontFamily").toLowerCase()},b._initialState=a.clone(b._currentState),b._initialized=!1,b._initListeners=[],b._registeredListeners=[],b._styleOff=!!a.UA.ie,b._yListeners=[],b._dir=null,b._focusListeners=[],b._focused=!1,b._colorPickers={},a.Tictac.base&&a.Tictac.base.bidi&&a.Tictac.base.bidi.detectDirection&&b.set("detectBidi",!0)},destroy:function(){a.UA.ie&&this.blur(),b.superclass.destroy.apply(this,arguments)},destructor:function(){var a=this,b,c;if(a._rendered){a._toolbarContainer.remove(!0),a.frame.parentNode.removeChild(a.frame),delete a.frame.rteObj,delete a.frame;for(b in a._colorPickers)a._colorPickers.hasOwnProperty(b)&&(c=a._colorPickers[b],c.remove(!0),c.timer&&(c.timer.cancel(),delete c.timer));while(a._yListeners.length)a._yListeners.pop().detach();a._fontSizeSelect.destroy()}a._destroyed=!0},onInit:function(a){this._initialized?a():this._initListeners.push(a)},registerEventListener:function(a){this._registeredListeners.push(a)},render:function(b){var e=this,f,g,h,i,j,k=[];if(e._rendered)throw new Error("Error - render method invoked twice for RTE");e._rendered=!0,b=b||document.body,b.getDOMNode&&(b=b.getDOMNode()),j=e.get("toolbarContainer")||b,e.doc=b.ownerDocument,e._toolbarContainer=a.Node.create(d.rte_toolbar({showLists:e.get("showLists"),showLink:e.get("showLink"),showLayout:e.get("showLayout"),showBackgroundColor:e.get("showBackgroundColor")})),j.one||(j=a.one(j)),j.append(e._toolbarContainer),e._toolbarParent=j,e._toolbarParent.addClass("rte-wrapper"),f=e._toolbarContainer.one(".rte-fontsize-select"),h={items:[],tooltip:c.str_comp_font_size_attr},k=[],g=e.get("fontFamilies");for(i=0;i<g.length;i++)k.push({value:g[i].value,text:g[i].name,css:"font-family:"+g[i].value+";"});h.items.push(k),k=[],g=e.get("fontSizes");for(i=0;i<g.length;i++)k.push({value:g[i].value,text:g[i].name,css:"font-size:"+e._convertFontSizeUnit(g[i].value)+";"});h.items.push(k),e._fontSizeSelect=new a.Tictac.base.RichSelect(h),e._fontSizeSelect.setSelected(e._currentState.fontSize),e._fontSizeSelect.render(f),e.frame=e.doc.createElement("iframe"),e.frame.border=0,e.frame.frameBorder=0,e.frame.marginWidth=0,e.frame.marginHeight=0,e.frame.leftMargin=0,e.frame.topMargin=0,e.frame.allowTransparency="true",e.frame.style.height=e.get("rteHeight"),e.frame.style.width=e.get("rteWidth"),e.frame.id="rte-"+(new Date).getTime(),e.frame.rteObj=e,b.appendChild(e.frame),e._finishRender()},_finishRender:function(){var b=this;if(b._destroyed)return;if(typeof b.frame.contentDocument!="undefined")b.frameDocument=b.frame.contentDocument;else if(b.doc.frames){var c=b.doc.frames[b.frame.id];c&&(b.frameDocument=c.document)}if(!b.frameDocument){a.later(10,b,b._finishRender);return}if(a.UA.gecko){var d=b.frameDocument.open(),e="<!DOCTYPE html>\n<html><head><title></title></head><body></body></html>";d.write(e),d.close()}a.later(0,null,function(){b.frameDocument.designMode="on",b._initFrame()})},focus:function(a){var b=this;if(b._disabled)return;if(!this._rendered)throw new Error("Focus called before RTE was rendered");if(!this._initialized){this.onInit(function(){b.focus(a)});return}this._focused?a&&a():(a&&this._focusListeners.push(a),this.frame.contentWindow.focus())},isFocused:function(){return this._focused},blur:function(){if(this.frame&&this._focused)try{a.UA.webkit?this.frameDocument.body.blur():a.UA.gecko?this.frame.blur():a.config.win.focus()}catch(b){}},exec:function(a,b){this._styleOff||this._disableStyleTags();try{this.frameDocument.execCommand(a,!1,b)}catch(c){}},setFontSize:function(a){var b=this;if(b._formattingDisabled)return;b.focus(function(){b.exec("fontsize",a),b._currentState.fontSize=a,b.getTextContent()===""&&(b.set("defaultFontSize",a),b._updateBodyCSS(!0))})},setFontFamily:function(a){if(this._formattingDisabled)return;var b=this;this.focus(function(){b.exec("fontname",a),b._currentState.fontFamily=a,b.getTextContent()===""&&(b.set("defaultFontFamily",a),b._updateBodyCSS(!0))})},setFontColor:function(a){if(this._formattingDisabled)return;var b=this;this.focus(function(){var c=b.getTextContent()==="";b.exec("forecolor",a),b._currentState.fontColor=a,c&&(b.set("defaultFontColor",a),b._updateBodyCSS(!0)),b._fontColorUpdated(a)})},setBgColor:function(a){if(this._formattingDisabled)return;var b=this;this.focus(function(){var c=b.getTextContent()==="";b.exec("backcolor",a),b._currentState.bgColor=a,c&&(b.set("defaultBgColor",a),b._updateBodyCSS(!0)),b._fontColorUpdated(a)})},toggleBold:function(){if(this._formattingDisabled)return;this.exec("bold"),this._currentState.bold=!this._currentState.bold;var a=this._toolbarContainer.one(".rte-bold").get("parentNode");this._currentState.bold?(a.addClass("selected"),a.removeClass("unselected")):(a.removeClass("selected"),a.addClass("unselected")),this.getTextContent()===""&&this.set("defaultBold",this._currentState.bold)},toggleItalic:function(){if(this._formattingDisabled)return;this.exec("italic"),this._currentState.italic=!this._currentState.italic;var a=this._toolbarContainer.one(".rte-italic").get("parentNode");this._currentState.italic?(a.addClass("selected"),a.removeClass("unselected")):(a.removeClass("selected"),a.addClass("unselected")),this.getTextContent()===""&&this.set("defaultItalic",this._currentState.italic)},toggleUnderline:function(){if(this._formattingDisabled)return;this.exec("underline"),this._currentState.underline=!this._currentState.underline;var a=this._toolbarContainer.one(".rte-underline").get("parentNode");this._currentState.underline?(a.addClass("selected"),a.removeClass("unselected")):(a.removeClass("selected"),a.addClass("unselected")),this.getTextContent()===""&&this.set("defaultUnderline",this._currentState.underline)},insertText:function(a,b){this._insert(a,"text",b)},insertHTML:function(a,b){this._insert(a,"html",b)},_insert:function(c,d,e){var f=this;this.focus(function(){a.UA.ie?d==="text"?f.frameDocument.selection.createRange().text=c:f.frameDocument.selection.createRange().pasteHTML(c):f.exec(b.CMD_INSERT_HTML,c),a.later(0,f,function(){f._updateCurrentState(),e&&e()})})},insertBR:function(){a.UA.ie?this.insertHTML("<br/><span></span>"):a.UA.webkit?this.insertHTML("<br/><br/>"):a.UA.gecko?this.insertHTML("<br/><br/>"):this.insertHTML("<br/>")},increaseIndent:function(){if(this._formattingDisabled)return;this.exec("indent")},decreaseIndent:function(){if(this._formattingDisabled)return;this.exec("outdent"),this._updateCurrentState()},toggleBulletedList:function(){if(this._formattingDisabled)return;this.exec("insertUnorderedList"),this._currentState.bulletedList=!this._currentState.bulletedList;var a=this._toolbarContainer.one(".rte-bulleted");a&&(a=a.get("parentNode"),this._currentState.bulletedList?(a.addClass("selected"),a.removeClass("unselected"),this._updateCurrentState()):(a.removeClass("selected"),a.addClass("unselected")))},toggleNumberedList:function(){if(this._formattingDisabled)return;this.exec("insertOrderedList"),this._currentState.numberedList=!this._currentState.numberedList;var a=this._toolbarContainer.one(".rte-numbered");a&&(a=a.get("parentNode"),this._currentState.numberedList?(a.addClass("selected"),a.removeClass("unselected"),this._updateCurrentState()):(a.removeClass("selected"),a.addClass("unselected")))},justifyLeft:function(){if(this._formattingDisabled)return;this.exec("justifyLeft"),this._currentState.justifyLeft=!this._currentState.justifyLeft;var a=this._toolbarContainer.one(".rte-align-left");a&&(a=a.get("parentNode"),a.addClass("selected"),a.removeClass("unselected")),a.addClass("selected"),a.removeClass("unselected"),this._updateCurrentState()},justifyCenter:function(){if(this._formattingDisabled)return;this.exec("justifyCenter"),this._currentState.justifyCenter=!this._currentState.justifyCenter;var a=this._toolbarContainer.one(".rte-align-center");a&&(a=a.get("parentNode"),a.addClass("selected"),a.removeClass("unselected")),a.addClass("selected"),a.removeClass("unselected"),this._updateCurrentState()},justifyRight:function(){if(this._formattingDisabled)return;this.exec("justifyRight"),this._currentState.justifyRight=!this._currentState.justifyRight;var a=this._toolbarContainer.one(".rte-align-right");a&&(a=a.get("parentNode"),a.addClass("selected"),a.removeClass("unselected")),this._updateCurrentState()},insertLink:function(){if(this._formattingDisabled)return;var a=window.prompt("Please enter the URL for the link to point to:","http://");a&&a!==""&&a!=="http://"&&this.exec("createlink",a)},getContent:function(b){if(!this._initialized)return"";var c=this.frameDocument.body.innerHTML||"";c=a.Lang.trim(c),c=c.replace('<span id="cursor"></span>',"");while(c.length>3&&c.lastIndexOf("<br>")===c.length-4)c=c.substring(0,c.length-4);while(c.length>4&&c.lastIndexOf("<br/>")===c.length-5)c=c.substring(0,c.length-5);return b?c:this._generateDefaultWrapperTag(c)},getTextContent:function(b){var c=this,d,e;return c._initialized?(b?(d=c.frameDocument.body.innerHTML,d=d.replace(/<br>|<br\/>|<br \/>/ig,"____BR____"),e=a.Node.create("<div></div>"),e.setHTML(d),d=a.Escape.html(e.get("text")),d=d.replace(/____BR____/g,"<br/>")):d=a.Escape.html(c.frameDocument.body.textContent||c.frameDocument.body.innerText||""),a.Lang.trim(d)):""},getPlainText:function(){var b=this,c=b.frameDocument.body.innerHTML,d=a.Node.create("<div></div>");return c=c.replace(/<br>|<br\/>|<br \/>/ig,"____BR____"),d.setHTML(c),c=d.get("text"),c=c.replace(/____BR____/g,"\r\n"),c},setTextContent:function(b,c,d){var e;d?(e=b.replace(/\n/g,"____BR____"),e=a.Escape.html(e),e=e.replace(/____BR____/g,"<br/>"),this._setContent(e,"html",c)):(e=a.Escape.html(b),this._setContent(e,"text",c))},setHTMLContent:function(a,b){this._setContent(a,"html",b)},_setContent:function(b,c,d){var e=this;if(!e._initialized){e.onInit(function(){e._setContent(b,c,d)});return}e.clear(!0),a.later(0,this,function(){e.focus(function(){e._insert(b,c,d),e._detectTextDirection()})})},getScrollHeight:function(){var a=this.frameDocument.body.scrollHeight;return a},setBodyStyle:function(a,b){this.frameDocument&&this.frameDocument.body&&(this.frameDocument.body.style[a]=b)},getState:function(){return{currentState:a.clone(this._currentState),defaultState:this.getDefaultSettings(),content:this.getContent()}},setState:function(a){var b=this;if(!b._initialized){b.onInit(function(){b.setState(a)});return}b.set("defaultFontSize",a.defaultState.fontSize),b.set("defaultFontFamily",a.defaultState.fontFamily),b.set("defaultFontColor",a.defaultState.fontColor),b.set("defaultBold",a.defaultState.bold),b.set("defaultItalic",a.defaultState.italic),b.set("defaultUnderline",a.defaultState.underline),b.set("defaultDirection",a.defaultState.direction),b.set("defaultBulletedList",a.defaultState.bulletedList),b.set("defaultNumberedList",a.defaultState.numberedList),b.set("defaultJustifyLeft",a.defaultState.justifyLeft),b.set("defaultJustifyCenter",a.defaultState.justifyCenter),b.set("defaultJustifyRight",a.defaultState.justifyRight),b._updateBodyCSS(),a.content!==""?b.setHTMLContent(a.content,function(){b.setCurrentState(a.currentState)}):b.setCurrentState(a.currentState)},setCurrentState:function(a){var b=this;this.focus(function(){a.bold!==b._currentState.bold&&b.toggleBold(),a.italic!==b._currentState.italic&&b.toggleItalic(),a.underline!==b._currentState.underline&&b.toggleUnderline(),a.bulletedList!==b._currentState.bulletedList&&b.toggleBulletedList(),a.numberedList!==b._currentState.numberedList&&b.toggleNumberedList(),a.justifyLeft!==b._currentState.justifyLeft&&b.justifyLeft(),a.justifyCenter!==b._currentState.justifyCenter&&b.justifyCenter(),a.justifyRight!==b._currentState.justifyRight&&b.justifyRight(),a.fontFamily!==b._currentState.fontFamily&&b.setFontFamily(a.fontFamily),a.fontSize!==b._currentState.fontSize&&b.setFontSize(a.fontSize),a.fontColor!==b._currentState.fontColor&&b.setFontColor(a.fontColor),b._syncToolbar()})},clear:function(b){var c=this;this.frameDocument.body.innerHTML=a.UA.webkit?"<span id='cursor'></span>":"",this._dir=null,this._setTextDirection(this.get("defaultDirection"));if(a.UA.webkit){var d=this.frameDocument.createRange();d.selectNode(this.frameDocument.getElementById("cursor"));var e=this.frame.contentWindow.getSelection();e.removeAllRanges(),d.collapse(!0),e.addRange(d)}b||a.later(0,this,function(){this.focus(function(){c._updateCurrentState(),c.get("defaultBold")&&c.toggleBold(),c.get("defaultItalic")&&c.toggleItalic(),c.get("defaultUnderline")&&c.toggleUnderline(),c.get("defaultBulletedList")&&c.toggleBulletedList(),c.get("defaultNumberedList")&&c.toggleNumberedList(),c.get("defaultJustifyLeft")&&c.justifyLeft(),c.get("defaultJustifyCenter")&&c.justifyCenter(),c.get("defaultJustifyRight")&&c.justifyRight()})})},getDefaultSettings:function(){var a=this;return{fontFamily:a.get("defaultFontFamily"),fontSize:a.get("defaultFontSize"),fontColor:a.get("defaultFontColor"),bold:a.get("defaultBold"),italic:a.get("defaultItalic"),underline:a.get("defaultUnderline"),direction:a.get("defaultDirection"),bulletedList:a.get("defaultBulletedList"),numberedList:a.get("defaultNumberedList"),justifyLeft:a.get("defaultJustifyLeft"),justifyRight:a.get("defaultJustifyRight"),justifyCenter:a.get("defaultJustifyCenter")}},disableFormatting:function(a){var b=this;b._initialized?(a||b._removeBodyCSS(),b.removeFormatting(),b._toolbarParent.addClass("hidden"),b._formattingDisabled=!0):b.onInit(function(){b.disableFormatting()})},enableFormatting:function(){var a=this;a._formattingDisabled=!1,a._updateBodyCSS(),a._toolbarParent.removeClass("hidden"),a._syncToolbar()},disable:function(a){var b=this;if(!b._initialized){b.onInit(function(){b.disable(a)});return}b._disabled=a,b.frameDocument.body.style.opacity=a?"0.4":"1",a?b.frame.setAttribute("tabindex","-1"):b.frame.removeAttribute("tabindex")},removeFormatting:function(){this.setHTMLContent(this.getTextContent(!0))},_initFrame:function(){var c=this,d=c.get("initialCSS"),e;if(c._destroyed)return;if(!c.frameDocument.body){a.later(0,c,c._initFrame);return}c._setTextDirection(c.get("defaultDirection")),a.UA.ie||c._disableStyleTags(),c.frameDocument.body.style.wordWrap="break-word",c._updateBodyCSS(),d&&(e=c.frameDocument.createElement("style"),e.type="text/css",e.styleSheet?e.styleSheet.cssText=d:e.appendChild(c.frameDocument.createTextNode(d)),c.frameDocument.getElementsByTagName("head")[0].appendChild(e)),c._yListeners.push(c._toolbarContainer.on("click",a.bind(c._toolbarButtonClicked,c))),c._yListeners.push(c._fontSizeSelect.on("change",a.bind(c._fontSizeSelected,c))),a.mix(a.Node.DOM_EVENTS,{paste:!0,cut:!0}),c.domEvtTarget=a.one(a.UA.ie?c.frameDocument.body:a.UA.webkit?c.frame.contentWindow:c.frameDocument),c._boundDomListener=a.bind(c._domEvent,c);for(var f=0;f<b.DOM_EVENTS.length;f++)c._yListeners.push(c.domEvtTarget.on(b.DOM_EVENTS[f],c._boundDomListener));c._syncToolbar(),c._initialized=!0,c._invokeInitListeners()},_toolbarButtonClicked:function(a){var b=a.target.getDOMNode(),c=this;b.type!=="button"&&b.parentNode.type==="button"&&(b=b.parentNode),b.type==="button"&&c.focus(function(){switch(b.getAttribute("data-action")){case"bold":c.toggleBold();break;case"underline":c.toggleUnderline();break;case"italic":c.toggleItalic();break;case"color":c._showColorPicker("fore",a);break;case"color-back":c._showColorPicker("back",a);break;case"indent":c.increaseIndent();break;case"outdent":c.decreaseIndent();break;case"bulleted":c.toggleBulletedList();break;case"numbered":c.toggleNumberedList();break;case"align-left":c.justifyLeft();break;case"align-center":c.justifyCenter();break;case"link":c.insertLink();break;default:}})},_domEvent:function(b){var c=this,d,e=!1,f,g,h,i;if(c._disabled)return document.activeElement.blur(),b.halt(),!1;if(b&&!b.fakeEvent){a.UA.ie&&b.type==="keypress"?g=b.charCode:g=b.keyCode,b.type.indexOf("on")===0&&(b.type=b.type.substring(2));for(d=0;d<c._registeredListeners.length;d++)e=e||c._registeredListeners[d](b);e&&b.halt();switch(b.type){case"paste":a.later(0,null,function(){c._formattingDisabled?c.removeFormatting():c._updateCurrentState(),c.getContent().indexOf('data-emoticon="true"')!==-1&&(h=new RegExp('<img.*?title="([^"]*)".*?data-emoticon.*?;">',"g"),i=c.getContent().replace(h,"$1"),h=new RegExp('<img.*?data-emoticon.*?title="([^"]*)".*?;">',"g"),c._setContent(i.replace(h,"$1"))),c.get("detectBidi")&&(c._dir=null,c._detectTextDirection())});break;case"cut":a.later(0,c,function(){c._dir&&c.get("detectBidi")&&c.getTextContent()===""&&(c._dir=null,c._setTextDirection(c.get("defaultDirection"))),c._updateCurrentState()});break;case"keydown":b.ctrlKey&&(g===66?(c.toggleBold(),b.halt()):g===73?(c.toggleItalic(),b.halt()):g===85&&(c.toggleUnderline(),b.halt()));break;case"keypress":this._disabled?b.halt():g===13&&!e&&!c._currentState.numberedList&&!c._currentState.bulletedList&&(a.UA.ie||a.UA.webkit)&&(c.insertBR(),b.halt());break;case"keyup":g===8||g>32&&g<47?(c._updateCurrentState(),c.get("detectBidi")&&c._dir&&(f=c.getTextContent(),f===""&&(c._dir=null,c._setTextDirection(c.get("defaultDirection"))))):c.get("detectBidi")&&(c._dir=null,c._detectTextDirection());break;case"click":c._updateCurrentState();break;case"focus":c._focused=!0;while(c._focusListeners.length)c._focusListeners.pop().call();break;case"blur":c._focused=!1;break;default:}}},_colorClicked:function(a,b){var c=a.target.getDOMNode(),d=b.type,e;c.nodeName!=="LI"&&c.parentNode.nodeName==="LI"&&(c=c.parentNode),c.nodeName==="LI"&&(d==="fore"?(e=c.getAttribute("data-value"),this.setFontColor(e)):d==="back"&&(e=c.getAttribute("data-value"),this.setBgColor(e)),this._hideColorPicker(b)),a.halt()},_showColorPicker:function(b,c){var d=this,e;d._colorPickers[b]||(d._colorPickers[b]=d._createColorPicker(b),a.one(a.config.doc.body).append(d._colorPickers[b])),e=d._colorPickers[b],d._positionColorPicker(e,c.clientY,c.clientX),d._updateColorPickerSelection(e),e.removeClass("hidden"),f.bringToFront(e)},_createColorPicker:function(c){var e=this,f,g,h,i,j,k,l;f=a.Node.create(b.COLOR_PICKER_STORM_HTML),f.type=c,g=f.one(".rte-color-picker"),c==="fore"?h=b.SUPPORTED_STORM_TEXT_COLORS:h=b.SUPPORTED_STORM_BACKGROUND_COLORS;for(i=0;i<h.length;i++){k=h[i],l=a.Node.create('<ul data-action="forecolor" role="group">');for(j=0;j<k.length;j++)l.append(a.Node.create(d.rte_storm_color({color:k[j]})));g.append(l)}return e._yListeners.push(f.on("click",function(a){e._colorClicked(a,f)})),e._yListeners.push(f.on("mouseout",function(){f.timer||(f.timer=a.later(2e3,e,a.bind(e._hideColorPicker,e,f)))},e)),e._yListeners.push(f.on("mouseover",function(){f.timer&&(f.timer.cancel(),delete f.timer)},e)),f.timer=a.later(2e3,e,a.bind(e._hideColorPicker,e,f)),f.closeListener=f.get("ownerDocument").on("mousedown",function(a){a.target.ancestor(".rte-color-picker",!0)||e._hideColorPicker(f)},e),e._yListeners.push(f.closeListener),f},_positionColorPicker:function(b,c,d){var e,f;e=b.get("offsetHeight"),c+e>a.config.doc.body.offsetHeight&&(c-=e),f=b.get("offsetWidth"),d+f>a.config.doc.body.offsetWidth&&(d=a.config.doc.body.offsetWidth-f),b.setStyle("top",c+"px"),b.setStyle("left",d+"px")},_updateColorPickerSelection:function(a){var b=a.type==="fore"?this._currentState.fontColor:this._currentState.bgColor;a.all("li").each(function(a){var c=a.one("a"),d=a.getAttribute("data-value");d===b?(c.addClass("icon"),c.addClass("icon-checkmark")):(c.removeClass("icon"),c.removeClass("icon-checkmark"))})},_hideColorPicker:function(a){a.addClass("hidden"),this._ieRange&&delete this._ieRange,a.timer&&(a.timer.cancel(),delete a.timer)},_fontColorUpdated:function(){},_disableStyleTags:function(){try{this.frameDocument.execCommand("styleWithCSS",!1,!1),this.frameDocument.execCommand("useCSS",!1,a.UA.gecko?!0:!1),this._styleOff=!0}catch(b){}},_detectTextDirection:function(){var b=this.getTextContent(),c;b!==""&&(c=a.Tictac.base.bidi.detectDirection(b),c&&(this._dir=c,this._setTextDirection(this._dir)))},_fontSelected:function(a){this.setFontFamily(a.value)},_fontSizeSelected:function(a){a.css.indexOf("font-family")!==-1?this.setFontFamily(a.value):this.setFontSize(a.value)},_setTextDirection:function(a){this.frameDocument.body.style.direction=a},_generateDefaultWrapperTag:function(a){var b=this.getDefaultSettings(),c;return b.fontColor!=="#000000"?c="<font face='"+b.fontFamily+"' size='"+b.fontSize+"' color='"+b.fontColor+"'>"+a+"</font>":c="<font face='"+b.fontFamily+"' size='"+b.fontSize+"'>"+a+"</font>",c},_updateCurrentState:function(){var a=this,b=a.frameDocument,c=!1,d,e,f;try{a._currentState.bold!==b.queryCommandState("bold")&&(a._currentState.bold=!a._currentState.bold,c=!0),a._currentState.underline!==b.queryCommandState("underline")&&(a._currentState.underline=!a._currentState.underline,c=!0),a._currentState.italic!==b.queryCommandState("italic")&&(a._currentState.italic=!a._currentState.italic,c=!0),a._currentState.justifyLeft!==b.queryCommandState("justifyLeft")&&(a._currentState.justifyLeft=!a._currentState.justifyLeft,c=!0),a._currentState.justifyRight!==b.queryCommandState("justifyRight")&&(a._currentState.justifyRight=!a._currentState.justifyRight,c=!0),a._currentState.justifyCenter!==b.queryCommandState("justifyCenter")&&(a._currentState.justifyCenter=!a._currentState.justifyCenter,c=!0),a._currentState.bulletedList!==b.queryCommandState("insertUnorderedList")&&(a._currentState.bulletedList=!a._currentState.bulletedList,c=!0),a._currentState.numberedList!==b.queryCommandState("insertOrderedList")&&(a._currentState.numberedList=!a._currentState.numberedList,c=!0)}catch(g){}try{d=(b.queryCommandValue("fontname")||a.get("defaultFontFamily")).toLowerCase()}catch(g){d=a.get("defaultFontFamily").toLowerCase()}try{e=b.queryCommandValue("fontsize")||a.get("defaultFontSize")}catch(g){e=a.get("defaultFontSize")}try{f=a._convertToHex(b.queryCommandValue("forecolor"))||a.get("defaultFontColor")}catch(g){f=a.get("defaultFontColor")}f!==a._currentState.fontColor&&(a._currentState.fontColor=f,c=!0),d.indexOf(a._currentState.fontFamily)===-1&&(a._currentState.fontFamily=d,c=!0),a._currentState.fontSize!==e&&(a._currentState.fontSize=e,c=!0),c&&a._syncToolbar()},_syncToolbar:function(){function b(b,c){var d=a._toolbarContainer.one(c),e;if(!d)return;e=d.get("parentNode"),b?(e.addClass("selected"),e.removeClass("unselected")):(e.removeClass("selected"),e.addClass("unselected"))}var a=this;b(a._currentState.bold,".rte-bold"),b(a._currentState.italic,".rte-italic"),b(a._currentState.bulletedList,".rte-bulleted"),b(a._currentState.numberedList,".rte-numbered"),b(a._currentState.justifyLeft,".rte-align-left"),b(a._currentState.justifyCenter,".rte-align-center"),b(a._currentState.justifyRight,".rte-align-right");var c=a._fontSizeSelect.get("items")[1],d,e;for(d=0;d<c.length;d++){e=c[d].value.toLowerCase();if(a._currentState.fontFamily.indexOf(e)!==-1){a._currentState.fontFamily=e,a._fontSelect.set("selectedIndex",d);break}}c=a._fontSizeSelect.get("items")[0];for(d=0;d<c.length;d++)if(c[d].value===a._currentState.fontSize){a._fontSizeSelect.set("selectedIndex",d);break}a._fontColorUpdated(a._currentState.fontColor)},_updateBodyCSS:function(a){var c=this,d=e.subs(b.BODY_CSS_TEMPLATE,{fontSize:c._convertFontSizeUnit(c.get("defaultFontSize")),fontFamily:c.get("defaultFontFamily"),fontColor:c.get("defaultFontColor")}),f=c.frameDocument.createElement("style");c._removeBodyCSS(),f.type="text/css",f.id="defaultStyle",f.styleSheet?f.styleSheet.cssText=d:f.appendChild(c.frameDocument.createTextNode(d)),c.frameDocument.getElementsByTagName("head")[0].appendChild(f),a||(c._updateCurrentState(),c.get("defaultBold")&&c.toggleBold(),c.get("defaultItalic")&&c.toggleItalic(),c.get("defaultUnderline")&&c.toggleUnderline(),c.get("defaultBulletedList")&&c.toggleBulletedList(),c.get("defaultNumberedList")&&c.toggleNumberedList(),c.get("defaultJustifyLeft")&&c.justifyLeft(),c.get("defaultJustifyCenter")&&c.justifyCenter(),c.get("defaultJustifyRight")&&c.justifyRight())},_removeBodyCSS:function(){var a=this.frameDocument.getElementById("defaultStyle");a&&a.parentNode.removeChild(a)},_getSelection:function(){if(this.frame.contentWindow&&this.frame.contentWindow.getSelection)return this.frame.contentWindow.getSelection();if(this.frameDocument.getSelection)return this.frameDocument.getSelection();if(this.frameDocument.selection)return this.frameDocument.selection.createRange()},_convertFontSizeUnit:function(a){var b;if(a>7)switch(a){case"10":b="1";break;case"13":b="2";break;case"16":b="3";break;case"18":b="4";break;case"24":b="5";break;case"32":b="6";break;default:b="2"}else switch(a){case"1":b="10px";break;case"2":b="13px";break;case"3":b="16px";break;case"4":b="18px";break;case"5":b="24px";break;case"6":b="32px";break;default:b="13px"}return b},_convertToHex:function(a){function b(a){return a=parseInt(a,10).toString(16),a.length<2?a+"0":a}a=""+a;if(a.match(/^rgb/)===null){var c=(a&255)<<16|a&65280|(a&16711680)>>>16;return c=c.toString(16),"#000000".slice(0,7-c.length)+c}var d=a.match(/\d+/g);return"#"+b(d[0])+b(d[1])+b(d[2])},_invokeInitListeners:function(){while(this._initListeners.length){var a=this._initListeners.shift();a()}}}),a.Tictac.base.RichTextEditor=b},"1.0.0",{requires:["base","node","tictac-base-utils","tictac-base-rollups","tictac-base-richselect","escape","base-bidi","tictac-base-strings","tictac-base-viewutils","tictac-richtexteditor-css","tictac-base-mailutils"]});