YUI.add("mail-ui-workspace-ext",function(A){A.mix(A.mail.ui.Workspace,{_isComposeSaved:function(B){var E=this,D=function(){if(E.getComposeDirtyCount(1,D)===0){B&&B();}},C=this.getComposeDirtyCount(1,D);if(C!==0){return 0;}else{return 1;}},_switchDensity:function(H){var E=A.common.persist.UserData,C="userUIPref.msgListDensity",F=A.one("#msg-list"),G=A.all(".result.content"),B={"ml-regular":0,"ml-compact":1,"ml-open":2},I=H.density,D,J="";if(I){I=I.replace(/density/,"ml");if(F){for(D in B){if(F.hasClass(D)){J=D;break;}}A.Lang.later(0,0,function(){F.replaceClass(J,I);});E.set(C,B[I]||0);E.saveOne(C);}if(G){A.Lang.later(0,0,function(){G.replaceClass(J,I);});}}},setUdbKey:function(B){var G,C,F=document.location,E=A.common.net.SessionMgr,D=F.protocol+"//"+F.host+"/neo/mailoptions?storm=1";C='{"method":"SetUDBData","prefs":'+A.JSON.stringify(B)+"}";G={success:function(){},failure:function(){},suppressCodes:["*"]};E.request(D,C,G,"POST",null,true);},_setupNavigationSwitchForNav:function(H,G){var B=A.one("body"),E=H.type,D,F,C={"notepad":true,"calendar":true,"contacts":true};if(C[E]){A.one("body").setAttribute("data-open",H.type);}else{A.one("body").removeAttribute("data-open");}A.fire("ToolTips:hideTooltips");if(A.UA.ie&&A.UA.ie===8){B._node.className=B._node.className;}},_setupNavigationSwitch:function(H){var C=A.one("body"),F="",B="",G,E={"messenger":true,"searchNav":true,"Folders":true,"notepad":true,"calendar":true,"contacts":true,"multitask":true},D=A.one("#storm-listnav li.nav-toggle");if(H.type&&E[H.type]){F=H.type;D.addClass("nav-separator");D.one("a").setStyle("display","none");}else{D.removeClass("nav-separator");D.one("a").setStyle("display","block");}B=C.getAttribute("data-open");if(B!=F){if(E[F]){G=A.one("#"+F+" .listnav-container");G&&G.setStyle("display","block");}if(E[B]){setTimeout(function(){G=A.one("#"+B+" .listnav-container");G&&G.setStyle("display","none");},200);}}setTimeout(function(){C.setAttribute("data-open",F);},100);A.fire("ToolTips:hideTooltips");if(A.UA.ie&&A.UA.ie===8){C._node.className=C._node.className;}},_setupNavigationToggle:function(){var B=A.one("body"),C;B.toggleClass("nav-toggle-collapsed");if(B.hasClass("nav-toggle-collapsed")){A.all("#storm-listnav > li").each(function(D){if(!D.hasClass("nav-separator")&&!D.hasClass("nav-toggle")){C=D.one("a");C&&C.addClass("s-tp");}});}else{A.all("#storm-listnav li a.s-tp").removeClass("s-tp");A.one("#storm-listnav li.nav-toggle a").addClass("s-tp");}if(A.UA.ie&&A.UA.ie===8){B._node.className=B._node.className;}}},1);},"1.0.0",{requires:["mail-ui-workspace-base"]});